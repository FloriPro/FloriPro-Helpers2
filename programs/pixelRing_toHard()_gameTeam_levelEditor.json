{"gui": {"bottomControll": {"core.js": "bmV3IChjbGFzcyB7DQogICAgZ2V0RWxlbWVudHMoZ3VpKSB7DQogICAgICAgIHJldHVybiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdHlwZTogInNsaWRlciIsDQogICAgICAgICAgICAgICAgZ2V0OiB0aGlzLmdldFpvb20uYmluZCh0aGlzKSwNCiAgICAgICAgICAgICAgICBjaGFuZ2U6IHRoaXMuc2V0Wm9vbS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgIG5hbWU6ICJab29tIiwNCiAgICAgICAgICAgICAgICBtaW46IDAuMSwNCiAgICAgICAgICAgICAgICBtYXg6IDMsDQogICAgICAgICAgICB9DQogICAgICAgIF0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIGdldFpvb20oZWRpdG9yKSB7DQogICAgICAgIHJldHVybiBlZGl0b3Iuem9vbTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIHNldFpvb20oZWRpdG9yLCB2YWx1ZSkgew0KICAgICAgICBlZGl0b3Iuem9vbSA9IHZhbHVlOw0KICAgICAgICBlZGl0b3IuYXBwbHlab29tKCk7DQogICAgfQ0KfSkoKTs="}, "bottomControll.js": "Y2xhc3MgZXhpdE1lX2d1aV9ib3R0b21Db250cm9sbCBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIC8qKg0KICAgICAqIA0KICAgICAqIEBwYXJhbSB7W0h0bWxXaW5kb3csIGV4aXRNZV9ndWldfSBwYXJhbTAgDQogICAgICovDQogICAgYXN5bmMgaW5pdChbd2luZG93LCBndWldKSB7DQogICAgICAgIHRoaXMud2luZG93ID0gd2luZG93Ow0KICAgICAgICB0aGlzLmd1aSA9IGd1aTsNCiAgICAgICAgdGhpcy5wcm9ncmFtcyA9IFtdOw0KDQogICAgICAgIHRoaXMuYmFyID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImJvdHRvbUNvbnRyb2xsIik7DQogICAgICAgIHRoaXMubG9hZEJhcigpOw0KDQogICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVJbmZvcy5iaW5kKHRoaXMpLCA1MDApOw0KICAgIH0NCg0KICAgIGFzeW5jIGxvYWRCYXIoKSB7DQogICAgICAgIHRoaXMuYmFyLmlubmVySFRNTCA9ICIiOw0KDQogICAgICAgIHZhciBpID0gMDsNCiAgICAgICAgdmFyIHNjcmlwdHMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVzKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvYm90dG9tQ29udHJvbGwiKTsNCiAgICAgICAgZm9yICh2YXIgeCBvZiBzY3JpcHRzKSB7DQogICAgICAgICAgICB2YXIgcHJvZyA9IGF3YWl0IFN5c3RlbS5ydW4odGhpcy5QQVRILmZvbGRlcigpICsgIi9ib3R0b21Db250cm9sbC8iICsgeCk7DQogICAgICAgICAgICB0aGlzLnByb2dyYW1zLnB1c2gocHJvZyk7DQogICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBhd2FpdCBwcm9nLmdldEVsZW1lbnRzKHRoaXMuZ3VpKTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgZWxlbWVudCBvZiBlbGVtZW50cykgew0KICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gImJvdHRvbUNvbnRyb2xsRWxlbWVudCI7DQoNCiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOw0KICAgICAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGVsZW1lbnQubmFtZTsNCiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGFiZWwpOw0KDQogICAgICAgICAgICAgICAgdmFyIGlucHV0Ow0KICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gInNsaWRlciIpIHsNCiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOw0KICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gInJhbmdlIjsNCiAgICAgICAgICAgICAgICAgICAgaW5wdXQubWluID0gZWxlbWVudC5taW47DQogICAgICAgICAgICAgICAgICAgIGlucHV0Lm1heCA9IGVsZW1lbnQubWF4Ow0KICAgICAgICAgICAgICAgICAgICBpbnB1dC5zdGVwID0gZWxlbWVudC5zdGVwIHx8IDAuMDE7DQogICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgiYm90dG9tY29udHJvbGxlciIsIGkpDQogICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYXdhaXQgZWxlbWVudC5nZXQodGhpcy5ndWkpOw0KICAgICAgICAgICAgICAgICAgICBpbnB1dC5vbmlucHV0ID0gYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZWxlbWVudC5jaGFuZ2UodGhpcy5ndWksIGlucHV0LnZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dCk7DQogICAgICAgICAgICAgICAgdGhpcy5iYXIuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyB1cGRhdGVJbmZvcygpIHsNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICBmb3IgKHZhciB4IG9mIHRoaXMucHJvZ3JhbXMpIHsNCiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGF3YWl0IHguZ2V0RWxlbWVudHModGhpcy5ndWkpOw0KICAgICAgICAgICAgZm9yICh2YXIgZWxlbWVudCBvZiBlbGVtZW50cykgew0KICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gInNsaWRlciIpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5iYXIucXVlcnlTZWxlY3RvcigiW2JvdHRvbWNvbnRyb2xsZXI9JyIgKyBpICsgIiddIik7DQogICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYXdhaXQgZWxlbWVudC5nZXQodGhpcy5ndWkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQpuZXcgZXhpdE1lX2d1aV9ib3R0b21Db250cm9sbCgpOw==", "elementFunctions": {"core.js": "KGNsYXNzIHsNCiAgICBjb25zdHJ1Y3Rvcih3aW5kb3cpIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSB3aW5kb3cNCiAgICB9DQogICAgY29udGV4dE1lbnVBbGwoKSB7DQogICAgICAgIHJldHVybiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIm5hbWUiOiAicmVtb3ZlIiwNCiAgICAgICAgICAgICAgICAiYWN0aW9uIjogKGVsZW1lbnRzLCBub3dFZGl0aW5nLCBjb250ZW50LCBlZGl0b3IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLm5vd0VkaXRpbmcgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaGlkZUNvbnRlbnRDaGFuZ2VyKCk7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci51cGRhdGVTZWxlY3QoKTsNCg0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudHNbbm93RWRpdGluZ107DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlZGl0b3IuYWxpZ25MaW5lc1tub3dFZGl0aW5nXTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmdlbkFsbEFsaWduTGluZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudC5xdWVyeVNlbGVjdG9yKGBbdXVpZD0iJHtub3dFZGl0aW5nfSJdYCkucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJsYXllciIsDQogICAgICAgICAgICAgICAgImFjdGlvbiI6IChlbGVtZW50cywgbm93RWRpdGluZywgY29udGVudCwgZWRpdG9yKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuQ29udGV4dE1lbnUuc3BlY2lmaWMoew0KICAgICAgICAgICAgICAgICAgICAgICAgIm1vdmUgdG8gdG9wIjogWyh4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge1t7W2lkOnN0cmluZ106ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX2VsZW1lbnR9LCBzdHJpbmcsIEhUTUxFbGVtZW50LCBleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3JdfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBbZWxlbWVudHMsIG5vd0VkaXRpbmcsIGNvbnRlbnQsIGVkaXRvcl0gPSBbeFswXSwgeFsxXSwgeFsyXSwgeFszXV07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZWxlbWVudHMgPSBlZGl0b3IudXRpbC5zZXRMYXllcihlbGVtZW50cywgbm93RWRpdGluZywgZWRpdG9yLnV0aWwuZ2V0TGF5ZXJNYXgoZWxlbWVudHMpICsgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVwZGF0ZUxheWVycygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgW2VsZW1lbnRzLCBub3dFZGl0aW5nLCBjb250ZW50LCBlZGl0b3JdXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtb3ZlIHRvIGJvdHRvbSI6IFsoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtbe1tpZDpzdHJpbmddOmV4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fSwgc3RyaW5nLCBIVE1MRWxlbWVudCwgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yXX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgW2VsZW1lbnRzLCBub3dFZGl0aW5nLCBjb250ZW50LCBlZGl0b3JdID0gW3hbMF0sIHhbMV0sIHhbMl0sIHhbM11dOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5lbGVtZW50cyA9IGVkaXRvci51dGlsLnNldExheWVyKGVsZW1lbnRzLCBub3dFZGl0aW5nLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXBkYXRlTGF5ZXJzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCBbZWxlbWVudHMsIG5vd0VkaXRpbmcsIGNvbnRlbnQsIGVkaXRvcl1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgIm1vdmUgdXAiOiBbKHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAdHlwZSB7W3tbaWQ6c3RyaW5nXTpleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3JfZWxlbWVudH0sIHN0cmluZywgSFRNTEVsZW1lbnQsIGV4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl19DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFtlbGVtZW50cywgbm93RWRpdGluZywgY29udGVudCwgZWRpdG9yXSA9IFt4WzBdLCB4WzFdLCB4WzJdLCB4WzNdXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZWxlbWVudHMgPSBlZGl0b3IudXRpbC5zZXRMYXllcihlbGVtZW50cywgbm93RWRpdGluZywgZWxlbWVudHNbbm93RWRpdGluZ10ubGF5ZXIgKyAyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudXBkYXRlTGF5ZXJzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCBbZWxlbWVudHMsIG5vd0VkaXRpbmcsIGNvbnRlbnQsIGVkaXRvcl1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgIm1vdmUgZG93biI6IFsoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtbe1tpZDpzdHJpbmddOmV4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fSwgc3RyaW5nLCBIVE1MRWxlbWVudCwgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yXX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgW2VsZW1lbnRzLCBub3dFZGl0aW5nLCBjb250ZW50LCBlZGl0b3JdID0gW3hbMF0sIHhbMV0sIHhbMl0sIHhbM11dOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c1tub3dFZGl0aW5nXS5sYXllciA8IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJsYXllciBpcyBhbGxyZWFkeSBsb3dlc3QgMCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5lbGVtZW50cyA9IGVkaXRvci51dGlsLnNldExheWVyKGVsZW1lbnRzLCBub3dFZGl0aW5nLCBlbGVtZW50c1tub3dFZGl0aW5nXS5sYXllciAtIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci51cGRhdGVMYXllcnMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtlbGVtZW50cywgbm93RWRpdGluZywgY29udGVudCwgZWRpdG9yXV0sDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgIH0NCiAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAiaGl0Ym94Ijogew0KICAgICAgICAgICAgICAgICJzZXQiOiB0aGlzLmJveFNldHRpbmdzLA0KICAgICAgICAgICAgICAgICJjcmVhdGUiOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICAgICAgICAgIGUuc3R5bGUuYmFja2dyb3VuZENsaXAgPSAicGFkZGluZy1ib3giOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJlZGl0Q29udGVudCI6IGFzeW5jIChlbGVtZW50LCBub3dFZGl0aW5nLCBjb250ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJzdG9wRWRpdCI6IGFzeW5jIChlbGVtZW50cywgbm93RWRpdGluZywgY29udGVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oInN0b3AgZWRpdCBzaG91bGQgbm90IGJlIGNhbGxlZCBvbiBib3ghIik7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiY29udGV4dE1lbnUiOiBbXQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJlbmVteVNwYXduIjogew0KICAgICAgICAgICAgICAgICJzZXQiOiB0aGlzLmVuZW15U3Bhd24sDQogICAgICAgICAgICAgICAgImNyZWF0ZSI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICAgICAgZS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICJwYWRkaW5nLWJveCI7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBlOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgImVkaXRDb250ZW50IjogYXN5bmMgKGVsZW1lbnQsIG5vd0VkaXRpbmcsIGNvbnRlbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgInN0b3BFZGl0IjogYXN5bmMgKGVsZW1lbnRzLCBub3dFZGl0aW5nLCBjb250ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybigic3RvcCBlZGl0IHNob3VsZCBub3QgYmUgY2FsbGVkIG9uIGJveCEiKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJjb250ZXh0TWVudSI6IFtdDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBib3hTZXR0aW5ncyhlbGVtZW50LCBkb21FTCkgew0KICAgICAgICBkb21FTC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBlbGVtZW50LnN0eWxpbmcuYmFja2dyb3VuZENvbG9yOw0KICAgICAgICBkb21FTC5zdHlsZS5ib3JkZXIgPSBlbGVtZW50LnN0eWxpbmcuYm9yZGVyICsgInB4IHNvbGlkICIgKyBlbGVtZW50LnN0eWxpbmcuYm9yZGVyQ29sb3I7DQogICAgICAgIGRvbUVMLnN0eWxlLm1hcmdpbiA9IChlbGVtZW50LnN0eWxpbmcuYm9yZGVyICogLTEpICsgInB4IjsNCiAgICAgICAgcmV0dXJuIFtdOw0KICAgIH0NCg0KICAgIC8vcm91bmQgY2lyY2xlIHdpdGggc3RhdGljIHNpemUgMTBweA0KICAgIGVuZW15U3Bhd24oZWxlbWVudCwgZG9tRUwpIHsNCiAgICAgICAgZG9tRUwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZWxlbWVudC5zdHlsaW5nLmJhY2tncm91bmRDb2xvcjsNCiAgICAgICAgZG9tRUwuc3R5bGUuYm9yZGVyID0gIiI7DQogICAgICAgIGRvbUVMLnN0eWxlLm1hcmdpbiA9ICIwIg0KICAgICAgICBkb21FTC5zdHlsZS53aWR0aCA9ICIxMHB4IjsNCiAgICAgICAgZG9tRUwuc3R5bGUuaGVpZ2h0ID0gIjEwcHgiOw0KICAgICAgICBkb21FTC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiNTAlIjsNCiAgICAgICAgcmV0dXJuIFtdOw0KICAgIH0NCg0KfSk7"}, "projectEditor.js": "Y2xhc3MgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yIGV4dGVuZHMgU3lzdGVtLnByb2dyYW0uZGVmYXVsdCB7DQogICAgLyoqDQogICAgICogDQogICAgICogQHBhcmFtIHtbSHRtbFdpbmRvdywgZXhpdE1lX2d1aV19IHdpbmRvdyANCiAgICAgKi8NCiAgICBhc3luYyBpbml0KFt3aW5kb3csIGd1aV0pIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSB3aW5kb3c7DQogICAgICAgIHRoaXMuZ2V0UGF0aCA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZ1bmN0aW9uIG5vdCBzZXQhIikNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy5nZXRTYXZlRmlsZSA9ICgpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZ1bmN0aW9uIG5vdCBzZXQhIikNCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy5zZXRQYWdlID0gKGVsZW1lbnRzKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJmdW5jdGlvbiBub3Qgc2V0ISIpDQogICAgICAgIH07DQogICAgICAgIHRoaXMuc2VsZWN0ID0gKGVsZW1lbnQpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImZ1bmN0aW9uIG5vdCBzZXQhIikNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLmFsaWduTGluZXMgPSB7fTsNCiAgICAgICAgdGhpcy5hbGlnbkxpbmVzVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiYWxsQWxpZ25MaW5lcyIpOw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX3V0aWx9DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLnV0aWwgPSBhd2FpdCBTeXN0ZW0ucnVuKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvdXRpbC9wcm9qZWN0RWRpdG9yVXRpbC5qcyIpOw0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge2V4aXRNZV9ndWl9DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLmd1aSA9IGd1aTsNCiAgICAgICAgLyoqDQogICAgICAgICAqIEB0eXBlIHt7W2tleTogc3RyaW5nXTpleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3JfZWxlbWVudH19DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLmVsZW1lbnRzID0ge307DQoNCiAgICAgICAgdGhpcy5lbGVtZW50RnVuY3Rpb25zID0ge307DQogICAgICAgIHRoaXMuY29udGV4dE1lbnVBbGwgPSBbXTsNCiAgICAgICAgYXdhaXQgdGhpcy5pbml0RWxlbWVudEZ1bmN0aW9ucygpOw0KDQogICAgICAgIHRoaXMucmVzaXplID0gZmFsc2U7DQogICAgICAgIHRoaXMubW92aW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlOw0KDQogICAgICAgIHRoaXMubm93RWRpdGluZyA9IG51bGw7DQogICAgICAgIHRoaXMuY29udGVudENoYW5nZXIgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiY29udGVudENoYW5nZXIiKTsNCiAgICAgICAgdGhpcy5jb250ZW50ID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInByb2plY3RDb250ZW50Iik7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbCA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJhbGlnbkxpbmVIb3Jpem9udGFsIik7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiYWxpZ25MaW5lVmVydGljYWwiKTsNCiAgICAgICAgdGhpcy5tYWtlQ29udGVudENoYW5nZXIoKTsNCiAgICAgICAgdGhpcy5vdXRsaW5lT3ZlcmxheSA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvdXRsaW5lT3ZlcmxheSIpOw0KDQogICAgICAgIHRoaXMuem9vbSA9IDE7DQogICAgICAgIHRoaXMuaW5pdFpvb20oKTsNCg0KICAgICAgICB0aGlzLm92ZXJsYXlPdXRsaW5lID0gdHJ1ZTsNCg0KICAgICAgICB0aGlzLnVwZGF0ZUxheWVycyA9ICgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmd1aS5zZXRQYWdlKHRoaXMuZWxlbWVudHMpOw0KDQogICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy51dGlsLmNhcExheWVycyh0aGlzLmVsZW1lbnRzKTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgeCBpbiB0aGlzLmVsZW1lbnRzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRFbGVtZW50KHgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5iaW5kKHRoaXMpOw0KDQogICAgICAgIHRoaXMudXBkYXRlT3ZlcmxheU91dGxpbmUoKTsNCiAgICB9DQoNCiAgICB1cGRhdGVPdmVybGF5T3V0bGluZSgpIHsNCiAgICAgICAgaWYgKHRoaXMub3ZlcmxheU91dGxpbmUpIHsNCiAgICAgICAgICAgIHRoaXMub3V0bGluZU92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLm91dGxpbmVPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBpbml0Wm9vbSgpIHsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9ud2hlZWwiLCAicHJvamVjdEVkaXQiLCAoKGEsIGIsIGMsIGUpID0+IHsNCiAgICAgICAgICAgIGlmICghZS5hbHRLZXkpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCg0KICAgICAgICAgICAgaWYgKGUuZGVsdGFZID4gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuem9vbSAtPSAwLjE7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuem9vbSArPSAwLjE7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmFwcGx5Wm9vbSgpOw0KICAgICAgICB9KS5iaW5kKHRoaXMpKTsNCiAgICB9DQoNCiAgICBhcHBseVpvb20oKSB7DQogICAgICAgIGlmICh0aGlzLnpvb20gPCAwLjEpIHsNCiAgICAgICAgICAgIHRoaXMuem9vbSA9IDAuMTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy56b29tID4gMykgew0KICAgICAgICAgICAgdGhpcy56b29tID0gMzsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUuc2V0UHJvcGVydHkoInpvb20iLCB0aGlzLnpvb20pOw0KICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLnN0eWxlLnNldFByb3BlcnR5KCJ6b29tIiwgdGhpcy56b29tKTsNCiAgICAgICAgdGhpcy5vdXRsaW5lT3ZlcmxheS5zdHlsZS5zZXRQcm9wZXJ0eSgiem9vbSIsIHRoaXMuem9vbSk7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbC5zdHlsZS5zZXRQcm9wZXJ0eSgiem9vbSIsIHRoaXMuem9vbSk7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuc2V0UHJvcGVydHkoInpvb20iLCB0aGlzLnpvb20pOw0KICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMuc3R5bGUuc2V0UHJvcGVydHkoInpvb20iLCB0aGlzLnpvb20pOw0KDQoNCiAgICAgICAgZm9yICh2YXIgeCBvZiB0aGlzLmNvbnRlbnRDaGFuZ2VyLmNoaWxkcmVuKSB7DQogICAgICAgICAgICB4LnN0eWxlLnNldFByb3BlcnR5KCJ6b29tIiwgMSAvIHRoaXMuem9vbSk7DQogICAgICAgIH0NCg0KICAgICAgICAvL2NlbnRlciBwcm9qZWN0Q29udGVudElubmVyV3JhcGVyDQogICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY29udGVudC5vZmZzZXRXaWR0aCAqIHRoaXMuem9vbTsNCiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY29udGVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLnpvb207DQogICAgICAgIHZhciB3aWR0aDIgPSB0aGlzLmNvbnRlbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoOw0KICAgICAgICB2YXIgaGVpZ2h0MiA9IHRoaXMuY29udGVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0Ow0KDQogICAgICAgIHZhciB4ID0gKHdpZHRoMiAtIHdpZHRoKSAvIDI7DQogICAgICAgIHZhciB5ID0gKGhlaWdodDIgLSBoZWlnaHQpIC8gMjsNCg0KICAgICAgICBpZiAoeCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMuY29udGVudC5wYXJlbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCJtYXJnaW4tbGVmdCIsIHggKyAicHgiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuY29udGVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IC14Ow0KICAgICAgICAgICAgdGhpcy5jb250ZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIm1hcmdpbi1sZWZ0IiwgIjBweCIpOw0KICAgICAgICB9DQogICAgICAgIGlmICh5ID4gMCkgew0KICAgICAgICAgICAgdGhpcy5jb250ZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIm1hcmdpbi10b3AiLCB5ICsgInB4Iik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmNvbnRlbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnNjcm9sbFRvcCA9IC15Ow0KICAgICAgICAgICAgdGhpcy5jb250ZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIm1hcmdpbi10b3AiLCAiMHB4Iik7DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIGFzeW5jIGluaXRFbGVtZW50RnVuY3Rpb25zKCkgew0KICAgICAgICB2YXIgZmlsZXMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVzKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvZWxlbWVudEZ1bmN0aW9ucyIpOw0KICAgICAgICBmb3IgKHZhciBmaWxlIG9mIGZpbGVzKSB7DQogICAgICAgICAgICB2YXIgY2xhcyA9IG5ldyAoYXdhaXQgU3lzdGVtLnJ1bih0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2VsZW1lbnRGdW5jdGlvbnMvIiArIGZpbGUpKSh0aGlzLndpbmRvdyk7DQogICAgICAgICAgICB2YXIgaW5mbyA9IGNsYXMuZ2V0KCk7DQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIE9iamVjdC5rZXlzKGluZm8pKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEZ1bmN0aW9uc1t4XSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRWxlbWVudCBmdW5jdGlvbiAiICsgeCArICIgYWxyZWFkeSBleGlzdHMhIik7DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRGdW5jdGlvbnNbeF0gPSBpbmZvW3hdOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgciA9IGNsYXMuY29udGV4dE1lbnVBbGwoKTsNCiAgICAgICAgICAgIGlmIChyICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIHggb2Ygcikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51QWxsLnB1c2goeCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgbWFrZUNvbnRlbnRDaGFuZ2VyKCkgew0KICAgICAgICB2YXIgdHlwZXMgPSBbDQogICAgICAgICAgICB7ICJ0b3AiOiAiLTEwcHgiLCAibGVmdCI6ICItMTBweCIsICJjdXJzb3IiOiAibnctcmVzaXplIiB9LA0KICAgICAgICAgICAgeyAiYm90dG9tIjogIi0xMHB4IiwgImxlZnQiOiAiLTEwcHgiLCAiY3Vyc29yIjogInN3LXJlc2l6ZSIgfSwNCiAgICAgICAgICAgIHsgInRvcCI6ICItMTBweCIsICJyaWdodCI6ICItMTBweCIsICJjdXJzb3IiOiAibmUtcmVzaXplIiB9LA0KICAgICAgICAgICAgeyAiYm90dG9tIjogIi0xMHB4IiwgInJpZ2h0IjogIi0xMHB4IiwgImN1cnNvciI6ICJzZS1yZXNpemUiIH0sDQogICAgICAgIF07DQoNCiAgICAgICAgZm9yICh2YXIgaSBpbiB0eXBlcykgew0KICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAiY29udGVudENoYW5nZXJfYm9tbWwiKTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgeSBvZiBPYmplY3Qua2V5cyh0eXBlc1tpXSkpIHsNCiAgICAgICAgICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSh5LCB0eXBlc1tpXVt5XSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGVsLm9ubW91c2Vkb3duID0gKChpKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5yZXNpemUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlbWVudFR5cGUgPSBpOw0KICAgICAgICAgICAgfSkuYmluZCh0aGlzLCBpKTsNCiAgICAgICAgICAgIGVsLm9udG91Y2hzdGFydCA9ICgoaSkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucmVzaXplID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlTW92ZW1lbnRUeXBlID0gaTsNCiAgICAgICAgICAgIH0pLmJpbmQodGhpcywgaSk7DQogICAgICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLmFwcGVuZENoaWxkKGVsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuY29udGVudENoYW5nZXIucXVlcnlTZWxlY3RvcigiW3dpbmRvd2VsZW1lbnQ9J2NvbnRlbnRDaGFuZ2VyQm9yZGVyJ10iKS5vbm1vdXNlZG93biA9ICgoZSkgPT4gew0KICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmVtZW50VHlwZSA9IHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgibW92ZW1lbnRUeXBlIikpOw0KICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlOw0KICAgICAgICB9KS5iaW5kKHRoaXMpOw0KICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLnF1ZXJ5U2VsZWN0b3IoIlt3aW5kb3dlbGVtZW50PSdjb250ZW50Q2hhbmdlckJvcmRlciddIikub250b3VjaHN0YXJ0ID0gKChlKSA9PiB7DQogICAgICAgICAgICB0aGlzLm1vdXNlTW92ZW1lbnRUeXBlID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJtb3ZlbWVudFR5cGUiKSk7DQogICAgICAgICAgICB0aGlzLm1vdmluZyA9IHRydWU7DQogICAgICAgIH0pLmJpbmQodGhpcyk7DQoNCiAgICAgICAgdGhpcy53aW5kb3cuZ2V0SHRtbCgpLm9ubW91c2V1cCA9ICgoKSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5tb3ZpbmcgfHwgdGhpcy5yZXNpemUpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNsaXBNb3ZlbWVudCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMucmVzaXplID0gZmFsc2U7DQogICAgICAgIH0pLmJpbmQodGhpcyk7DQogICAgICAgIHRoaXMud2luZG93LmdldEh0bWwoKS5vbnRvdWNoZW5kID0gKCgpID0+IHsNCiAgICAgICAgICAgIGlmICh0aGlzLm1vdmluZyB8fCB0aGlzLnJlc2l6ZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuY2xpcE1vdmVtZW50KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLm1vdmluZyA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5yZXNpemUgPSBmYWxzZTsNCiAgICAgICAgfSkuYmluZCh0aGlzKTsNCg0KICAgICAgICBTeXN0ZW0uZXZlbnRIYW5kbGVyLmFkZEV2ZW50SGFuZGxlcigibW91c2Vtb3ZlIiwgdGhpcy5jb250ZW50Q2hhbmdlck1vdmUuYmluZCh0aGlzKSk7DQoNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9uY2xpY2siLCAicHJvamVjdENvbnRlbnRXcmFwZXIiLCBhc3luYyAoXywgX18sIF9fXywgZSkgPT4gew0KICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgid2luZG93ZWxlbWVudCIpICE9ICJwcm9qZWN0Q29udGVudCIgJiYgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJ3aW5kb3dlbGVtZW50IikgIT0gInByb2plY3RDb250ZW50V3JhcGVyIiAmJiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoIndpbmRvd2VsZW1lbnQiKSAhPSAicHJvamVjdENvbnRlbnRJbm5lcldyYXBlciIpIHsgcmV0dXJuIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRpbmcpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5vd0VkaXRpbmcgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVDb250ZW50Q2hhbmdlcigpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZWxlbWVudEZ1bmN0aW9uc1t0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10udHlwZV0uc3RvcEVkaXQodGhpcy5lbGVtZW50cywgdGhpcy5ub3dFZGl0aW5nLCB0aGlzLmNvbnRlbnQpOw0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkRWxlbWVudCh0aGlzLm5vd0VkaXRpbmcpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5ub3dFZGl0aW5nID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMuaGlkZUNvbnRlbnRDaGFuZ2VyKCk7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdCgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAvKnRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJvbmNsaWNrIiwgImNvbnRlbnRDaGFuZ2VyIiwgKF8sIF9fLCBfX18sIGUpID0+IHsNCiAgICAgICAgICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoIndpbmRvd2VsZW1lbnQiKSA9PSAiY29udGVudENoYW5nZXJfYm9tbWwiKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfSBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJ3aW5kb3dlbGVtZW50IikgPT0gImNvbnRlbnRDaGFuZ2VyQm9yZGVyUGFydCIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmVkaXRDb250ZW50KCk7DQogICAgICAgIH0pOyovDQoNCiAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlci5jb250ZXh0c2NyaXB0ID0gKChlKSA9PiB7DQogICAgICAgICAgICB2YXIgb3V0ID0ge307DQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIHRoaXMuY29udGV4dE1lbnVBbGwpIHsNCiAgICAgICAgICAgICAgICBvdXRbeC5uYW1lXSA9IHguYWN0aW9uLmJpbmQodGhpcywgdGhpcy5lbGVtZW50cywgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLmlkLCB0aGlzLmNvbnRlbnQsIHRoaXMpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgcyA9IHRoaXMuZWxlbWVudEZ1bmN0aW9uc1t0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10udHlwZV0uY29udGV4dE1lbnU7DQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIHMpIHsNCiAgICAgICAgICAgICAgICBvdXRbeC5uYW1lXSA9IHguYWN0aW9uLmJpbmQodGhpcywgdGhpcy5lbGVtZW50cywgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLmlkLCB0aGlzLmNvbnRlbnQsIHRoaXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG91dDsNCiAgICAgICAgfSkuYmluZCh0aGlzKTsNCiAgICB9DQoNCiAgICBhc3luYyBjb250ZW50Q2hhbmdlck1vdmUoZSkgew0KICAgICAgICB2YXIgbW92ZW1lbnRYID0gZS5tb3ZlbWVudFggLyB0aGlzLnpvb20NCiAgICAgICAgdmFyIG1vdmVtZW50WSA9IGUubW92ZW1lbnRZIC8gdGhpcy56b29tDQogICAgICAgIGlmICh0aGlzLm1vdmluZyA9PSB0cnVlKSB7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnggKz0gbW92ZW1lbnRYOw0KICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ICs9IG1vdmVtZW50WTsNCiAgICAgICAgICAgIHRoaXMucmVsb2FkRWxlbWVudCh0aGlzLm5vd0VkaXRpbmcpOw0KICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50Q2hhbmdlcigpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXplID09IHRydWUpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlTW92ZW1lbnRUeXBlID09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnggKz0gbW92ZW1lbnRYOw0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSArPSBtb3ZlbWVudFk7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUud2lkdGggLT0gbW92ZW1lbnRYOw0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLmhlaWdodCAtPSBtb3ZlbWVudFk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh0aGlzLm1vdXNlTW92ZW1lbnRUeXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnggKz0gbW92ZW1lbnRYOw0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLndpZHRoIC09IG1vdmVtZW50WDsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQgKz0gbW92ZW1lbnRZOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZU1vdmVtZW50VHlwZSA9PSAyKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ICs9IG1vdmVtZW50WTsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS53aWR0aCArPSBtb3ZlbWVudFg7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0IC09IG1vdmVtZW50WTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubW91c2VNb3ZlbWVudFR5cGUgPT0gMykgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLndpZHRoICs9IG1vdmVtZW50WDsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQgKz0gbW92ZW1lbnRZOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5yZWxvYWRFbGVtZW50KHRoaXMubm93RWRpdGluZyk7DQogICAgICAgICAgICB0aGlzLnNldENvbnRlbnRDaGFuZ2VyKCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIXRoaXMubW92aW5nICYmICF0aGlzLnJlc2l6ZSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLyp2YXIgW21heWJlSG9yaXpvbnRhbCwgbWF5YmVWZXJ0aWNhbF0gPSB0aGlzLmdldFBvc3NpYmxlQWxpZ25MaW5lcygpOw0KDQogICAgICAgIGlmIChtYXliZUhvcml6b250YWwubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5hbGlnbkxpbmVWZXJ0aWNhbC5zdHlsZS50b3AgPSBtYXliZUhvcml6b250YWxbMF0gKyAicHgiOyovDQoNCiAgICAgICAgdmFyIGxpbmUgPSBhd2FpdCB0aGlzLmdldFBvc3NpYmxlQWxpZ25MaW5lcygpOw0KICAgICAgICBpZiAobGluZS50eXBlID09ICItIikgew0KICAgICAgICAgICAgdGhpcy5hbGlnbkxpbmVIb3Jpem9udGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICB0aGlzLmFsaWduTGluZVZlcnRpY2FsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobGluZS50eXBlID09ICJ2ZXJ0aWNhbCIpIHsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbC5zdHlsZS5sZWZ0ID0gbGluZS5wb3MgKyAicHgiOw0KICAgICAgICB9DQogICAgICAgIGlmIChsaW5lLnR5cGUgPT0gImhvcml6b250YWwiKSB7DQogICAgICAgICAgICB0aGlzLmFsaWduTGluZUhvcml6b250YWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgICAgICB0aGlzLmFsaWduTGluZVZlcnRpY2FsLnN0eWxlLnRvcCA9IGxpbmUucG9zICsgInB4IjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGdldE1vdXNlUG9zT25FZGl0b3IoKSB7DQogICAgICAgIHZhciBtb3VzZVBvcyA9IHsgeDogU3lzdGVtLmV2ZW50SGFuZGxlci5tb3VzZS54LCB5OiBTeXN0ZW0uZXZlbnRIYW5kbGVyLm1vdXNlLnkgfTsNCiAgICAgICAgdmFyIGMgPSB0aGlzLmNvbnRlbnQNCiAgICAgICAgdmFyIGVkaXRvciA9IHsgIngiOiBjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsICJ5IjogYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IH07DQoNCiAgICAgICAgZWRpdG9yLnggKj0gdGhpcy56b29tOw0KICAgICAgICBlZGl0b3IueSAqPSB0aGlzLnpvb207DQoNCiAgICAgICAgbW91c2VQb3MueCAtPSBlZGl0b3IueDsNCiAgICAgICAgbW91c2VQb3MueSAtPSBlZGl0b3IueTsNCg0KICAgICAgICBtb3VzZVBvcy54IC89IHRoaXMuem9vbTsNCiAgICAgICAgbW91c2VQb3MueSAvPSB0aGlzLnpvb207DQogICAgICAgIHJldHVybiBtb3VzZVBvczsNCiAgICB9DQoNCiAgICBnZXRQb3NzaWJsZUFsaWduTGluZXMoKSB7DQogICAgICAgIC8vYWxpZ24gbGluZXMNCiAgICAgICAgY29uc3QgbmVhciA9IDM7DQoNCiAgICAgICAgdmFyIGVsZW1lbnRIb3Jpem9udGFsID0gW3RoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSwgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ICsgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0XTsNCiAgICAgICAgdmFyIGVsZW1lbnRWZXJ0aWNhbCA9IFt0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLngsIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueCArIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLndpZHRoXTsNCg0KICAgICAgICB2YXIgbW91c2UgPSB0aGlzLmdldE1vdXNlUG9zT25FZGl0b3IoKTsNCg0KICAgICAgICB2YXIgbGluZSA9IHsgInR5cGUiOiAiLSIsICJwb3MiOiAtMSwgImRpc3RhbmNlIjogLTEgfQ0KICAgICAgICBmb3IgKHZhciB4IG9mIE9iamVjdC5rZXlzKHRoaXMuYWxpZ25MaW5lcykpIHsNCiAgICAgICAgICAgIGlmICh4ID09IHRoaXMubm93RWRpdGluZykgew0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmb3IgKHZhciB5IG9mIHRoaXMuYWxpZ25MaW5lc1t4XS5ob3Jpem9udGFsKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgeiBvZiBlbGVtZW50SG9yaXpvbnRhbCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoLyp5IC0gbmVhciA8IHogJiYgeSArIG5lYXIgPiB6IHx8Ki8geSAtIG5lYXIgPCBtb3VzZS55ICYmIHkgKyBuZWFyID4gbW91c2UueSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9kaXN0YW5jZSBmcm9tIG1vdXNlIHRvIGxpbmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguYWJzKHkgLSBtb3VzZS55KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGxpbmUuZGlzdGFuY2UgfHwgbGluZS5kaXN0YW5jZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuZGlzdGFuY2UgPSBkaXN0YW5jZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lLnBvcyA9IHk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZS50eXBlID0gImhvcml6b250YWwiOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmb3IgKHZhciB5IG9mIHRoaXMuYWxpZ25MaW5lc1t4XS52ZXJ0aWNhbCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIHogaW4gZWxlbWVudFZlcnRpY2FsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgvKnkgLSBuZWFyIDwgZWxlbWVudFZlcnRpY2FsW3pdICYmIHkgKyBuZWFyID4gZWxlbWVudFZlcnRpY2FsW3pdIHx8Ki8geSAtIG5lYXIgPCBtb3VzZS54ICYmIHkgKyBuZWFyID4gbW91c2UueCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9kaXN0YW5jZSBmcm9tIG1vdXNlIHRvIGxpbmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguYWJzKHkgLSBtb3VzZS54KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGxpbmUuZGlzdGFuY2UgfHwgbGluZS5kaXN0YW5jZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuZGlzdGFuY2UgPSBkaXN0YW5jZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lLnBvcyA9IHk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZS50eXBlID0gInZlcnRpY2FsIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvKmZvciAodmFyIHkgb2YgdGhpcy5hbGlnbkxpbmVzW3hdLmhvcml6b250YWwpIHsNCiAgICAgICAgICAgIHZhciBpID0gMDsNCiAgICAgICAgICAgIGZvciAodmFyIHogb2YgZWxlbWVudEhvcml6b250YWwpIHsNCiAgICAgICAgICAgICAgICBpZiAoeSAtIG5lYXIgPCB6ICYmIHkgKyBuZWFyID4geikgew0KICAgICAgICAgICAgICAgICAgICBtYXliZUhvcml6b250YWwucHVzaChwYXJzZUludCh5KSk7DQogICAgICAgICAgICAgICAgICAgIHR5cGVIb3Jpem9udGFsLnB1c2goaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZvciAodmFyIHkgb2YgdGhpcy5hbGlnbkxpbmVzW3hdLnZlcnRpY2FsKSB7DQogICAgICAgICAgICB2YXIgaSA9IDA7DQogICAgICAgICAgICBmb3IgKHZhciB6IG9mIGVsZW1lbnRWZXJ0aWNhbCkgew0KICAgICAgICAgICAgICAgIGlmICh5IC0gbmVhciA8IHogJiYgeSArIG5lYXIgPiB6KSB7DQogICAgICAgICAgICAgICAgICAgIG1heWJlVmVydGljYWwucHVzaChwYXJzZUludCh5KSk7DQogICAgICAgICAgICAgICAgICAgIHR5cGVWZXJ0aWNhbC5wdXNoKGkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICB9DQogICAgICAgIH0qLw0KDQogICAgICAgIC8qDQogICAgICAgIGlmICh0aGlzLm1vdmluZykgew0KICAgICAgICAgICAgdmFyIGNsb3Nlc3RIID0gLTE7DQoNCiAgICAgICAgICAgIGlmIChtYXliZUhvcml6b250YWwubGVuZ3RoICE9IDApDQogICAgICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBtYXliZUhvcml6b250YWwpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHggLSBTeXN0ZW0uZXZlbnRIYW5kbGVyLm1vdXNlLnkpIDwgTWF0aC5hYnMobWF5YmVIb3Jpem9udGFsW2Nsb3Nlc3RdIC0gU3lzdGVtLmV2ZW50SGFuZGxlci5tb3VzZS55KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEggPSBtYXliZUhvcml6b250YWwuaW5kZXhPZih4KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjbG9zZXN0ViA9IC0xOw0KDQogICAgICAgICAgICBpZiAobWF5YmVWZXJ0aWNhbC5sZW5ndGggIT0gMCkNCiAgICAgICAgICAgICAgICBmb3IgKHZhciB4IG9mIG1heWJlVmVydGljYWwpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHggLSBTeXN0ZW0uZXZlbnRIYW5kbGVyLm1vdXNlLngpIDwgTWF0aC5hYnMobWF5YmVWZXJ0aWNhbFtjbG9zZXN0XSAtIFN5c3RlbS5ldmVudEhhbmRsZXIubW91c2UueCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3RWID0gbWF5YmVWZXJ0aWNhbC5pbmRleE9mKHgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgY2xvc2VzdCA9IC0xOw0KICAgICAgICAgICAgaWYgKG1heWJlSG9yaXpvbnRhbFtjbG9zZXN0SF0gPiBtYXliZVZlcnRpY2FsW2Nsb3Nlc3RWXSkgew0KICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBjbG9zZXN0SDsNCiAgICAgICAgICAgICAgICBtYXliZUhvcml6b250YWwgPSBbbWF5YmVIb3Jpem9udGFsW2Nsb3Nlc3RIXV07DQogICAgICAgICAgICAgICAgdHlwZUhvcml6b250YWwgPSBbdHlwZUhvcml6b250YWxbY2xvc2VzdEhdXTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2xvc2VzdCA9IGNsb3Nlc3RWOw0KICAgICAgICAgICAgICAgIG1heWJlVmVydGljYWwgPSBbbWF5YmVWZXJ0aWNhbFtjbG9zZXN0Vl1dOw0KICAgICAgICAgICAgICAgIHR5cGVWZXJ0aWNhbCA9IFt0eXBlVmVydGljYWxbY2xvc2VzdFZdXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5yZXNpemUpIHsNCiAgICAgICAgICAgIHZhciBjbG9zZXN0SCA9IC0xOw0KDQogICAgICAgICAgICBpZiAobWF5YmVIb3Jpem9udGFsLmxlbmd0aCAhPSAwKQ0KICAgICAgICAgICAgICAgIGZvciAodmFyIHggb2YgbWF5YmVIb3Jpem9udGFsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh4IC0gU3lzdGVtLmV2ZW50SGFuZGxlci5tb3VzZS55KSA8IE1hdGguYWJzKG1heWJlSG9yaXpvbnRhbFtjbG9zZXN0XSAtIFN5c3RlbS5ldmVudEhhbmRsZXIubW91c2UueSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3RIID0gbWF5YmVIb3Jpem9udGFsLmluZGV4T2YoeCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY2xvc2VzdFYgPSAtMTsNCg0KICAgICAgICAgICAgaWYgKG1heWJlVmVydGljYWwubGVuZ3RoICE9IDApDQogICAgICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBtYXliZVZlcnRpY2FsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh4IC0gU3lzdGVtLmV2ZW50SGFuZGxlci5tb3VzZS54KSA8IE1hdGguYWJzKG1heWJlVmVydGljYWxbY2xvc2VzdF0gLSBTeXN0ZW0uZXZlbnRIYW5kbGVyLm1vdXNlLngpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0ViA9IG1heWJlVmVydGljYWwuaW5kZXhPZih4KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGNsb3Nlc3QgPSAtMTsNCiAgICAgICAgICAgIGlmIChtYXliZUhvcml6b250YWxbY2xvc2VzdEhdID4gbWF5YmVWZXJ0aWNhbFtjbG9zZXN0Vl0pIHsNCiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gY2xvc2VzdEg7DQogICAgICAgICAgICAgICAgbWF5YmVIb3Jpem9udGFsID0gW21heWJlSG9yaXpvbnRhbFtjbG9zZXN0SF1dOw0KICAgICAgICAgICAgICAgIHR5cGVIb3Jpem9udGFsID0gW3R5cGVIb3Jpem9udGFsW2Nsb3Nlc3RIXV07DQogICAgICAgICAgICAgICAgbWF5YmVWZXJ0aWNhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHR5cGVWZXJ0aWNhbCA9IFtdOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gY2xvc2VzdFY7DQogICAgICAgICAgICAgICAgbWF5YmVWZXJ0aWNhbCA9IFttYXliZVZlcnRpY2FsW2Nsb3Nlc3RWXV07DQogICAgICAgICAgICAgICAgdHlwZVZlcnRpY2FsID0gW3R5cGVWZXJ0aWNhbFtjbG9zZXN0Vl1dOw0KICAgICAgICAgICAgICAgIG1heWJlSG9yaXpvbnRhbCA9IFtdOw0KICAgICAgICAgICAgICAgIHR5cGVIb3Jpem9udGFsID0gW107DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gW21heWJlSG9yaXpvbnRhbCwgbWF5YmVWZXJ0aWNhbCwgdHlwZUhvcml6b250YWwsIHR5cGVWZXJ0aWNhbF07DQogICAgICAgICovDQoNCiAgICAgICAgcmV0dXJuIGxpbmU7DQogICAgfQ0KDQogICAgY2xpcE1vdmVtZW50KCkgew0KICAgICAgICAvKnRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgdmFyIFttYXliZUhvcml6b250YWwsIG1heWJlVmVydGljYWwsIHR5cGVIb3Jpem9udGFsLCB0eXBlVmVydGljYWxdID0gdGhpcy5nZXRQb3NzaWJsZUFsaWduTGluZXMoKTsNCg0KICAgICAgICBpZiAobWF5YmVIb3Jpem9udGFsLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygibm8gaG9yaXpvbnRhbCIpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBtYXJnaW4gPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbdXVpZD0iJHt0aGlzLm5vd0VkaXRpbmd9Il1gKS5zdHlsZS5tYXJnaW4uc3BsaXQoInB4IilbMF0pICogLTE7DQogICAgICAgIGlmIChtYXJnaW4gPT0gTmFOKSB7DQogICAgICAgICAgICBtYXJnaW4gPSAwOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMubW92aW5nKSB7DQogICAgICAgICAgICBpZiAodHlwZUhvcml6b250YWxbMF0gPT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSA9IG1heWJlSG9yaXpvbnRhbFswXSArIG1hcmdpbjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZUhvcml6b250YWxbMF0gPT0gMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSA9IChtYXliZUhvcml6b250YWxbMF0gLSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQpICsgbWFyZ2luOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMucmVzaXplKSB7DQogICAgICAgICAgICBpZiAodHlwZUhvcml6b250YWxbMF0gPT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLmhlaWdodCA9IHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLmhlaWdodCArICh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnkgKyBtYXliZUhvcml6b250YWxbMF0pIC0gbWFyZ2luOw0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSA9IG1heWJlSG9yaXpvbnRhbFswXSArIG1hcmdpbjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZUhvcml6b250YWxbMF0gPT0gMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLmhlaWdodCA9IG1heWJlSG9yaXpvbnRhbFswXSAtIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucmVsb2FkRWxlbWVudCh0aGlzLm5vd0VkaXRpbmcpOw0KICAgICAgICB0aGlzLnNldENvbnRlbnRDaGFuZ2VyKCk7Ki8NCg0KICAgICAgICB0aGlzLmFsaWduTGluZVZlcnRpY2FsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgIC8vbWFrZSB0aGUgZWxlbWVudCBoYXZlIHJvdW5kZWQgcG9zaXRpb25zDQogICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0KTsNCiAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLndpZHRoKTsNCiAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54ID0gTWF0aC5yb3VuZCh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLngpOw0KICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnkgPSBNYXRoLnJvdW5kKHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSk7DQogICAgICAgIA0KDQogICAgICAgIHRoaXMucmVsb2FkRWxlbWVudCh0aGlzLm5vd0VkaXRpbmcpOw0KICAgICAgICB0aGlzLnNldENvbnRlbnRDaGFuZ2VyKCk7DQoNCiAgICAgICAgcmV0dXJuOw0KDQogICAgICAgIHZhciBtYXJnaW4gPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbdXVpZD0iJHt0aGlzLm5vd0VkaXRpbmd9Il1gKS5zdHlsZS5tYXJnaW4uc3BsaXQoInB4IilbMF0pICogLTE7DQogICAgICAgIGlmIChTeXN0ZW0uZXZlbnRIYW5kbGVyLmtleXNEb3duWyJBbHRMZWZ0Il0gPT0gdHJ1ZSkgew0KICAgICAgICAgICAgbWFyZ2luID0gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoU3lzdGVtLmV2ZW50SGFuZGxlci5rZXlzRG93blsiU2hpZnRMZWZ0Il0gPT0gdHJ1ZSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRQb3NzaWJsZUFsaWduTGluZXMoKTsNCiAgICAgICAgY29uc29sZS5sb2cobGluZSk7DQogICAgICAgIGlmIChsaW5lLnR5cGUgPT0gIi0iKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5tb3ZpbmcpIHsNCiAgICAgICAgICAgIGlmIChsaW5lLnR5cGUgPT0gImhvcml6b250YWwiKSB7DQogICAgICAgICAgICAgICAgdmFyIGRpc3RUb3AgPSBNYXRoLmFicyhsaW5lLnBvcyAtIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSk7DQogICAgICAgICAgICAgICAgdmFyIGRpc3RCb3R0b20gPSBNYXRoLmFicyhsaW5lLnBvcyAtICh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnkgKyB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQpKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdFRvcCA8IGRpc3RCb3R0b20pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ID0gbGluZS5wb3MgKyBtYXJnaW47DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ID0gbGluZS5wb3MgLSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQgLSBtYXJnaW47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLnR5cGUgPT0gInZlcnRpY2FsIikgew0KICAgICAgICAgICAgICAgIHZhciBkaXN0TGVmdCA9IE1hdGguYWJzKGxpbmUucG9zIC0gdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54KTsNCiAgICAgICAgICAgICAgICB2YXIgZGlzdFJpZ2h0ID0gTWF0aC5hYnMobGluZS5wb3MgLSAodGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54ICsgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUud2lkdGgpKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdExlZnQgPCBkaXN0UmlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54ID0gbGluZS5wb3MgKyBtYXJnaW47DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54ID0gbGluZS5wb3MgLSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS53aWR0aCAtIG1hcmdpbjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXNpemUpIHsNCiAgICAgICAgICAgIGlmIChsaW5lLnR5cGUgPT0gImhvcml6b250YWwiKSB7DQogICAgICAgICAgICAgICAgdmFyIGRpc3RUb3AgPSBNYXRoLmFicyhsaW5lLnBvcyAtIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSk7DQogICAgICAgICAgICAgICAgdmFyIGRpc3RCb3R0b20gPSBNYXRoLmFicyhsaW5lLnBvcyAtICh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnkgKyB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS5oZWlnaHQpKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdFRvcCA8IGRpc3RCb3R0b20pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0ID0gdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0ICsgKHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueSAtIGxpbmUucG9zKSAtIG1hcmdpbjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy55ID0gbGluZS5wb3MgKyBtYXJnaW47DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0ID0gbGluZS5wb3MgLSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLnR5cGUgPT0gInZlcnRpY2FsIikgew0KICAgICAgICAgICAgICAgIHZhciBkaXN0TGVmdCA9IE1hdGguYWJzKGxpbmUucG9zIC0gdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54KTsNCiAgICAgICAgICAgICAgICB2YXIgZGlzdFJpZ2h0ID0gTWF0aC5hYnMobGluZS5wb3MgLSAodGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnBvcy54ICsgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUud2lkdGgpKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdExlZnQgPCBkaXN0UmlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLnNpemUud2lkdGggPSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10uc2l6ZS53aWR0aCArICh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLnggLSBsaW5lLnBvcykgLSBtYXJnaW47DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5wb3MueCA9IGxpbmUucG9zICsgbWFyZ2luOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5ub3dFZGl0aW5nXS5zaXplLndpZHRoID0gbGluZS5wb3MgLSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10ucG9zLng7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5yZWxvYWRFbGVtZW50KHRoaXMubm93RWRpdGluZyk7DQogICAgICAgIHRoaXMuc2V0Q29udGVudENoYW5nZXIoKTsNCiAgICB9DQoNCiAgICB1cGRhdGVTZWxlY3QoKSB7DQogICAgICAgIGlmICh0aGlzLm5vd0VkaXRpbmcgPT0gbnVsbCkNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0KG51bGwpOw0KICAgICAgICBlbHNlDQogICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ10pOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIA0KICAgICAqIEBwYXJhbSB7e3R5cGU6c3RyaW5nLCBkYXRhOnN0cmluZ3xhbnksIHBvczp7eDpudW1iZXIseTpudW1iZXJ9LCBzaXplOnt3aWR0aDpudW1iZXIsaGVpZ2h0Om51bWJlcn0sIHN0eWxpbmc6YW55fVtdfSBlbGVtZW50cyANCiAgICAgKi8NCiAgICBhc3luYyBsb2FkUHJvamVjdChlbGVtZW50cykgew0KICAgICAgICB0aGlzLmFsaWduTGluZXMgPSB7ICJib3JkZXIiOiB7ICJob3Jpem9udGFsIjogWzAsIHBhcnNlSW50KHRoaXMuZ3VpLnByb2plY3QucGl4ZWxSYXRpby5zcGxpdCgiOiIpWzFdKV0sICJ2ZXJ0aWNhbCI6IFswLCBwYXJzZUludCh0aGlzLmd1aS5wcm9qZWN0LnBpeGVsUmF0aW8uc3BsaXQoIjoiKVswXSldIH0sICJjZW50ZXIiOiB7ICJob3Jpem9udGFsIjogW10sICJ2ZXJ0aWNhbCI6IFtdIH0gfTsNCiAgICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9ICIiOw0KICAgICAgICB0aGlzLmVsZW1lbnRzID0ge307DQoNCiAgICAgICAgZWxlbWVudHMgPSB0aGlzLnV0aWwuc29ydExheWVycyhlbGVtZW50cyk7DQoNCiAgICAgICAgZm9yICh2YXIgeCBvZiBlbGVtZW50cykgew0KICAgICAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KHgsIHRydWUpOw0KICAgICAgICB9DQoNCiAgICAgICAgc2V0VGltZW91dCh0aGlzLmFwcGx5Wm9vbS5iaW5kKHRoaXMpLCAwKQ0KDQogICAgICAgIHRoaXMud2luZG93Lm9uUmVzaXplID0gKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5hcHBseVpvb20oKTsNCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fSBlbGVtZW50DQogICAgICovDQogICAgY3JlYXRlRWxlbWVudChlbGVtZW50LCBmaXJzdCA9IGZhbHNlKSB7DQogICAgICAgIGVsZW1lbnQuaWQgPSBTeXN0ZW0ubWFrZWlkKDEwKTsNCiAgICAgICAgZWxlbWVudC5sYXllciA9IHRoaXMudXRpbC5nZXRMYXllck1heCh0aGlzLmVsZW1lbnRzKSArIDE7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9DQogICAgICAgICAqLw0KICAgICAgICB2YXIgZG9tRUw7DQogICAgICAgIGRvbUVMID0gdGhpcy5lbGVtZW50RnVuY3Rpb25zW2VsZW1lbnQudHlwZV0uY3JlYXRlKGVsZW1lbnQsIGRvbUVMKTsNCg0KICAgICAgICBkb21FTC5jb250ZXh0c2NyaXB0ID0gKChzZWxmKSA9PiB7DQogICAgICAgICAgICB2YXIgb3V0ID0ge307DQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIHRoaXMuY29udGV4dE1lbnVBbGwpIHsNCiAgICAgICAgICAgICAgICBvdXRbeC5uYW1lXSA9IHguYWN0aW9uLmJpbmQodGhpcywgdGhpcy5lbGVtZW50cywgZWxlbWVudC5pZCwgdGhpcy5jb250ZW50LCB0aGlzKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHMgPSB0aGlzLmVsZW1lbnRGdW5jdGlvbnNbc2VsZi50eXBlXS5jb250ZXh0TWVudTsNCiAgICAgICAgICAgIGZvciAodmFyIHggb2Ygcykgew0KICAgICAgICAgICAgICAgIG91dFt4Lm5hbWVdID0geC5hY3Rpb24uYmluZCh0aGlzLCB0aGlzLmVsZW1lbnRzLCBlbGVtZW50LmlkLCB0aGlzLmNvbnRlbnQsIHRoaXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG91dDsNCiAgICAgICAgfSkuYmluZCh0aGlzLCBlbGVtZW50KTsNCg0KICAgICAgICB0aGlzLnNldEVsZW1lbnRJbmZvcm1hdGlvbihlbGVtZW50LCBkb21FTCwgdHJ1ZSk7DQoNCiAgICAgICAgZG9tRUwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmNsaWNrLmJpbmQodGhpcywgZWxlbWVudC5pZCkpOw0KICAgICAgICBkb21FTC5zZXRBdHRyaWJ1dGUoInV1aWQiLCBlbGVtZW50LmlkKQ0KICAgICAgICBkb21FTC5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicHJvamVjdENvbnRlbnRfZWxlbWVudCIpOw0KICAgICAgICB0aGlzLndpbmRvdy5wYXJzZU5ld0h0bWwoKTsNCiAgICAgICAgdGhpcy5lbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7DQogICAgICAgIHRoaXMuY29udGVudC5hcHBlbmRDaGlsZChkb21FTCk7DQoNCiAgICAgICAgdGhpcy5hbGlnbkxpbmVzW2VsZW1lbnQuaWRdID0gdGhpcy5jcmVhdGVBbGlnbkxpbmVzKGVsZW1lbnQuaWQpOw0KICAgICAgICB0aGlzLmdlbkFsbEFsaWduTGluZXMoKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fSBlbGVtZW50IA0KICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRvbUVMIA0KICAgICAqLw0KICAgIHNldEVsZW1lbnRJbmZvcm1hdGlvbihlbGVtZW50LCBkb21FTCwgZmlyc3QgPSBmYWxzZSkgew0KICAgICAgICB2YXIgciA9IHRoaXMuZWxlbWVudEZ1bmN0aW9uc1tlbGVtZW50LnR5cGVdLnNldChlbGVtZW50LCBkb21FTCk7DQoNCiAgICAgICAgaWYgKCFyLmluY2x1ZGVzKCJzdHlsZV9wb3N0aW9uIikpIGRvbUVMLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsNCiAgICAgICAgaWYgKCFyLmluY2x1ZGVzKCJzdHlsZV9sZWZ0IikpIGRvbUVMLnN0eWxlLmxlZnQgPSBlbGVtZW50LnBvcy54ICsgInB4IjsNCiAgICAgICAgaWYgKCFyLmluY2x1ZGVzKCJzdHlsZV90b3AiKSkgZG9tRUwuc3R5bGUudG9wID0gZWxlbWVudC5wb3MueSArICJweCI7DQogICAgICAgIGlmICghci5pbmNsdWRlcygic3R5bGVfd2lkdGgiKSkgZG9tRUwuc3R5bGUud2lkdGggPSBlbGVtZW50LnNpemUud2lkdGggKyAicHgiOw0KICAgICAgICBpZiAoIXIuaW5jbHVkZXMoInN0eWxlX2hlaWdodCIpKSBkb21FTC5zdHlsZS5oZWlnaHQgPSBlbGVtZW50LnNpemUuaGVpZ2h0ICsgInB4IjsNCiAgICAgICAgaWYgKCFyLmluY2x1ZGVzKCJzdHlsZV96SW5kZXgiKSkgZG9tRUwuc3R5bGUuekluZGV4ID0gZWxlbWVudC5sYXllcjsNCg0KICAgICAgICB0aGlzLmd1aS5zZXRQYWdlKHRoaXMuZWxlbWVudHMpOw0KICAgICAgICBpZiAoIWZpcnN0KSB7DQogICAgICAgICAgICB0aGlzLmFsaWduTGluZXNbZWxlbWVudC5pZF0gPSB0aGlzLmNyZWF0ZUFsaWduTGluZXMoZWxlbWVudC5pZCk7DQogICAgICAgICAgICB0aGlzLmdlbkFsbEFsaWduTGluZXMoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGNyZWF0ZUFsaWduTGluZXMoaWQpIHsNCiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzW2lkXTsNCiAgICAgICAgdmFyIG91dCA9IHt9Ow0KICAgICAgICBvdXRbInZlcnRpY2FsIl0gPSBbZWxlbWVudC5wb3MueCwgZWxlbWVudC5wb3MueCArIGVsZW1lbnQuc2l6ZS53aWR0aF07DQogICAgICAgIG91dFsiaG9yaXpvbnRhbCJdID0gW2VsZW1lbnQucG9zLnksIGVsZW1lbnQucG9zLnkgKyBlbGVtZW50LnNpemUuaGVpZ2h0XTsNCiAgICAgICAgcmV0dXJuIG91dDsNCiAgICB9DQoNCiAgICBhc3luYyBlZGl0Q29udGVudCgpIHsNCiAgICAgICAgdGhpcy5lZGl0aW5nID0gdHJ1ZTsNCiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ107DQogICAgICAgIHZhciByID0gYXdhaXQgdGhpcy5lbGVtZW50RnVuY3Rpb25zW2VsZW1lbnQudHlwZV0uZWRpdENvbnRlbnQoZWxlbWVudCwgdGhpcy5ub3dFZGl0aW5nLCB0aGlzLmNvbnRlbnQpOw0KICAgICAgICBpZiAociAhPSB0cnVlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiZWRpdENvbnRlbnQgcmV0dXJuZWQgZmFsc2UiKQ0KICAgICAgICAgICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLm5vd0VkaXRpbmcgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5oaWRlQ29udGVudENoYW5nZXIoKTsNCiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZWxvYWRFbGVtZW50KGlkKSB7DQogICAgICAgIHRoaXMuc2V0RWxlbWVudEluZm9ybWF0aW9uKHRoaXMuZWxlbWVudHNbaWRdLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbdXVpZD0iJHtpZH0iXWApKTsNCiAgICB9DQoNCiAgICBhc3luYyBjbGljayhpZCkgew0KICAgICAgICAvL3RoaXMuZWxlbWVudHNbaWRdLnBvcy54ICs9IDEwOw0KICAgICAgICBpZiAodGhpcy5ub3dFZGl0aW5nICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGluZykgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQucXVlcnlTZWxlY3RvcihgW3V1aWQ9IiR7dGhpcy5ub3dFZGl0aW5nfSJdYCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm5vd0VkaXRpbmcgPSBpZDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50Q2hhbmdlcigpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5xdWVyeVNlbGVjdG9yKGBbdXVpZD0iJHt0aGlzLm5vd0VkaXRpbmd9Il1gKS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLm5vd0VkaXRpbmddLmRhdGEgPSAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImNvbnRlbnRDaGFuZ2VyQ2hhbmdlVGV4dCIpKS52YWx1ZTsNCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImNvbnRlbnRDaGFuZ2VyQ2hhbmdlVGV4dCIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkRWxlbWVudCh0aGlzLm5vd0VkaXRpbmcpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMubm93RWRpdGluZyA9PSBpZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRDb250ZW50KCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5ub3dFZGl0aW5nID0gaWQ7DQogICAgICAgIHRoaXMudXBkYXRlU2VsZWN0KCk7DQogICAgICAgIHRoaXMuc2V0Q29udGVudENoYW5nZXIoKTsNCiAgICB9DQoNCiAgICBzZXRDb250ZW50Q2hhbmdlcigpIHsNCiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzW3RoaXMubm93RWRpdGluZ107DQogICAgICAgIHRoaXMuY29udGVudENoYW5nZXIuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsNCiAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlci5zdHlsZS5sZWZ0ID0gZWxlbWVudC5wb3MueCArICJweCI7DQogICAgICAgIHRoaXMuY29udGVudENoYW5nZXIuc3R5bGUudG9wID0gZWxlbWVudC5wb3MueSArICJweCI7DQogICAgICAgIHRoaXMuY29udGVudENoYW5nZXIuc3R5bGUud2lkdGggPSBlbGVtZW50LnNpemUud2lkdGggKyAicHgiOw0KICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLnN0eWxlLmhlaWdodCA9IGVsZW1lbnQuc2l6ZS5oZWlnaHQgKyAicHgiOw0KICAgICAgICBpZiAoZWxlbWVudC5ub1Jlc2l6ZSkgew0KICAgICAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlci5xdWVyeVNlbGVjdG9yQWxsKCIqW3dpbmRvd2VsZW1lbnQ9J2NvbnRlbnRDaGFuZ2VyX2JvbW1sJ10iKS5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICAgICAgZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgfQ0KICAgIGhpZGVDb250ZW50Q2hhbmdlcigpIHsNCiAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICB0aGlzLmNvbnRlbnRDaGFuZ2VyLnF1ZXJ5U2VsZWN0b3JBbGwoIipbd2luZG93ZWxlbWVudD0nY29udGVudENoYW5nZXJfYm9tbWwnXSIpLmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgICAgIGUuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBnZXQgcHJvamVjdFBhdGgoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmdldFBhdGgoKTsNCiAgICB9DQoNCiAgICBnZXQgc2F2ZUZpbGUoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmdldFNhdmVGaWxlKCk7DQogICAgfQ0KDQogICAgc2V0UGl4ZWxSYXRpbyhyKSB7DQogICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9IHIuc3BsaXQoIjoiKVswXSArICJweCI7DQogICAgICAgIHRoaXMuY29udGVudC5zdHlsZS5oZWlnaHQgPSByLnNwbGl0KCI6IilbMV0gKyAicHgiOw0KDQogICAgICAgIHRoaXMuYWxpZ25MaW5lSG9yaXpvbnRhbC5zdHlsZS5oZWlnaHQgPSByLnNwbGl0KCI6IilbMV0gKyAicHgiOw0KICAgICAgICB0aGlzLmFsaWduTGluZUhvcml6b250YWwuc3R5bGUudG9wID0gIjBweCI7DQogICAgICAgIHRoaXMuYWxpZ25MaW5lVmVydGljYWwuc3R5bGUud2lkdGggPSByLnNwbGl0KCI6IilbMF0gKyAicHgiOw0KICAgICAgICB0aGlzLmFsaWduTGluZVZlcnRpY2FsLnN0eWxlLmxlZnQgPSAiMHB4IjsNCg0KICAgICAgICB0aGlzLmFwcGx5Wm9vbSgpOw0KICAgIH0NCg0KICAgIGdlbkFsbEFsaWduTGluZXMoKSB7DQogICAgICAgIGlmICghdGhpcy5hbGlnbkxpbmVzVmlzaWJsZSkgeyByZXR1cm4gfQ0KICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMuaW5uZXJIVE1MID0gIiI7DQoNCiAgICAgICAgZm9yICh2YXIgeCBpbiB0aGlzLmFsaWduTGluZXMpIHsNCiAgICAgICAgICAgIHZhciBsaW5lcyA9IHRoaXMuYWxpZ25MaW5lc1t4XTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgeSBvZiBsaW5lcy5ob3Jpem9udGFsKSB7DQogICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICBsaW5lLnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsNCiAgICAgICAgICAgICAgICBsaW5lLnN0eWxlLnRvcCA9ICh5IC0gLjUpICsgInB4IjsNCiAgICAgICAgICAgICAgICBsaW5lLnN0eWxlLmxlZnQgPSAiMHB4IjsNCiAgICAgICAgICAgICAgICBsaW5lLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUuaGVpZ2h0ID0gIjAiOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUuYm9yZGVyVG9wID0gIjFweCAjY2JjYmNiYzcgZG90dGVkIjsNCiAgICAgICAgICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMuYXBwZW5kQ2hpbGQobGluZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZvciAodmFyIHkgb2YgbGluZXMudmVydGljYWwpIHsNCiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUudG9wID0gIjBweCI7DQogICAgICAgICAgICAgICAgbGluZS5zdHlsZS5sZWZ0ID0gKHkgLSAuNSkgKyAicHgiOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgICAgICAgICAgIGxpbmUuc3R5bGUud2lkdGggPSAiMCI7DQogICAgICAgICAgICAgICAgbGluZS5zdHlsZS5ib3JkZXJMZWZ0ID0gIjFweCAjY2JjYmNiYzcgZG90dGVkIjsNCiAgICAgICAgICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMuYXBwZW5kQ2hpbGQobGluZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBzZXRWaXNpYmxlQWxpZ25MaW5lKHZhbCkgew0KICAgICAgICB0aGlzLmFsaWduTGluZXNWaXNpYmxlID0gdmFsOw0KICAgICAgICB0aGlzLmFsbEFsaWduTGluZXMuc3R5bGUuZGlzcGxheSA9IHZhbCA/ICIiIDogIm5vbmUiOw0KICAgICAgICB0aGlzLmdlbkFsbEFsaWduTGluZXMoKTsNCiAgICB9DQp9DQpuZXcgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yKCk7Cg==", "ribbon": {"add.js": "bmV3IChjbGFzcyB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgfQ0KICAgIGdldE5hbWUoKSB7DQogICAgICAgIHJldHVybiAiRWxlbWVudHMiOw0KICAgIH0NCiAgICBnZXRQb3MoKSB7DQogICAgICAgIHJldHVybiAzMDsNCiAgICB9DQogICAgZ2V0RnVuY3Rpb25zKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgIkhpdGJveCI6IHsgInR5cGUiOiAiYnV0dG9uIiwgImNoYW5nZSI6IHRoaXMuaGl0Ym94IH0sDQogICAgICAgICAgICAiRW5lbXkgU3Bhd24iOiB7ICJ0eXBlIjogImJ1dHRvbiIsICJjaGFuZ2UiOiB0aGlzLmVuZW15U3Bhd24gfSwNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIGFzeW5jIGhpdGJveChlZGl0b3IpIHsNCiAgICAgICAgZWRpdG9yLmNyZWF0ZUVsZW1lbnQoew0KICAgICAgICAgICAgInR5cGUiOiAiaGl0Ym94IiwNCiAgICAgICAgICAgICJkYXRhIjogIldvcmxkIiwNCiAgICAgICAgICAgICJwb3MiOiB7DQogICAgICAgICAgICAgICAgeDogMTAsDQogICAgICAgICAgICAgICAgeTogMTANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAic2l6ZSI6IHsNCiAgICAgICAgICAgICAgICAid2lkdGgiOiAxMDAsDQogICAgICAgICAgICAgICAgImhlaWdodCI6IDEwMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzdHlsaW5nIjogew0KICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kQ29sb3IiOiAiIzAwZmYwMCIsDQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIA0KICAgICAqIEBwYXJhbSB7ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yfSBlZGl0b3INCiAgICAgKi8NCiAgICBhc3luYyBlbmVteVNwYXduKGVkaXRvcikgew0KICAgICAgICBlZGl0b3IuY3JlYXRlRWxlbWVudCh7DQogICAgICAgICAgICAidHlwZSI6ICJlbmVteVNwYXduIiwNCiAgICAgICAgICAgICJkYXRhIjogew0KICAgICAgICAgICAgICAgICJzcGF3blRpbWVvdXQiOiAzLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogIjAiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBvcyI6IHsNCiAgICAgICAgICAgICAgICB4OiAxMCwNCiAgICAgICAgICAgICAgICB5OiAxMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzaXplIjogew0KICAgICAgICAgICAgICAgICJ3aWR0aCI6IDEwLA0KICAgICAgICAgICAgICAgICJoZWlnaHQiOiAxMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzdHlsaW5nIjogew0KICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kQ29sb3IiOiAiI2ZmMDAwMCINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAibm9SZXNpemUiOiB0cnVlLA0KICAgICAgICB9KTsNCiAgICB9DQp9KSgpOw==", "background.js": "bmV3IChjbGFzcyB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7DQogICAgfQ0KICAgIGdldE5hbWUoKSB7DQogICAgICAgIHJldHVybiAiQmFja2dyb3VuZCI7DQogICAgfQ0KICAgIGdldFBvcygpIHsNCiAgICAgICAgcmV0dXJuIDM2Ow0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3t0eXBlOnN0cmluZywgZGF0YTpzdHJpbmd8YW55LCBwb3M6e3g6bnVtYmVyLHk6bnVtYmVyfSwgc2l6ZTp7d2lkdGg6bnVtYmVyLGhlaWdodDpudW1iZXJ9LCBzdHlsaW5nOmFueX19IGVsZW1lbnQNCiAgICAgKi8NCiAgICBnZXRGdW5jdGlvbnMoZWxlbWVudCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgIkJhY2tncm91bmQgSW1hZ2UiOiB7ICJ0eXBlIjogImZpbGUiLCAiY2hhbmdlIjogdGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2UuYmluZCh0aGlzKSwgImdldCI6IHRoaXMuZ2V0QmFja2dyb3VuZEltYWdlLmJpbmQodGhpcykgfSwNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVQYXRoDQogICAgICovDQogICAgYXN5bmMgc2V0QmFja2dyb3VuZEltYWdlKGVkaXRvciwgZmlsZVBhdGgpIHsNCiAgICAgICAgZWRpdG9yLmd1aS5wcm9qZWN0LnBhZ2VzW2VkaXRvci5ndWkucGFnZV0uYmFja2dyb3VuZC50eXBlID0gImltYWdlIg0KICAgICAgICBlZGl0b3IuZ3VpLnByb2plY3QucGFnZXNbZWRpdG9yLmd1aS5wYWdlXS5iYWNrZ3JvdW5kLmRhdGEgPSBTeXN0ZW1GaWxlU3lzdGVtLnRvSW1nKGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZVN0cmluZyhmaWxlUGF0aCkpDQogICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZChlZGl0b3IpOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcmliYm9ufSByaWJib24NCiAgICAgKi8NCiAgICBnZXRCYWNrZ3JvdW5kSW1hZ2UocmliYm9uKSB7DQoNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIHVwZGF0ZUJhY2tncm91bmQoZWRpdG9yKSB7DQogICAgICAgIGlmIChlZGl0b3IuZ3VpLnByb2plY3QucGFnZXNbZWRpdG9yLmd1aS5wYWdlXS5iYWNrZ3JvdW5kLnR5cGUgPT0gImNvbG9yIikgew0KICAgICAgICAgICAgZWRpdG9yLmNvbnRlbnQuc3R5bGUuYmFja2dyb3VuZCA9IGVkaXRvci5ndWkucHJvamVjdC5wYWdlc1tlZGl0b3IuZ3VpLnBhZ2VdLmJhY2tncm91bmQuY29sb3I7DQogICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yLmd1aS5wcm9qZWN0LnBhZ2VzW2VkaXRvci5ndWkucGFnZV0uYmFja2dyb3VuZC50eXBlID09ICJpbWFnZSIpIHsNCiAgICAgICAgICAgIGVkaXRvci5jb250ZW50LnN0eWxlLmJhY2tncm91bmQgPSAidXJsKCIgKyBlZGl0b3IuZ3VpLnByb2plY3QucGFnZXNbZWRpdG9yLmd1aS5wYWdlXS5iYWNrZ3JvdW5kLmRhdGEgKyAiKSI7DQogICAgICAgIH0NCiAgICB9DQp9KSgpOw==", "edit.js": "bmV3IChjbGFzcyB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7DQogICAgfQ0KICAgIGdldE5hbWUoKSB7DQogICAgICAgIHJldHVybiAiRWRpdCI7DQogICAgfQ0KICAgIGdldFBvcygpIHsNCiAgICAgICAgcmV0dXJuIDIwOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3t0eXBlOnN0cmluZywgZGF0YTpzdHJpbmd8YW55LCBwb3M6e3g6bnVtYmVyLHk6bnVtYmVyfSwgc2l6ZTp7d2lkdGg6bnVtYmVyLGhlaWdodDpudW1iZXJ9LCBzdHlsaW5nOmFueX19IGVsZW1lbnQNCiAgICAgKi8NCiAgICBnZXRGdW5jdGlvbnMoZWxlbWVudCkgew0KICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50Ow0KDQogICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHsNCiAgICAgICAgICAgIHJldHVybiB7fTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICJoaXRib3giKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJfZGVzY3JpcHRvciI6ICJIaXRib3ggVHlwZTogV29ybGQsIEZhbGwsIE5leHRMZXZlbCwgR3JhY2UiLA0KICAgICAgICAgICAgICAgICJIaXRib3ggVHlwZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAidGV4dCIsDQogICAgICAgICAgICAgICAgICAgICJjaGFuZ2UiOiB0aGlzLmhpdGJveFR5cGUuYmluZCh0aGlzKSwNCiAgICAgICAgICAgICAgICAgICAgImdldCI6IHRoaXMuZ2V0SGl0Ym94VHlwZS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIl9zZXBhcmF0b3IiOiAiIiwNCiAgICAgICAgICAgICAgICAiX2Rlc2NyaXB0b3IyIjogIkV4YWN0IFBvc2l0aW9uIiwNCiAgICAgICAgICAgICAgICAiWCI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIiwNCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZSI6IHRoaXMueC5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgICAgICAiZ2V0IjogdGhpcy5nZXRYLmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiWSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIiwNCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZSI6IHRoaXMueS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgICAgICAiZ2V0IjogdGhpcy5nZXRZLmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiV2lkdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm51bWJlciIsDQogICAgICAgICAgICAgICAgICAgICJjaGFuZ2UiOiB0aGlzLndpZHRoLmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgICAgICJnZXQiOiB0aGlzLmdldFdpZHRoLmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiSGVpZ2h0Ijogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJudW1iZXIiLA0KICAgICAgICAgICAgICAgICAgICAiY2hhbmdlIjogdGhpcy5oZWlnaHQuYmluZCh0aGlzKSwNCiAgICAgICAgICAgICAgICAgICAgImdldCI6IHRoaXMuZ2V0SGVpZ2h0LmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT0gImVuZW15U3Bhd24iKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJfZGVzY3JpcHRvciI6ICJFbmVteSBUeXBlOiAwLTkiLA0KICAgICAgICAgICAgICAgICJFbmVteSBUeXBlIjogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJ0ZXh0IiwNCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZSI6IHRoaXMuZW5lbXlUeXBlLmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgICAgICJnZXQiOiB0aGlzLmdldEVuZW15VHlwZS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIl9zZXBhcmF0b3IyIjogIiIsDQogICAgICAgICAgICAgICAgIl9kZXNjcmlwdG9yMyI6ICJTcGF3biBUaW1lb3V0IiwNCiAgICAgICAgICAgICAgICAiU3Bhd24gVGltZW91dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIiwNCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZSI6IHRoaXMuc3Bhd25UaW1lb3V0LmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgICAgICJnZXQiOiB0aGlzLmdldFNwYXduVGltZW91dC5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIl9zZXBhcmF0b3IiOiAiIiwNCiAgICAgICAgICAgICAgICAiX2Rlc2NyaXB0b3IyIjogIkV4YWN0IFBvc2l0aW9uIiwNCiAgICAgICAgICAgICAgICAiWCI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIiwNCiAgICAgICAgICAgICAgICAgICAgImNoYW5nZSI6IHRoaXMueEVuZW15LmJpbmQodGhpcyksDQogICAgICAgICAgICAgICAgICAgICJnZXQiOiB0aGlzLmdldFhFbmVteS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIlkiOiB7DQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIm51bWJlciIsDQogICAgICAgICAgICAgICAgICAgICJjaGFuZ2UiOiB0aGlzLnlFbmVteS5iaW5kKHRoaXMpLA0KICAgICAgICAgICAgICAgICAgICAiZ2V0IjogdGhpcy5nZXRZRW5lbXkuYmluZCh0aGlzKSwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICByZXR1cm4ge307DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBnZXRFbmVteVR5cGUoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZGF0YS50eXBlOw0KICAgIH0NCiAgICBlbmVteVR5cGUoZWRpdG9yLCBlbCkgew0KICAgICAgICBlZGl0b3IuZWxlbWVudHNbZWRpdG9yLm5vd0VkaXRpbmddLmRhdGEudHlwZSA9IGVsLnZhbHVlOw0KICAgICAgICBlZGl0b3IucmVsb2FkRWxlbWVudChlZGl0b3Iubm93RWRpdGluZyk7DQogICAgfQ0KDQogICAgZ2V0U3Bhd25UaW1lb3V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRhdGEuc3Bhd25UaW1lb3V0Ow0KICAgIH0NCiAgICBzcGF3blRpbWVvdXQoZWRpdG9yLCBlbCkgew0KICAgICAgICBlZGl0b3IuZWxlbWVudHNbZWRpdG9yLm5vd0VkaXRpbmddLmRhdGEuc3Bhd25UaW1lb3V0ID0gZWwudmFsdWU7DQogICAgICAgIGVkaXRvci5yZWxvYWRFbGVtZW50KGVkaXRvci5ub3dFZGl0aW5nKTsNCiAgICB9DQogICAgZ2V0WEVuZW15KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnBvcy54ICsgNTsNCiAgICB9DQogICAgeEVuZW15KGVkaXRvciwgZWwpIHsNCiAgICAgICAgZWRpdG9yLmVsZW1lbnRzW2VkaXRvci5ub3dFZGl0aW5nXS5wb3MueCA9IHBhcnNlSW50KGVsLnZhbHVlKSAtIDU7DQogICAgICAgIGVkaXRvci5yZWxvYWRFbGVtZW50KGVkaXRvci5ub3dFZGl0aW5nKTsNCiAgICAgICAgZWRpdG9yLnNldENvbnRlbnRDaGFuZ2VyKCk7DQogICAgfQ0KICAgIGdldFlFbmVteSgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5wb3MueSArIDU7DQogICAgfQ0KICAgIHlFbmVteShlZGl0b3IsIGVsKSB7DQogICAgICAgIGVkaXRvci5lbGVtZW50c1tlZGl0b3Iubm93RWRpdGluZ10ucG9zLnkgPSBwYXJzZUludChlbC52YWx1ZSkgLSA1Ow0KICAgICAgICBlZGl0b3IucmVsb2FkRWxlbWVudChlZGl0b3Iubm93RWRpdGluZyk7DQogICAgICAgIGVkaXRvci5zZXRDb250ZW50Q2hhbmdlcigpOw0KICAgIH0NCg0KDQoNCiAgICBnZXRYKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnBvcy54Ow0KICAgIH0NCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqIEBwYXJhbSB7Kn0gZWwgDQogICAgICovDQogICAgeChlZGl0b3IsIGVsKSB7DQogICAgICAgIGVkaXRvci5lbGVtZW50c1tlZGl0b3Iubm93RWRpdGluZ10ucG9zLnggPSBlbC52YWx1ZTsNCiAgICAgICAgZWRpdG9yLnJlbG9hZEVsZW1lbnQoZWRpdG9yLm5vd0VkaXRpbmcpOw0KICAgICAgICBlZGl0b3Iuc2V0Q29udGVudENoYW5nZXIoKTsNCiAgICB9DQogICAgZ2V0WSgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5wb3MueTsNCiAgICB9DQogICAgeShlZGl0b3IsIGVsKSB7DQogICAgICAgIGVkaXRvci5lbGVtZW50c1tlZGl0b3Iubm93RWRpdGluZ10ucG9zLnkgPSBlbC52YWx1ZTsNCiAgICAgICAgZWRpdG9yLnJlbG9hZEVsZW1lbnQoZWRpdG9yLm5vd0VkaXRpbmcpOw0KICAgICAgICBlZGl0b3Iuc2V0Q29udGVudENoYW5nZXIoKTsNCiAgICB9DQogICAgZ2V0V2lkdGgoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc2l6ZS53aWR0aDsNCiAgICB9DQogICAgd2lkdGgoZWRpdG9yLCBlbCkgew0KICAgICAgICBlZGl0b3IuZWxlbWVudHNbZWRpdG9yLm5vd0VkaXRpbmddLnNpemUud2lkdGggPSBlbC52YWx1ZTsNCiAgICAgICAgZWRpdG9yLnJlbG9hZEVsZW1lbnQoZWRpdG9yLm5vd0VkaXRpbmcpOw0KICAgICAgICBlZGl0b3Iuc2V0Q29udGVudENoYW5nZXIoKTsNCiAgICB9DQogICAgZ2V0SGVpZ2h0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnNpemUuaGVpZ2h0Ow0KICAgIH0NCiAgICBoZWlnaHQoZWRpdG9yLCBlbCkgew0KICAgICAgICBlZGl0b3IuZWxlbWVudHNbZWRpdG9yLm5vd0VkaXRpbmddLnNpemUuaGVpZ2h0ID0gZWwudmFsdWU7DQogICAgICAgIGVkaXRvci5yZWxvYWRFbGVtZW50KGVkaXRvci5ub3dFZGl0aW5nKTsNCiAgICAgICAgZWRpdG9yLnNldENvbnRlbnRDaGFuZ2VyKCk7DQogICAgfQ0KDQogICAgZ2V0SGl0Ym94VHlwZSgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5kYXRhOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gZWxlbWVudCANCiAgICAgKi8NCiAgICBoaXRib3hUeXBlKGVkaXRvciwgY29sb3IpIHsNCiAgICAgICAgZWRpdG9yLmVsZW1lbnRzW2VkaXRvci5ub3dFZGl0aW5nXS5kYXRhID0gY29sb3IudmFsdWU7DQogICAgICAgIC8vdXBkYXRlIGJhY2tncm91bmQgY29sb3INCiAgICAgICAgdmFyIHR5cGVzID0gew0KICAgICAgICAgICAgIldvcmxkIjogIiMwMGZmMDAiLA0KICAgICAgICAgICAgIkZhbGwiOiAiI2ZmMDAwMCIsDQogICAgICAgICAgICAiTmV4dExldmVsIjogIiMwMDAwZmYiLA0KICAgICAgICAgICAgIkdyYWNlIjogIiNmZmZmMDAiLA0KICAgICAgICAgICAgImRlZmF1bHQiOiAiIzAwMDAwMCIsDQogICAgICAgIH0NCiAgICAgICAgZWRpdG9yLmVsZW1lbnRzW2VkaXRvci5ub3dFZGl0aW5nXS5zdHlsaW5nLmJhY2tncm91bmRDb2xvciA9IHR5cGVzW2NvbG9yLnZhbHVlXSB8fCB0eXBlc1siZGVmYXVsdCJdOw0KDQogICAgICAgIGVkaXRvci5yZWxvYWRFbGVtZW50KGVkaXRvci5ub3dFZGl0aW5nKTsNCiAgICB9DQp9KSgpOw==", "file.js": "bmV3IChjbGFzcyB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgfQ0KICAgIGdldE5hbWUoKSB7DQogICAgICAgIHJldHVybiAiZmlsZSI7DQogICAgfQ0KICAgIGdldFBvcygpIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgfQ0KICAgIGdldEZ1bmN0aW9ucygpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICJzYXZlUHJvamVjdCI6IHsgInR5cGUiOiAiYnV0dG9uIiwgImNoYW5nZSI6IHRoaXMuc2F2ZVByb2plY3QuYmluZCh0aGlzKSB9LA0KICAgICAgICAgICAgImNsb3NlUHJvamVjdCI6IHsgInR5cGUiOiAiYnV0dG9uIiwgImNoYW5nZSI6IHRoaXMuY2xvc2VQcm9qZWN0IH0sDQogICAgICAgICAgICAiZXhwb3J0IHRvIGZpbGUiOiB7ICJ0eXBlIjogImJ1dHRvbiIsICJjaGFuZ2UiOiB0aGlzLmV4cG9ydFRvRmlsZS5iaW5kKHRoaXMpIH0sDQogICAgICAgICAgICAiX3NlcGFyYXRvciI6ICIiLA0KICAgICAgICAgICAgInBpeGVsIHJhdGlvIjogeyAidHlwZSI6ICJ0ZXh0IiwgImNoYW5nZSI6IHRoaXMuc2V0UGl4ZWxSYXRpby5iaW5kKHRoaXMpLCAiZ2V0IjogdGhpcy5nZXRQaXhlbFJhdGlvIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIGFzeW5jIHNhdmVQcm9qZWN0KGVkaXRvcikgew0KICAgICAgICB2YXIgeCA9IHRoaXMuZ2VuZXJhdGVTYXZlRmlsZShlZGl0b3IpOw0KICAgICAgICBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcoZWRpdG9yLnByb2plY3RQYXRoLCBKU09OLnN0cmluZ2lmeSh4KSk7DQogICAgfQ0KICAgIGFzeW5jIGV4cG9ydFRvRmlsZShlZGl0b3IpIHsNCiAgICAgICAgdmFyIHggPSB0aGlzLmdlbmVyYXRlU2F2ZUZpbGUoZWRpdG9yKTsNCiAgICAgICAgdmFyIG91dCA9IHsNCiAgICAgICAgICAgICJGRU5TVEVSR1LDllNTRSI6IFt4LnBpeGVsUmF0aW8uc3BsaXQoIjoiKV0sDQogICAgICAgICAgICAiSElUQk9YRVMiOiBbXSwNCiAgICAgICAgICAgICJFTkVNWVNTUEFXTiI6IFtdLA0KICAgICAgICAgICAgIklNQUdFUEFUSFMiOiBbDQogICAgICAgICAgICAgICAgWyJiYWNrZ3JvdW5kIiwgIm1hcHMvbWFwMS9iYWNrZ3JvdW5kLmpwZyJdLA0KICAgICAgICAgICAgICAgIFsiZm9yZWdyb3VuZCIsICJtYXBzL21hcDEvZm9yZWdyb3VuZC5wbmciXQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKHgpOw0KICAgICAgICBjb25zb2xlLmxvZyh4LnBhZ2VzWzBdLmVsZW1lbnRzKTsNCiAgICAgICAgZm9yICh2YXIgeSBvZiB4LnBhZ2VzWzBdLmVsZW1lbnRzKSB7DQogICAgICAgICAgICBpZiAoeS50eXBlID09ICJoaXRib3giKSB7DQogICAgICAgICAgICAgICAgb3V0LkhJVEJPWEVTLnB1c2goW3kucG9zLngsIHkucG9zLnksIHkuc2l6ZS53aWR0aCwgeS5zaXplLmhlaWdodCwgeS5kYXRhXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoeS50eXBlID09ICJlbmVteVNwYXduIikgew0KICAgICAgICAgICAgICAgIG91dC5FTkVNWVNTUEFXTi5wdXNoKFt5LnBvcy54ICsgNSwgeS5wb3MueSArIDUsIHkuZGF0YS5zcGF3blRpbWVvdXQsIHkuZGF0YS50eXBlXSk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgLy9nZW4gdG8gZGF0YQ0KICAgICAgICB2YXIgb3V0c3RyID0gIiI7DQogICAgICAgIGZvciAodmFyIHggaW4gb3V0KSB7DQogICAgICAgICAgICBvdXRzdHIgKz0gIiMiICsgeCArICJcbiI7DQogICAgICAgICAgICBmb3IgKHZhciB5IG9mIG91dFt4XSkgew0KICAgICAgICAgICAgICAgIG91dHN0ciArPSB5LmpvaW4oIiwiKSArICJcbiI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvdXRzdHIgKz0gIlxuIjsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnNvbGUubG9nKG91dHN0cik7DQoNCiAgICAgICAgLy9kb3dubG9hZCB3aXRoIHN0YW5kYXJkIGh0bWwgZG93bmxvYWQNCiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgJ2RhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQob3V0c3RyKSk7DQogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICJtYXAudHh0Iik7DQogICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTsNCiAgICAgICAgZWxlbWVudC5jbGljaygpOw0KICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0gZWRpdG9yIA0KICAgICAqLw0KICAgIGFzeW5jIGNsb3NlUHJvamVjdChlZGl0b3IpIHsNCiAgICAgICAgZWRpdG9yLmd1aS5zaG93KCJwcm9qZWN0Q2hvb3NlIik7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogDQogICAgICogQHBhcmFtIHtleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3J9IGVkaXRvcg0KICAgICAqLw0KICAgIGdlbmVyYXRlU2F2ZUZpbGUoZWRpdG9yKSB7DQogICAgICAgIHJldHVybiBlZGl0b3Iuc2F2ZUZpbGU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQHBhcmFtIHtleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3J9IGVkaXRvcg0KICAgICAqLw0KICAgIHNldFBpeGVsUmF0aW8oZWRpdG9yLCBlbGVtZW50KSB7DQogICAgICAgIGVkaXRvci5ndWkucHJvamVjdC5waXhlbFJhdGlvID0gZWxlbWVudC52YWx1ZTsNCiAgICAgICAgZWRpdG9yLmd1aS5sb2FkUHJvamVjdFNldHRpbmdzKCk7DQogICAgfQ0KICAgIC8qKg0KICAgICAqIEBwYXJhbSB7ZXhpdE1lX2d1aV9yaWJib259IHJpYmJvbg0KICAgICAqLw0KICAgIGdldFBpeGVsUmF0aW8ocmliYm9uKSB7DQogICAgICAgIHJldHVybiByaWJib24uZWRpdG9yLmd1aS5wcm9qZWN0LnBpeGVsUmF0aW87DQogICAgfQ0KfSkoKTs=", "view.js": "bmV3IChjbGFzcyB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7DQogICAgfQ0KICAgIGdldE5hbWUoKSB7DQogICAgICAgIHJldHVybiAiVmlldyI7DQogICAgfQ0KICAgIGdldFBvcygpIHsNCiAgICAgICAgcmV0dXJuIDM1Ow0KICAgIH0NCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3t0eXBlOnN0cmluZywgZGF0YTpzdHJpbmd8YW55LCBwb3M6e3g6bnVtYmVyLHk6bnVtYmVyfSwgc2l6ZTp7d2lkdGg6bnVtYmVyLGhlaWdodDpudW1iZXJ9LCBzdHlsaW5nOmFueX19IGVsZW1lbnQNCiAgICAgKi8NCiAgICBnZXRGdW5jdGlvbnMoZWxlbWVudCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgIk92ZXJsYXkgb3V0bGluZSI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJjaGVja2JveCIsICJjaGFuZ2UiOiB0aGlzLnNldG91dGxpbmUuYmluZCh0aGlzKSwgImdldCI6IHRoaXMuZ2V0b3V0bGluZS5iaW5kKHRoaXMpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIkFsaWduIExpbmVzIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNoZWNrYm94IiwgImNoYW5nZSI6IHRoaXMuc2V0VmlzaWJsZUFsaWduTGluZS5iaW5kKHRoaXMpLCAiZ2V0IjogdGhpcy5nZXRWaXNpYmxlQWxpZ25MaW5lLmJpbmQodGhpcykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIA0KICAgICAqIEBwYXJhbSB7ZXhpdE1lX2d1aV9yaWJib259IGVkaXRvciANCiAgICAgKiBAcmV0dXJucyANCiAgICAgKi8NCiAgICBnZXRvdXRsaW5lKGVkaXRvcikgew0KICAgICAgICByZXR1cm4gZWRpdG9yLmVkaXRvci5vdmVybGF5T3V0bGluZTsNCiAgICB9DQoNCiAgICBzZXRvdXRsaW5lKGVkaXRvciwgZWxlbWVudCkgew0KICAgICAgICBlZGl0b3Iub3ZlcmxheU91dGxpbmUgPSBlbGVtZW50LmNoZWNrZWQ7DQogICAgICAgIGVkaXRvci51cGRhdGVPdmVybGF5T3V0bGluZSgpOw0KICAgIH0NCg0KICAgIHNldFZpc2libGVBbGlnbkxpbmUoZWRpdG9yLCBlbGVtZW50KSB7DQogICAgICAgIGVkaXRvci5zZXRWaXNpYmxlQWxpZ25MaW5lKGVsZW1lbnQuY2hlY2tlZCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogDQogICAgICogQHBhcmFtIHtleGl0TWVfZ3VpX3JpYmJvbn0gZWRpdG9yIA0KICAgICAqIEByZXR1cm5zIA0KICAgICAqLw0KICAgIGdldFZpc2libGVBbGlnbkxpbmUoZWRpdG9yKSB7DQogICAgICAgIHJldHVybiBlZGl0b3IuZWRpdG9yLmFsaWduTGluZXNWaXNpYmxlOw0KICAgIH0NCn0pKCk7"}, "ribbon.js": "Y2xhc3MgZXhpdE1lX2d1aV9yaWJib24gZXh0ZW5kcyBTeXN0ZW0ucHJvZ3JhbS5kZWZhdWx0IHsNCiAgICAvKiogDQogICAgICogQHBhcmFtIHtbSHRtbFdpbmRvdywgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yXX0gYXJncw0KICAgICAqLw0KICAgIGFzeW5jIGluaXQoYXJncykgew0KICAgICAgICB0aGlzLndpbmRvdyA9IGFyZ3NbMF07DQogICAgICAgIHRoaXMuZWRpdG9yID0gYXJnc1sxXTsNCg0KICAgICAgICB0aGlzLmN1cnJlbnRFTGVtZW50ID0gbnVsbDsNCiAgICB9DQoNCiAgICBhc3luYyBsb2FkUmliYm9ucygpIHsNCiAgICAgICAgdGhpcy50b3BSaWJib25zID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlcyh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL3JpYmJvbiIpOw0KICAgICAgICB0aGlzLmNsYXNzZXMgPSB7fTsNCiAgICAgICAgdmFyIHRlbCA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ0b3BCYXIiKTsNCiAgICAgICAgdGVsLmlubmVySFRNTCA9ICIiOw0KDQogICAgICAgIHZhciBwb3NlcyA9IFtdOw0KICAgICAgICB2YXIgYyA9IHt9Ow0KICAgICAgICBmb3IgKHZhciB4IG9mIHRoaXMudG9wUmliYm9ucykgew0KICAgICAgICAgICAgdmFyIGYgPSBhd2FpdCBTeXN0ZW0ucnVuKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvcmliYm9uLyIgKyB4LCk7DQogICAgICAgICAgICB0aGlzLmNsYXNzZXNbZi5nZXROYW1lKCldID0gZg0KDQogICAgICAgICAgICB2YXIgcCA9IGYuZ2V0UG9zKCk7DQogICAgICAgICAgICBwb3Nlcy5wdXNoKHApOw0KICAgICAgICAgICAgaWYgKGNbcF0gPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgY1twXSA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY1twXS5wdXNoKGYuZ2V0TmFtZSgpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHBvc2VzID0gcG9zZXMuc29ydCgoYSwgYikgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGEgLSBiOw0KICAgICAgICB9KTsNCg0KICAgICAgICB2YXIgaSA9IDA7DQogICAgICAgIGZvciAodmFyIHggb2YgcG9zZXMpIHsNCiAgICAgICAgICAgIGZvciAodmFyIHkgb2YgY1t4XSkgew0KICAgICAgICAgICAgICAgIHZhciBmID0gdGhpcy5jbGFzc2VzW3ldOw0KDQogICAgICAgICAgICAgICAgdmFyIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsNCiAgICAgICAgICAgICAgICByLnNldEF0dHJpYnV0ZSgiZWxlbWVudCIsICJyaWJib25Ub3AiKTsNCiAgICAgICAgICAgICAgICByLnNldEF0dHJpYnV0ZSgiaW5kZXgiLCBpKTsNCiAgICAgICAgICAgICAgICByLm9uY2xpY2sgPSAoKGkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoaSk7DQogICAgICAgICAgICAgICAgfSkuYmluZCh0aGlzLCBpKTsNCiAgICAgICAgICAgICAgICByLmlubmVyVGV4dCA9IGYuZ2V0TmFtZSgpOw0KDQogICAgICAgICAgICAgICAgdGVsLmFwcGVuZENoaWxkKHIpOw0KICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMud2luZG93LnBhcnNlTmV3SHRtbCgpOw0KDQogICAgICAgIHRoaXMuc2VsZWN0KDApOw0KICAgIH0NCg0KICAgIHNldEVsZW1lbnQoZWxlbWVudCkgew0KICAgICAgICB0aGlzLmN1cnJlbnRFTGVtZW50ID0gZWxlbWVudDsNCiAgICAgICAgdGhpcy5sb2FkQm90dG9tUmliYm9ucyh0aGlzLnNlbGVjdGVkUmliYm9uLmlubmVyVGV4dCk7DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZEJvdHRvbVJpYmJvbnMobmFtZSkgew0KICAgICAgICB2YXIgYmVsID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInRvb2xTZWxlY3QiKTsNCiAgICAgICAgYmVsLmlubmVySFRNTCA9ICIiOw0KDQogICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAidG9vbFNlbGVjdEVsZW1lbnQiKTsNCiAgICAgICAgYmVsLmFwcGVuZChlbCkNCg0KICAgICAgICB2YXIgZnVuY3Rpb25zID0gdGhpcy5jbGFzc2VzW25hbWVdLmdldEZ1bmN0aW9ucyh0aGlzLmN1cnJlbnRFTGVtZW50KTsNCg0KICAgICAgICBmb3IgKHZhciB4IG9mIE9iamVjdC5rZXlzKGZ1bmN0aW9ucykpIHsNCiAgICAgICAgICAgIHZhciByOw0KICAgICAgICAgICAgaWYgKHguc3RhcnRzV2l0aCgiX3NlcGFyYXRvciIpKSB7DQogICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgInNlcGVyYXRvciIpDQoNCiAgICAgICAgICAgICAgICBiZWwuYXBwZW5kKHIpOw0KDQogICAgICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAidG9vbFNlbGVjdEVsZW1lbnQiKTsNCiAgICAgICAgICAgICAgICBiZWwuYXBwZW5kKGVsKQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh4LnN0YXJ0c1dpdGgoIl9kZXNjcmlwdG9yIikpIHsNCiAgICAgICAgICAgICAgICByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgImRlc2NyaXB0b3IiKTsNCiAgICAgICAgICAgICAgICByLmlubmVyVGV4dCA9IGZ1bmN0aW9uc1t4XTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGZ1bmN0aW9uc1t4XS50eXBlID09ICJidXR0b24iKSB7DQogICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgInJpYmJvbkJvdHRvbSIpOw0KICAgICAgICAgICAgICAgIHIub25jbGljayA9IGZ1bmN0aW9uc1t4XS5jaGFuZ2UuYmluZCh0aGlzLCB0aGlzLmVkaXRvcik7DQogICAgICAgICAgICAgICAgci5pbm5lclRleHQgPSB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZnVuY3Rpb25zW3hdLnR5cGUgPT0gInNlbGVjdCIpIHsNCiAgICAgICAgICAgICAgICByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7DQogICAgICAgICAgICAgICAgci5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicmliYm9uQm90dG9tIik7DQogICAgICAgICAgICAgICAgci5vbmNoYW5nZSA9IGZ1bmN0aW9uc1t4XS5jaGFuZ2UuYmluZCh0aGlzLCB0aGlzLmVkaXRvciwgcik7DQogICAgICAgICAgICAgICAgci5zZWxlY3RlZE9wdGlvbnMgPSBmdW5jdGlvbnNbeF0uZ2V0KHRoaXMpOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIHkgb2YgZnVuY3Rpb25zW3hdLm9wdGlvbnMpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsNCiAgICAgICAgICAgICAgICAgICAgby5pbm5lclRleHQgPSB5Ow0KICAgICAgICAgICAgICAgICAgICByLmFwcGVuZENoaWxkKG8pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGZ1bmN0aW9uc1t4XS50eXBlID09ICJjb2xvciIpIHsNCiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IGZ1bmN0aW9uc1t4XS5nZXQodGhpcyk7DQogICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsNCiAgICAgICAgICAgICAgICBpLnNldEF0dHJpYnV0ZSgiZWxlbWVudCIsICJyaWJib25Cb3R0b20iKTsNCiAgICAgICAgICAgICAgICBpLnNldEF0dHJpYnV0ZSgidHlwZSIsICJjb2xvciIpOw0KICAgICAgICAgICAgICAgIGkudmFsdWUgPSBjdXJyZW50LnN1YnN0cmluZygwLCA3KTsNCg0KDQogICAgICAgICAgICAgICAgdmFyIGFscGhhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsNCiAgICAgICAgICAgICAgICBhbHBoYS5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicmliYm9uQm90dG9tIik7DQogICAgICAgICAgICAgICAgYWxwaGEuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInJhbmdlIik7DQogICAgICAgICAgICAgICAgYWxwaGEuc2V0QXR0cmlidXRlKCJtaW4iLCAiMCIpOw0KICAgICAgICAgICAgICAgIGFscGhhLnNldEF0dHJpYnV0ZSgibWF4IiwgIjEiKTsNCiAgICAgICAgICAgICAgICBhbHBoYS5zZXRBdHRyaWJ1dGUoInN0ZXAiLCAiMC4wMSIpOw0KICAgICAgICAgICAgICAgIGFscGhhLnZhbHVlID0gcGFyc2VJbnQoY3VycmVudC5zdWJzdHJpbmcoNywgOSksIDE2KSAvIDI1NTsNCg0KDQogICAgICAgICAgICAgICAgaS5vbmNoYW5nZSA9ICgoZiwgaSwgYWxwaGEpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gaS52YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSBhbHBoYS52YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSA9IE1hdGgucm91bmQob3BhY2l0eSAqIDI1NSkudG9TdHJpbmcoMTYpOw0KICAgICAgICAgICAgICAgICAgICBpZiAob3BhY2l0eS5sZW5ndGggPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHkgPSAiMCIgKyBvcGFjaXR5Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgcmdiYUNvbCA9ICcjJyArIGNvbG9yLnNsaWNlKC02LCAtNCkgKyBjb2xvci5zbGljZSgtNCwgLTIpICsgY29sb3Iuc2xpY2UoLTIpICsgb3BhY2l0eTsNCiAgICAgICAgICAgICAgICAgICAgZi5jaGFuZ2UuYmluZCh0aGlzLCB0aGlzLmVkaXRvciwgcmdiYUNvbCkoKTsNCiAgICAgICAgICAgICAgICB9KS5iaW5kKHRoaXMsIGZ1bmN0aW9uc1t4XSwgaSwgYWxwaGEpOw0KICAgICAgICAgICAgICAgIGFscGhhLm9uY2hhbmdlID0gaS5vbmNoYW5nZTsNCg0KICAgICAgICAgICAgICAgIHIuYXBwZW5kQ2hpbGQoaSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25zW3hdLm5vYWxwaGEgIT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgICByLmFwcGVuZENoaWxkKGFscGhhKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChmdW5jdGlvbnNbeF0udHlwZSA9PSAibnVtYmVyIikgew0KICAgICAgICAgICAgICAgIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgInJpYmJvbkJvdHRvbSIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJ0eXBlIiwgIm51bWJlciIpOw0KICAgICAgICAgICAgICAgIHIudmFsdWUgPSBmdW5jdGlvbnNbeF0uZ2V0KHRoaXMpOw0KICAgICAgICAgICAgICAgIHIub25jaGFuZ2UgPSBmdW5jdGlvbnNbeF0uY2hhbmdlLmJpbmQodGhpcywgdGhpcy5lZGl0b3IsIHIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZnVuY3Rpb25zW3hdLnR5cGUgPT0gInRleHQiKSB7DQogICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7DQogICAgICAgICAgICAgICAgci5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicmliYm9uQm90dG9tIik7DQogICAgICAgICAgICAgICAgci5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dCIpOw0KICAgICAgICAgICAgICAgIHIudmFsdWUgPSBmdW5jdGlvbnNbeF0uZ2V0KHRoaXMpOw0KICAgICAgICAgICAgICAgIHIub25jaGFuZ2UgPSBmdW5jdGlvbnNbeF0uY2hhbmdlLmJpbmQodGhpcywgdGhpcy5lZGl0b3IsIHIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZnVuY3Rpb25zW3hdLnR5cGUgPT0gImNoZWNrYm94Iikgew0KICAgICAgICAgICAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOw0KICAgICAgICAgICAgICAgIGlucC5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicmliYm9uQm90dG9tIik7DQogICAgICAgICAgICAgICAgaW5wLnNldEF0dHJpYnV0ZSgidHlwZSIsICJjaGVja2JveCIpOw0KICAgICAgICAgICAgICAgIGlucC5jaGVja2VkID0gZnVuY3Rpb25zW3hdLmdldCh0aGlzKTsNCiAgICAgICAgICAgICAgICBpbnAub25jaGFuZ2UgPSBmdW5jdGlvbnNbeF0uY2hhbmdlLmJpbmQodGhpcywgdGhpcy5lZGl0b3IsIGlucCk7DQoNCiAgICAgICAgICAgICAgICByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICAgICAgci5hcHBlbmRDaGlsZChpbnApOw0KICAgICAgICAgICAgICAgIHIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoeCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZnVuY3Rpb25zW3hdLnR5cGUgPT0gImZpbGUiKSB7DQogICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOw0KICAgICAgICAgICAgICAgIHIuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgInJpYmJvbkJvdHRvbSIpOw0KICAgICAgICAgICAgICAgIHIub25jbGljayA9IChhc3luYyAoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUZpbGVTZWxlY3QoIlNlbGVjdCBhbiBpbWFnZSBGaWxlIik7DQogICAgICAgICAgICAgICAgICAgIGlmIChmICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25zW3hdLmNoYW5nZS5iaW5kKHRoaXMpKHRoaXMuZWRpdG9yLCBmKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLmJpbmQodGhpcywgeCk7DQogICAgICAgICAgICAgICAgci5pbm5lclRleHQgPSB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoZnVuY3Rpb25zW3hdLnR5cGUgPT0gInN0cmluZ0FzayIpIHsNCiAgICAgICAgICAgICAgICByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7DQogICAgICAgICAgICAgICAgci5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAicmliYm9uQm90dG9tIik7DQogICAgICAgICAgICAgICAgci5vbmNsaWNrID0gKGFzeW5jICh4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBmID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlU3RyaW5nU2VsZWN0KCJVUkwiLCAiRW50ZXIgdGhlIFVSTCBvZiB0aGUgaW1hZ2UiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGYgIT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbnNbeF0uY2hhbmdlLmJpbmQodGhpcykodGhpcy5lZGl0b3IsIGYpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkuYmluZCh0aGlzLCB4KTsNCiAgICAgICAgICAgICAgICByLmlubmVyVGV4dCA9IHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbC5hcHBlbmQocik7DQogICAgICAgICAgICAvL3ZhciByID0gdGhpcy5nZXRSaWJib25Cb3R0b21FbGVtZW50KHgsIHRoaXMuZnVuY3Rpb25zW25hbWVdW3hdLmJpbmQodGhpcywgdGhpcy5lZGl0b3IpKQ0KICAgICAgICAgICAgLy9iZWwuYXBwZW5kQ2hpbGQocik7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy53aW5kb3cucGFyc2VOZXdIdG1sKCk7DQogICAgfQ0KDQogICAgYXN5bmMgc2VsZWN0KGluZGV4KSB7DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmliYm9uICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJpYmJvbi5yZW1vdmVBdHRyaWJ1dGUoInNlbGVjdGVkIik7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWxlY3RlZFJpYmJvbiA9IHRoaXMud2luZG93LmdldEh0bWwoKS5xdWVyeVNlbGVjdG9yKGBbd2luZG93ZWxlbWVudD0icmliYm9uVG9wIl1baW5kZXg9IiR7aW5kZXh9Il1gKTsNCiAgICAgICAgdGhpcy5zZWxlY3RlZFJpYmJvbi5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIiwgIiIpOw0KICAgICAgICB0aGlzLnNlbGVjdGVkUmliYm9uLnN0eWxlLmRpc3BsYXkgPSAiIjsNCg0KICAgICAgICB0aGlzLmxvYWRCb3R0b21SaWJib25zKHRoaXMuc2VsZWN0ZWRSaWJib24uaW5uZXJUZXh0KTsNCiAgICB9DQp9DQoNCm5ldyBleGl0TWVfZ3VpX3JpYmJvbigpOw==", "util": {"projectEditorUtil.js": "Y2xhc3MgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX3V0aWwgew0KICAgIC8qKg0KICAgICAqIEBwYXJhbSB7e1tpZDpzdHJpbmddOmV4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fX0gZWxlbWVudHMNCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQ0KICAgICAqLw0KICAgIGdldExheWVyTWF4KGVsZW1lbnRzKSB7DQogICAgICAgIHZhciBtYXggPSAtMTsNCiAgICAgICAgZm9yICh2YXIgeCBvZiBPYmplY3QudmFsdWVzKGVsZW1lbnRzKSkgew0KICAgICAgICAgICAgaWYgKHgubGF5ZXIgPiBtYXgpIHsNCiAgICAgICAgICAgICAgICBtYXggPSB4LmxheWVyOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBtYXg7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogc29ydHMgZWxlbWVudHMgYnkgbGF5ZXINCiAgICAgKiBAcGFyYW0ge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50W119IGVsZW1lbnRzIA0KICAgICAqIEByZXR1cm5zIHtleGl0TWVfZ3VpX3Byb2plY3RFZGl0b3JfZWxlbWVudFtdfQ0KICAgICAqLw0KICAgIHNvcnRMYXllcnMoZWxlbWVudHMpIHsNCiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBhLmxheWVyIC0gYi5sYXllcjsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQHBhcmFtIHt7W2lkOnN0cmluZ106ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX2VsZW1lbnR9fSBlbGVtZW50cw0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZA0KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXllcg0KICAgICAqIEByZXR1cm5zIHt7W2lkOnN0cmluZ106ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX2VsZW1lbnR9fQ0KICAgICAqLw0KICAgIHNldExheWVyKGVsZW1lbnRzLCBpZCwgbGF5ZXIpIHsNCiAgICAgICAgZm9yICh2YXIgeCBvZiBPYmplY3Qua2V5cyhlbGVtZW50cykpIHsNCiAgICAgICAgICAgIGlmIChlbGVtZW50c1t4XS5sYXllciA+PSBsYXllcikgew0KICAgICAgICAgICAgICAgIGVsZW1lbnRzW3hdLmxheWVyKys7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxlbWVudHNbaWRdLmxheWVyID0gbGF5ZXI7DQogICAgICAgIHJldHVybiBlbGVtZW50czsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBtYWtlcyBzdXJlIHRoYXQgdGhlIGxheWVycyBhcmVudCBzcGFjZWQgb3V0DQogICAgICogQHBhcmFtIHt7W2lkOnN0cmluZ106ZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX2VsZW1lbnR9fSBlbGVtZW50cyANCiAgICAgKiBAcmV0dXJucyB7e1tpZDpzdHJpbmddOmV4aXRNZV9ndWlfcHJvamVjdEVkaXRvcl9lbGVtZW50fX0NCiAgICAgKi8NCiAgICBjYXBMYXllcnMoZWxlbWVudHMpIHsNCiAgICAgICAgdmFyIGxheWVycyA9IFtdOw0KICAgICAgICB2YXIgZSA9IHt9Ow0KICAgICAgICBmb3IgKHZhciB4IG9mIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpKSB7DQogICAgICAgICAgICBsYXllcnMucHVzaCh4LmxheWVyKTsNCiAgICAgICAgICAgIGVbeC5sYXllcl0gPSB4LmlkOw0KICAgICAgICB9DQoNCiAgICAgICAgbGF5ZXJzLnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBhIC0gYjsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICBmb3IgKHZhciB4IG9mIGxheWVycykgew0KICAgICAgICAgICAgZWxlbWVudHNbZVt4XV0ubGF5ZXIgPSBpOw0KICAgICAgICAgICAgaSsrOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlbGVtZW50czsNCiAgICB9DQogICAgZGV0ZWN0Q29sbGlzaW9ucyhlbGVtZW50cykgew0KICAgICAgICB2YXIgbGF5ZXJzID0gW107DQogICAgICAgIGZvciAodmFyIHggb2YgT2JqZWN0LnZhbHVlcyhlbGVtZW50cykpIHsNCiAgICAgICAgICAgIGlmIChsYXllcnMuaW5jbHVkZXMoeC5sYXllcikpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oImNvbGxpc2lvbiBkZXRlY3RlZCIpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHgpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsYXllcnMucHVzaCh4LmxheWVyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQp9DQpuZXcgZXhpdE1lX2d1aV9wcm9qZWN0RWRpdG9yX3V0aWwoKTs="}}, "gui.js": "Y2xhc3MgZXhpdE1lX2d1aSBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIC8qKg0KICAgICAqIA0KICAgICAqIEBwYXJhbSB7SHRtbFdpbmRvd30gd2luZG93IA0KICAgICAqLw0KICAgIGFzeW5jIGluaXQod2luZG93KSB7DQogICAgICAgIHRoaXMuZ2V0UGF0aCA9ICgpID0+IHsgfTsNCiAgICAgICAgdGhpcy50eXBlcyA9IFsicHJvamVjdENob29zZSIsICJwcm9qZWN0RWRpdCJdOw0KICAgICAgICB0aGlzLndpbmRvdyA9IHdpbmRvdzsNCg0KICAgICAgICB0aGlzLmxvYWRQcm9qZWN0ID0gKG5hbWUpID0+IHsgfTsNCiAgICAgICAgdGhpcy5zaG93KCJwcm9qZWN0Q2hvb3NlIik7DQoNCiAgICAgICAgdGhpcy5wcm9qZWN0ID0gbnVsbDsNCiAgICAgICAgdGhpcy5wYWdlID0gMDsNCg0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge2V4aXRNZV9ndWlfcHJvamVjdEVkaXRvcn0NCiAgICAgICAgICovDQogICAgICAgIHRoaXMucHJvamVjdEVkaXRvciA9IGF3YWl0IFN5c3RlbS5wcm9ncmFtLnJ1blByb2dyYW0odGhpcy5QQVRILmZvbGRlcigpICsgIi9ndWkvcHJvamVjdEVkaXRvci5qcyIsIFt0aGlzLndpbmRvdywgdGhpc10pOw0KICAgICAgICB0aGlzLnByb2plY3RFZGl0b3IuZ2V0UGF0aCA9IHRoaXMuZ2V0UGF0aC5iaW5kKHRoaXMpOw0KICAgICAgICB0aGlzLnByb2plY3RFZGl0b3IuZ2V0U2F2ZUZpbGUgPSB0aGlzLmdldFNhdmVGaWxlLmJpbmQodGhpcyk7DQogICAgICAgIHRoaXMucHJvamVjdEVkaXRvci5zZXRQYWdlID0gdGhpcy5zZXRQYWdlLmJpbmQodGhpcyk7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEB0eXBlIHtleGl0TWVfZ3VpX3JpYmJvbn0NCiAgICAgICAgICovDQogICAgICAgIHRoaXMucmliYm9uID0gYXdhaXQgU3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbSh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2d1aS9yaWJib24uanMiLCBbdGhpcy53aW5kb3csIHRoaXMucHJvamVjdEVkaXRvcl0pOw0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge2V4aXRNZV9ndWlfYm90dG9tQ29udHJvbGx9DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLmJvdHRvbUNvbnRyb2xsID0gYXdhaXQgU3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbSh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2d1aS9ib3R0b21Db250cm9sbC5qcyIsIFt0aGlzLndpbmRvdywgdGhpcy5wcm9qZWN0RWRpdG9yXSk7DQoNCiAgICAgICAgdGhpcy5wcm9qZWN0RWRpdG9yLnNlbGVjdCA9IHRoaXMucmliYm9uLnNldEVsZW1lbnQuYmluZCh0aGlzLnJpYmJvbik7DQogICAgfQ0KDQogICAgYXN5bmMgc2hvdyh0eXApIHsNCiAgICAgICAgZm9yICh2YXIgeCBvZiB0aGlzLnR5cGVzKSB7DQogICAgICAgICAgICBpZiAoeCA9PSB0eXApIHsNCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQodHlwKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoeCkpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9qZWN0cyANCiAgICAgKiBAcmV0dXJucyANCiAgICAgKi8NCiAgICBhc3luYyBzZXRQcm9qZWN0cyhwcm9qZWN0cykgew0KICAgICAgICB2YXIgYXZhaWxQcm9qZWN0cyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJhdmFpbFByb2plY3RzIik7DQogICAgICAgIGF2YWlsUHJvamVjdHMuaW5uZXJIVE1MID0gIiI7DQoNCiAgICAgICAgaWYgKHByb2plY3RzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBhdmFpbFByb2plY3RzLmlubmVySFRNTCA9ICI8cD48aT5ObyBwcm9qZWN0cyBmb3VuZDwvaT48L3A+IjsNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQoNCiAgICAgICAgZm9yICh2YXIgeCBvZiBwcm9qZWN0cykgew0KICAgICAgICAgICAgdmFyIHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsNCiAgICAgICAgICAgIHByb2plY3QuY2xhc3NOYW1lID0gInByb2plY3QiOw0KICAgICAgICAgICAgcHJvamVjdC5pbm5lclRleHQgPSB4Lm5hbWU7DQogICAgICAgICAgICBwcm9qZWN0Lm9uY2xpY2sgPSAoKG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRQcm9qZWN0KG5hbWUpOw0KICAgICAgICAgICAgfSkuYmluZCh0aGlzLCB4Lm5hbWUpDQogICAgICAgICAgICBhdmFpbFByb2plY3RzLmFwcGVuZENoaWxkKHByb2plY3QpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZEludG9Qcm9qZWN0KHBhdGgpIHsNCiAgICAgICAgdGhpcy5wcm9qZWN0ID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlSnNvbihwYXRoKTsNCiAgICAgICAgdGhpcy5wYWdlID0gMDsNCiAgICAgICAgYXdhaXQgdGhpcy5wcm9qZWN0RWRpdG9yLmxvYWRQcm9qZWN0KHRoaXMucHJvamVjdC5wYWdlc1t0aGlzLnBhZ2VdLmVsZW1lbnRzKTsNCiAgICAgICAgdGhpcy5sb2FkUHJvamVjdFNldHRpbmdzKCk7DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZFByb2plY3RTZXR0aW5ncygpIHsNCiAgICAgICAgdGhpcy5wcm9qZWN0RWRpdG9yLnNldFBpeGVsUmF0aW8odGhpcy5wcm9qZWN0LnBpeGVsUmF0aW8pOw0KICAgIH0NCg0KICAgIGdldFNhdmVGaWxlKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0Ow0KICAgIH0NCg0KICAgIHNldFBhZ2UoZWxlbWVudHMpIHsNCiAgICAgICAgdmFyIG91dCA9IFtdOw0KICAgICAgICBmb3IgKHZhciB4IG9mIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpKSB7DQogICAgICAgICAgICB2YXIgeCA9IE9iamVjdC5hc3NpZ24oe30sIHgpOw0KICAgICAgICAgICAgZGVsZXRlIHhbImlkIl07DQogICAgICAgICAgICBvdXQucHVzaCh4KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucHJvamVjdC5wYWdlc1t0aGlzLnBhZ2VdLmVsZW1lbnRzID0gb3V0Ow0KICAgIH0NCn0NCm5ldyBleGl0TWVfZ3VpKCk7", "html.html": "PGRpdiBlbGVtZW50PSJwcm9qZWN0Q2hvb3NlIj4NCiAgICA8aDE+Q2hvb3NlIGEgbWFwIHRvIGVkaXQ8L2gxPg0KICAgIDxkaXYgZWxlbWVudD0iYXZhaWxQcm9qZWN0cyI+DQoNCiAgICA8L2Rpdj4NCiAgICA8aHI+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJuZXdQcm9qZWN0Ij5OZXcgTWFwPC9idXR0b24+DQo8L2Rpdj4NCjxkaXYgZWxlbWVudD0icHJvamVjdEVkaXQiPg0KICAgIDxkaXYgZWxlbWVudD0icmliYm9uQ29udHJvbGxCYXIiPg0KICAgICAgICA8ZGl2IGVsZW1lbnQ9InRvcEJhciI+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGVsZW1lbnQ9InRvb2xTZWxlY3QiPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgZWxlbWVudD0iZWRpdG9yIj4NCiAgICAgICAgPGRpdiBlbGVtZW50PSJlZGl0b3JSaWdodFNpZGUiPg0KICAgICAgICAgICAgPGRpdiBlbGVtZW50PSJwcm9qZWN0Q29udGVudFdyYXBlciI+DQogICAgICAgICAgICAgICAgPGRpdiBlbGVtZW50PSJwcm9qZWN0Q29udGVudElubmVyV3JhcGVyIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBlbGVtZW50PSJwcm9qZWN0Q29udGVudCIgc3R5bGU9IndpZHRoOiA1MDBweDsgaGVpZ2h0OiA1MDBweDsiPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBlbGVtZW50PSJjb250ZW50Q2hhbmdlciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSJiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDt3aWR0aDogMTAwJTtib3JkZXI6IDA7aGVpZ2h0OiAxMDAlO2Rpc3BsYXk6IG5vbmU7cGFkZGluZzogMDtyZXNpemU6IG5vbmU7Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ImNvbnRlbnRDaGFuZ2VyQ2hhbmdlVGV4dCI+VWZmPC90ZXh0YXJlYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXJQYXJ0IiBtb3ZlbWVudFR5cGU9IjAiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXJQYXJ0IiBtb3ZlbWVudFR5cGU9IjEiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXJQYXJ0IiBtb3ZlbWVudFR5cGU9IjIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXJQYXJ0IiBtb3ZlbWVudFR5cGU9IjMiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGVsZW1lbnQ9ImFsaWduTGluZUhvcml6b250YWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iYWxpZ25MaW5lVmVydGljYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZWxlbWVudD0iYWxsQWxpZ25MaW5lcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBlbGVtZW50PSJvdXRsaW5lT3ZlcmxheSI+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGVsZW1lbnQ9ImJvdHRvbUNvbnRyb2xsIj4NCiAgICAgICAgICAgICAgICA8cD5ib3R0b20gY29udHJvbGw8L3A+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQo8L2Rpdj4=", "install.js": "YXN5bmMgZnVuY3Rpb24gcnVuKCkgew0KICAgIGF3YWl0IFN5c3RlbS5vcHRpb25zLmFkZFZhbHVlKCJwcm9ncmFtcyIsICJwaXhlbFJpbmdfdG9IYXJkKClfZ2FtZVRlYW1fbGV2ZWxFZGl0b3IiLCB7ICJwYXRoIjogImMvcHJvZ3JhbXMvcGl4ZWxSaW5nX3RvSGFyZCgpX2dhbWVUZWFtX2xldmVsRWRpdG9yL21haW4uanMiLCAibmFtZSI6ICJFeGl0IEdhbWUgVG9vbGtpdCIsICJydW4iOiAiYy9wcm9ncmFtcy9waXhlbFJpbmdfdG9IYXJkKClfZ2FtZVRlYW1fbGV2ZWxFZGl0b3IvcnVuLmpzIiB9LCB0cnVlKTsNCiAgICBTeXN0ZW1IdG1sLnVwZGF0ZVN0YXJ0bWVudSgpDQoNCiAgICAvL2Rlc2t0b3Agc2hvcnRjdXQNCiAgICBpZiAoIWF3YWl0IFN5c3RlbUh0bWwuZGVza3RvcC5leGlzdHNMaW5rKCJjL3Byb2dyYW1zL3BpeGVsUmluZ190b0hhcmQoKV9nYW1lVGVhbV9sZXZlbEVkaXRvci9ydW4uanMiKSl7DQogICAgICAgIGF3YWl0IFN5c3RlbUh0bWwuZGVza3RvcC5hZGRMaW5rKCJjL3Byb2dyYW1zL3BpeGVsUmluZ190b0hhcmQoKV9nYW1lVGVhbV9sZXZlbEVkaXRvci9ydW4uanMiLCAiRXhpdCBHYW1lIFRvb2xraXQiLCAiYy9wcm9ncmFtcy9waXhlbFJpbmdfdG9IYXJkKClfZ2FtZVRlYW1fbGV2ZWxFZGl0b3IvbG9nby53ZWJwIik7DQogICAgfQ0KICAgIHJldHVybiB0cnVlOw0KfQ0KcnVuKCk7", "installLocation.dat": "Yy9wcm9ncmFtcy9waXhlbFJpbmdfdG9IYXJkKClfZ2FtZVRlYW1fbGV2ZWxFZGl0b3I=", "main.js": "Y2xhc3MgcHJvZ3JhbSBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIGFzeW5jIGluaXQoKSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7SHRtbFdpbmRvd30NCiAgICAgICAgICovDQogICAgICAgIHRoaXMud2luZG93ID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLmNyZWF0ZVdpbmRvdygiUGl4ZWxSaW5nIHwgdG9IYXJkKCkgZ2FtZVRlYW0gfCBsZXZlbEVkaXRvciIsDQogICAgICAgICAgICAvL29ucmVhZHk6DQogICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgLy9zZXQgaHRtbA0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoIjxzdHlsZT4iICsgKGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZVN0cmluZyh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL3N0eWxlLmNzcyIpKS5yZXBsYWNlQWxsKCJ7e3dpbmRvd0lkfX0iLCB0aGlzLndpbmRvdy5nZXRJZCgpKSArICI8L3N0eWxlPiIgKyBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9odG1sLmh0bWwiKSk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS5zZXRTaXplKDMyMCwgNDAwKQ0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUudXNlckNhblJlc2l6ZSh0cnVlKQ0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUuc2V0TWF4KCk7DQogICAgICAgICAgICAgICAgLy90aGlzLndpbmRvdy5zaXplLnNldGZ1bGxNYXgoKTsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy53aW5kb3cuc2l6ZS5zZXRmdWxsTWF4KCk7DQogICAgICAgICAgICAgICAgfSwgMTAwKTsNCg0KICAgICAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICAgICAqIEB0eXBlIHtleGl0TWVfZ3VpfQ0KICAgICAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgICAgIHRoaXMuZ3VpID0gYXdhaXQgU3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbSh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2d1aS5qcyIsIHRoaXMud2luZG93KTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldFByb2plY3RMaXN0KCk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLmd1aS5sb2FkUHJvamVjdCA9IHRoaXMubG9hZFByb2plY3QuYmluZCh0aGlzKTsNCiAgICAgICAgICAgICAgICB0aGlzLmd1aS5nZXRQYXRoID0gdGhpcy5nZXRQYXRoLmJpbmQodGhpcyk7DQoNCiAgICAgICAgICAgICAgICAvL3NldCBldmVudHMNCiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAibmV3UHJvamVjdCIsIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVTdHJpbmdTZWxlY3QoIk5ldyBQcm9qZWN0IiwgIkVudGVyIGEgbmFtZSBmb3IgdGhlIG5ldyBwcm9qZWN0Iik7DQogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09IG51bGwpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgYmUgZW1wdHkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygiLyIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiRXJyb3IiLCAiUHJvamVjdCBuYW1lIGNhbid0IGNvbnRhaW4gJy8nIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoIlxcIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgY29udGFpbiAnXFwnIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoIjoiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIlByb2plY3QgbmFtZSBjYW4ndCBjb250YWluICc6JyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCIqIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgY29udGFpbiAnKiciKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygiPyIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiRXJyb3IiLCAiUHJvamVjdCBuYW1lIGNhbid0IGNvbnRhaW4gJz8nIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoIlwiIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgY29udGFpbiAnXCInIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoIjwiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIlByb2plY3QgbmFtZSBjYW4ndCBjb250YWluICc8JyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCI+IikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgY29udGFpbiAnPiciKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygifCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiRXJyb3IiLCAiUHJvamVjdCBuYW1lIGNhbid0IGNvbnRhaW4gJ3wnIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoIi4iKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIlByb2plY3QgbmFtZSBjYW4ndCBjb250YWluICcuJyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCIgIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJQcm9qZWN0IG5hbWUgY2FuJ3QgY29udGFpbiAnICciKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgcHJvamVjdHMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvcHJvamVjdHMuanNvbiIpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2plY3RzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdHNbaV0ubmFtZSA9PSBuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIlByb2plY3QgbmFtZSBhbHJlYWR5IGV4aXN0cyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHByb2plY3RzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHRoaXMuUEFUSC5mb2xkZXIoKSArICIvcHJvamVjdHMvIiArIG5hbWUrICIuanNvbiINCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZyh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL3Byb2plY3RzLmpzb24iLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpOw0KICAgICAgICAgICAgICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9wcm9qZWN0cy8iICsgbmFtZSArICIuanNvbiIsIEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJwYWdlcyI6IFt7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImVsZW1lbnRzIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbG9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbG9yIjogIiNmZmZmZmZmZiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJwaXhlbFJhdGlvIjogIjExNTI6NjQ2Ig0KICAgICAgICAgICAgICAgICAgICB9KSk7DQoNCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRQcm9qZWN0TGlzdCgpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnN0b3AoKQ0KICAgICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgIH0NCiAgICBhc3luYyBnZXRQcm9qZWN0TGlzdCgpIHsNCiAgICAgICAgdGhpcy5ndWkuc2hvdygicHJvamVjdENob29zZSIpDQogICAgICAgIGlmICghYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5maWxlRXhpc3RzKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvcHJvamVjdHMuanNvbiIpKSB7DQogICAgICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9wcm9qZWN0cy5qc29uIiwgIltdIik7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgcHJvamVjdHMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvcHJvamVjdHMuanNvbiIpOw0KDQogICAgICAgIHRoaXMucHJvamVjdHMgPSB7fTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9qZWN0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdGhpcy5wcm9qZWN0c1twcm9qZWN0c1tpXS5uYW1lXSA9IHByb2plY3RzW2ldOw0KICAgICAgICB9DQoNCiAgICAgICAgYXdhaXQgdGhpcy5ndWkuc2V0UHJvamVjdHMocHJvamVjdHMpOw0KICAgIH0NCg0KICAgIGFzeW5jIGxvYWRQcm9qZWN0KG5hbWUpIHsNCiAgICAgICAgdGhpcy5ndWkuc2hvdygicHJvamVjdEVkaXQiKTsNCiAgICAgICAgdGhpcy5ndWkucmliYm9uLmxvYWRSaWJib25zKCk7DQoNCiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTsNCiAgICAgICAgdGhpcy5wYXRoID0gdGhpcy5wcm9qZWN0c1tuYW1lXS5wYXRoOw0KDQogICAgICAgIHRoaXMuZ3VpLmxvYWRJbnRvUHJvamVjdCh0aGlzLnBhdGgpOw0KICAgIH0NCg0KICAgIGFzeW5jIGNsb3NlUHJvamVjdCgpIHsNCiAgICAgICAgdGhpcy5ndWkuc2hvdygicHJvamVjdENob29zZSIpOw0KICAgIH0NCg0KICAgIGdldFBhdGgoKSB7DQogICAgICAgIHJldHVybiB0aGlzLnBhdGg7DQogICAgfQ0KfQ0KbmV3IHByb2dyYW0oKTs=", "projects": {"level.json": "ew0KICAicGFnZXMiOiBbDQogICAgew0KICAgICAgImVsZW1lbnRzIjogWw0KICAgICAgICB7DQogICAgICAgICAgInR5cGUiOiAidGV4dCIsDQogICAgICAgICAgImRhdGEiOiAiVGhpcyBpcyBhIHRleHRibG9jayIsDQogICAgICAgICAgInBvcyI6IHsNCiAgICAgICAgICAgICJ4IjogNzAsDQogICAgICAgICAgICAieSI6IDQ3DQogICAgICAgICAgfSwNCiAgICAgICAgICAic2l6ZSI6IHsNCiAgICAgICAgICAgICJ3aWR0aCI6IDMzNSwNCiAgICAgICAgICAgICJoZWlnaHQiOiA0Ng0KICAgICAgICAgIH0sDQogICAgICAgICAgInN0eWxpbmciOiB7DQogICAgICAgICAgICAiZm9udFNpemUiOiAiMzAiLA0KICAgICAgICAgICAgImZvbnRGYW1pbHkiOiAiQXJpYWwiLA0KICAgICAgICAgICAgImNvbG9yIjogIiMwMDdiZmZmZiIsDQogICAgICAgICAgICAiYmFja2dyb3VuZENvbG9yIjogIiNmYTAwMDBmZiIsDQogICAgICAgICAgICAiYm9yZGVyIjogIjEiLA0KICAgICAgICAgICAgImJvcmRlckNvbG9yIjogIiMwMDAwMDBmZiINCiAgICAgICAgICB9LA0KICAgICAgICAgICJsYXllciI6IDENCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICJ0eXBlIjogInRleHQiLA0KICAgICAgICAgICJkYXRhIjogIk5JQ0UiLA0KICAgICAgICAgICJwb3MiOiB7DQogICAgICAgICAgICAieCI6IDUwLA0KICAgICAgICAgICAgInkiOiAzMTANCiAgICAgICAgICB9LA0KICAgICAgICAgICJzaXplIjogew0KICAgICAgICAgICAgIndpZHRoIjogMTIzLA0KICAgICAgICAgICAgImhlaWdodCI6IDQ1DQogICAgICAgICAgfSwNCiAgICAgICAgICAic3R5bGluZyI6IHsNCiAgICAgICAgICAgICJmb250U2l6ZSI6IDQwLA0KICAgICAgICAgICAgImZvbnRGYW1pbHkiOiAiQXJpYWwiLA0KICAgICAgICAgICAgImNvbG9yIjogIiMwMDAwMDBmZiIsDQogICAgICAgICAgICAiYmFja2dyb3VuZENvbG9yIjogIiMwMDAwMDAwMCIsDQogICAgICAgICAgICAiYm9yZGVyIjogIjEiLA0KICAgICAgICAgICAgImJvcmRlckNvbG9yIjogIiMwMDAwMDBmZiINCiAgICAgICAgICB9LA0KICAgICAgICAgICJsYXllciI6IDINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgICJiYWNrZ3JvdW5kIjogew0KICAgICAgICAidHlwZSI6ICJjb2xvciIsDQogICAgICAgICJjb2xvciI6ICIjZmZmZmZmZmYiDQogICAgICB9DQogICAgfQ0KICBdLA0KICAicGl4ZWxSYXRpbyI6ICI3MDA6Mzk0Ig0KfQ=="}, "projects.json": "Ww0KXQ==", "run.js": "U3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbShQQVRILmZvbGRlcigpICsgIi9tYWluLmpzIik=", "style.css": "LypleGl0TWUgc3R5bGVzLiBVc2UgdGhpcyBmb3IgYWxsIGV4aXRNZSBzdHlsZXMNCiAgICBbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9IiJdew0KICAgIH0NCiovDQoNCi53aW5kb3dbd2luZG93aWQ9Int7d2luZG93SWR9fSJdIC50aXRsZS1iYXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNjNTNkMTU7DQp9DQoNCi53aW5kb3dbd2luZG93aWQ9Int7d2luZG93SWR9fSJdIC5jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFlOGU2Ow0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQoNCi53aW5kb3dbd2luZG93aWQ9Int7d2luZG93SWR9fSJdIC50aXRsZS1iYXIgLm1pbmltaXplIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzUzZDE1Ow0KfQ0KDQoud2luZG93W3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXSAudGl0bGUtYmFyIC5tYXhpbWl6ZSB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2M1M2QxNTsNCn0NCg0KLndpbmRvd1t3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il0gLnRpdGxlLWJhciAuY2xvc2Ugew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNjNTNkMTU7DQp9DQoNCi53aW5kb3dbd2luZG93aWQ9Int7d2luZG93SWR9fSJdIC50aXRsZS1iYXIgLm1pbmltaXplOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDQ0YjIzOw0KfQ0KDQoud2luZG93W3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXSAudGl0bGUtYmFyIC5tYXhpbWl6ZTpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0NGIyMzsNCn0NCg0KLndpbmRvd1t3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il0gLnRpdGxlLWJhciAuY2xvc2U6aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICM5NjIzMDA7DQp9DQoNCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJyaWJib25Db250cm9sbEJhciJdIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0idG9wQmFyIl0gew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgICBoZWlnaHQ6IDMwcHg7DQogICAgd2lkdGg6IDEwMCU7DQoNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzUzZDE1Ow0KDQoNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JmYmZiZjsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJwcm9qZWN0RWRpdCJdIHsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0idG9vbFNlbGVjdCJdIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgaGVpZ2h0OiAxMDBweDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmZiZmJmOw0KICAgIGZsZXgtd3JhcDogbm93cmFwOw0KICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Ow0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9InRvb2xTZWxlY3RFbGVtZW50Il0gew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleC13cmFwOiB3cmFwOw0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icmliYm9uVG9wIl0gew0KICAgIGhlaWdodDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNiZmJmYmY7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icmliYm9uVG9wIl06aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmViZWI7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icmliYm9uQm90dG9tIl0gew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTY7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icmliYm9uQm90dG9tIl06aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmViZWI7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icmliYm9uVG9wIl1bc2VsZWN0ZWRdIHsNCiAgICBib3JkZXItYm90dG9tOiBub25lOw0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9InByb2plY3RDb250ZW50Il0gew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7DQp9DQoNCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJlZGl0b3JSaWdodFNpZGUiXSB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA0cHgpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9ImJvdHRvbUNvbnRyb2xsIl0gew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7DQogICAgaGVpZ2h0OiAzMHB4Ow0KICAgIHdpZHRoOiBjYWxjKDEwMCUgKyAwMHB4KTsNCiAgICBib3R0b206IDBweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2JmYmZiZjsNCiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7DQogICAgZmxleC13cmFwOiBub3dyYXA7DQp9DQoNCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJwcm9qZWN0Q29udGVudElubmVyV3JhcGVyIl0gew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogZml0LWNvbnRlbnQ7DQp9DQoNCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJwcm9qZWN0Q29udGVudFdyYXBlciJdIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgb3ZlcmZsb3c6IGF1dG87DQogICAgLyogaGVpZ2h0OiBmaXQtY29udGVudDsgKi8NCiAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMCUgLSAzMHB4KTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICAvKiBtYXJnaW46IGF1dG87ICovDQogICAgLyogd2lkdGg6IGZpdC1jb250ZW50OyovDQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0icGFnZVNlbGVjdCJdIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgd2lkdGg6IDEwMnB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNlYWU4ZTY7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2JmYmZiZjsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJwYWdlUmVuZGVyIl0gew0KICAgIHdpZHRoOiAxMDBweDsNCiAgICBoZWlnaHQ6IDEwMHB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOw0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9InNtYWxsUGFnZSJdIHsNCiAgICB3aWR0aDogMTAwcHg7DQogICAgaGVpZ2h0OiBmaXQtY29udGVudDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjYmZiZmJmOw0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9ImVkaXRvciJdIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMzNweCk7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0iY29udGVudENoYW5nZXIiXSB7DQogICAgcG9pbnRlci1ldmVudHM6IG5vbmU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDAwOw0KICAgIHotaW5kZXg6IDk5OTk7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0iY29udGVudENoYW5nZXJfYm9tbWwiXSB7DQogICAgcG9pbnRlci1ldmVudHM6IGFsbDsNCiAgICBib3JkZXI6IDNweCByZ2IoMTYwLCAxNjAsIDE2MCkgc29saWQ7DQogICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgIHdpZHRoOiAxMHB4Ow0KICAgIGhlaWdodDogMTBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgei1pbmRleDogOTk5OTsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJjb250ZW50Q2hhbmdlckJvcmRlciJdIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgY3Vyc29yOiBtb3ZlOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIGJvcmRlcjogMnB4IHNvbGlkICM2OTY5Njk7DQogICAgdG9wOiAtMnB4Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBsZWZ0OiAtMnB4Ow0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9ImNvbnRlbnRDaGFuZ2VyQm9yZGVyIl0+ZGl2IHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDA0Ow0KICAgIHdpZHRoOiAzMHB4Ow0KICAgIGhlaWdodDogMzBweDsNCiAgICBwb2ludGVyLWV2ZW50czogYXV0bzsNCn0NCg0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9ImNvbnRlbnRDaGFuZ2VyQm9yZGVyIl0+ZGl2Om50aC1jaGlsZCgxKSB7DQogICAgdG9wOiAtMjBweDsNCiAgICBsZWZ0OiAwcHg7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0iY29udGVudENoYW5nZXJCb3JkZXIiXT5kaXY6bnRoLWNoaWxkKDIpIHsNCiAgICBib3R0b206IC0yMHB4Ow0KICAgIGxlZnQ6IDBweDsNCiAgICB3aWR0aDogMTAwJTsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJjb250ZW50Q2hhbmdlckJvcmRlciJdPmRpdjpudGgtY2hpbGQoMykgew0KICAgIGxlZnQ6IC0yMHB4Ow0KICAgIHRvcDogMHB4Ow0KICAgIGhlaWdodDogMTAwJTsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJjb250ZW50Q2hhbmdlckJvcmRlciJdPmRpdjpudGgtY2hpbGQoNCkgew0KICAgIHRvcDogMHB4Ow0KICAgIHJpZ2h0OiAtMjBweDsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoNClt3aW5kb3dpZD0ie3t3aW5kb3dJZH19Il1bd2luZG93ZWxlbWVudD0ic2VwZXJhdG9yIl0gew0KICAgIHdpZHRoOiAwcHg7DQogICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYmZiZmJmOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhOw0KICAgIG1hcmdpbjogMDsNCiAgICBtYXJnaW4tcmlnaHQ6IDhweDsNCiAgICBtYXJnaW4tbGVmdDogOHB4Ow0KfQ0KDQpbd2luZG93aWQ9Int7d2luZG93SWR9fSJdW3dpbmRvd2VsZW1lbnQ9ImRlc2NyaXB0b3IiXSB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJvdHRvbTogMDsNCiAgICBsZWZ0OiAwOw0KICAgIGNvbG9yOiBncmF5Ow0KICAgIGZvbnQtc2l6ZTogMThweDsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJvdXRsaW5lT3ZlcmxheSJdIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAwOw0KICAgIGxlZnQ6IDA7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDAwMDsNCiAgICB6LWluZGV4OiA5OTk5Ow0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIGJvcmRlcjogMTRweCBzb2xpZCByZ2JhKDI1NSwgMCwgMCwgMC4xMjMpOw0KICAgIG1hcmdpbi1sZWZ0OiAtMTRweDsNCiAgICBtYXJnaW4tdG9wOiAtMTRweDsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJhbGlnbkxpbmVIb3Jpem9udGFsIl0gew0KICAgIGhlaWdodDogMTAwMDBweDsNCiAgICB3aWR0aDogMHB4Ow0KICAgIGxlZnQ6IDMwMHB4Ow0KICAgIHRvcDogLTUwMDBweDsNCiAgICBib3JkZXItbGVmdDogM3B4IGRvdHRlZCAjZmY5MTAwYzc7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIHotaW5kZXg6IDk5OTk5OTsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJhbGlnbkxpbmVWZXJ0aWNhbCJdIHsNCiAgICBoZWlnaHQ6IDBweDsNCiAgICB3aWR0aDogMTAwMDBweDsNCiAgICBsZWZ0OiAtNTAwMHB4Ow0KICAgIHRvcDogMzAwcHg7DQogICAgYm9yZGVyLXRvcDogM3B4IGRvdHRlZCAjZmY5MTAwYzc7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KICAgIHotaW5kZXg6IDk5OTk5OTsNCn0NCg0KW3dpbmRvd2lkPSJ7e3dpbmRvd0lkfX0iXVt3aW5kb3dlbGVtZW50PSJhbGxBbGlnbkxpbmVzIl0gZGl2IHsNCiAgICBsZWZ0OiAwOw0KICAgIHRvcDogMDsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcG9pbnRlci1ldmVudHM6IG5vbmU7DQogICAgei1pbmRleDogOTk5OTk5Ow0KfQ=="}
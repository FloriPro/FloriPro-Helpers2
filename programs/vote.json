{"create.html": "PGRpdiBlbGVtZW50PSJhbGwiPg0KICAgIDxkaXY+DQogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ0aXRsZSIgZWxlbWVudD0idGl0bGUiIHBsYWNlaG9sZGVyPSJUaXRsZSI+DQogICAgICAgIDxicj4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImRlc2NyaXB0aW9uIiBlbGVtZW50PSJkZXNjcmlwdGlvbiIgcGxhY2Vob2xkZXI9IkRlc2NyaXB0aW9uIj4NCiAgICAgICAgPGJyPg0KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3B0aW9ucyIgZWxlbWVudD0ib3B0aW9ucyIgcGxhY2Vob2xkZXI9Ik9wdGlvbnMgKGE7YjtjKSI+DQogICAgICAgIDxicj4NCiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0icHJwYXNzd29yZCIgZWxlbWVudD0icHJwYXNzd29yZCIgcGxhY2Vob2xkZXI9InBhc3N3b3JkIGZvciByZXN1bHRzIj4NCiAgICAgICAgICAgIDxwPihlbXB0eSBmb3Igbm8pPC9wPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGJyPg0KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic2hvd1R5cGUiIGVsZW1lbnQ9InNob3dUeXBlIiBwbGFjZWhvbGRlcj0ic2hvdyB0eXBlIChiYXIsIHBpZSwgLi4uKSIgdmFsdWU9ImJhciI+DQogICAgICAgIDxicj4NCiAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ6ZXJvIiBlbGVtZW50PSJ6ZXJvIiBjaGVja2VkPg0KICAgICAgICA8bGFiZWwgZm9yPSJ6ZXJvIj5iZWdpbm4gYXQgemVybzwvbGFiZWw+DQogICAgICAgIDxicj4NCiAgICA8L2Rpdj4NCg0KICAgIDxidXR0b24gZWxlbWVudD0iY3JlYXRlIj5DcmVhdGU8L2J1dHRvbj4NCjwvZGl2Pg==", "html.html": "PGRpdiBlbGVtZW50PSJsb2FkZXIiPg0KICAgIDxidXR0b24gZWxlbWVudD0iY3JlYXRlQnV0dG9uIj5DcmVhdGUgcG9sbDwvYnV0dG9uPg0KICAgIDxidXR0b24gZWxlbWVudD0iY3JlYXRlQ2xvdWRCdXR0b24iPkNyZWF0ZSBXb3JkY2xvdWQ8L2J1dHRvbj4NCiAgICA8aHI+DQogICAgPHA+VmlldzwvcD4NCiAgICA8aW5wdXQgdHlwZT0idGV4dCIgZWxlbWVudD0idXJsIiBwbGFjZWhvbGRlcj0idm90ZSB1cmwiIC8+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJsb2FkIj5Mb2FkPC9idXR0b24+DQogICAgPGhyPg0KICAgIDxkaXYgZWxlbWVudD0ib2xkQ2hhcnRzIiBzcGVjaWFsPSJpc09nIj4NCg0KICAgIDwvZGl2Pg0KICAgIDxicj4NCiAgICA8YnV0dG9uIGVsZW1lbnQ9ImFkZFZvdGUiPkFkZCB2b3RlPC9idXR0b24+DQogICAgPGhyPg0KICAgIDxicj4NCiAgICA8YnI+DQoNCiAgICA8cD5DaGFydHMgYnkgPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vd3d3LmNoYXJ0anMub3JnLyI+Y2hhcnRzLmpzPC9hPjwvcD4NCiAgICA8cD5Xb3JkY2xvdWQgYnkgPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vd3d3LmFueWNoYXJ0LmNvbS8iPmFueWNoYXJ0PC9hPjwvcD4NCiAgICA8cD5RUi1Db2RlcyBieSA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL25lb2NvdGljL3FyaW91cyI+cXJpb3VzPC9hPjwvcD4NCjwvZGl2Pg0KPGRpdiBlbGVtZW50PSJvdXQiIHN0eWxlPSJoZWlnaHQ6MTAwJTt3aWR0aDogMTAwJTtkaXNwbGF5Om5vbmU7Ij4NCiAgICA8Y2FudmFzIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgZWxlbWVudD0ibXlDaGFydCIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiPjwvY2FudmFzPg0KICAgIDxkaXYgaWQ9Il9sb2FkaW5nQ29udGFpbmVyIiBlbGVtZW50PSJjb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lO2hlaWdodDogMTAwJTt3aWR0aDogMTAwJTsiPjwvZGl2Pg0KPC9kaXY+", "install.js": "YXN5bmMgZnVuY3Rpb24gcnVuKCkgew0KICAgIGF3YWl0IFN5c3RlbS5vcHRpb25zLmFkZFZhbHVlKCJwcm9ncmFtcyIsICJ2b3RlIiwgeyAicGF0aCI6ICJjL3Byb2dyYW1zL3ZvdGUvbWFpbi5qcyIsICJuYW1lIjogIlZvdGUiLCAicnVuIjogImMvcHJvZ3JhbXMvdm90ZS9ydW4uanMiIH0sIHRydWUpOw0KICAgIFN5c3RlbUh0bWwudXBkYXRlU3RhcnRtZW51KCkNCg0KICAgIC8vZGVza3RvcCBzaG9ydGN1dA0KICAgIGlmICghYXdhaXQgU3lzdGVtSHRtbC5kZXNrdG9wLmV4aXN0c0xpbmsoImMvcHJvZ3JhbXMvdm90ZS9ydW4uanMiKSkgew0KICAgICAgICBhd2FpdCBTeXN0ZW1IdG1sLmRlc2t0b3AuYWRkTGluaygiYy9wcm9ncmFtcy92b3RlL3J1bi5qcyIsICJWb3RlIiwgImMvcHJvZ3JhbXMvdm90ZS9sb2dvLndlYnAiKTsNCiAgICB9DQoNCiAgICAvL2luc3RhbGwgbGlicw0KICAgIC8vKiBhbnljaGFydA0KICAgIC8vKiBxcmNvZGVqcw0KICAgIC8vKiBjaGFydGpzDQogICAgYXdhaXQgU3lzdGVtLnByb2dyYW0ubGliSW5zdGFsbCgiYW55Y2hhcnQiKTsNCiAgICBhd2FpdCBTeXN0ZW0ucHJvZ3JhbS5saWJJbnN0YWxsKCJxcmlvdXMiKTsNCiAgICBhd2FpdCBTeXN0ZW0ucHJvZ3JhbS5saWJJbnN0YWxsKCJjaGFydGpzIik7DQoNCiAgICAvL2FkZCBjL3VzZXIvdm90ZS9wb2xscy5qc29uIHRvIHBlcnNpc3RhbmRGaWxlcy5qc29uIGZpbGUNCiAgICB2YXIgcGVyc2lzdGFudEZpbGVzID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlSnNvbigiYy9wZXJzaXN0YW5kRmlsZXMuanNvbiIpOw0KICAgIGlmICghcGVyc2lzdGFudEZpbGVzLmluY2x1ZGVzKCJjL3VzZXIvdm90ZS9wb2xscy5qc29uIikpIHsNCiAgICAgICAgcGVyc2lzdGFudEZpbGVzLnB1c2goImMvdXNlci92b3RlL3BvbGxzLmpzb24iKTsNCiAgICAgICAgYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5zZXRGaWxlU3RyaW5nKCJjL3BlcnNpc3RhbmRGaWxlcy5qc29uIiwgSlNPTi5zdHJpbmdpZnkocGVyc2lzdGFudEZpbGVzKSk7DQogICAgfQ0KDQoNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCnJ1bigpOw==", "installLocation.dat": "Yy9wcm9ncmFtcy92b3Rl", "logo.webp": "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", "main.js": "Y2xhc3MgcHJvZ3JhbSBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgICBzdXBlcigpDQogICAgICAgIC8vZG9uJ3QgdXNlIQ0KICAgIH0NCiAgICBhc3luYyBpbml0KCkgew0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge0h0bWxXaW5kb3d9DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLndpbmRvdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5jcmVhdGVXaW5kb3coIlZvdGUiLA0KICAgICAgICAgICAgLy9vbnJlYWR5Og0KICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vc2V0IGh0bWwNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hcHBlYXJlbmNlLnNldExvZ28odGhpcy5QQVRILmZvbGRlcigpICsgIi9sb2dvLndlYnAiKQ0KDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2V0Q29udGVudChhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9odG1sLmh0bWwiKSk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS5zZXRJbm5lclNpemUoNDEwLCA0MTApOw0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUudXNlckNhblJlc2l6ZSh0cnVlKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRPbGRDaGFydHMoKTsNCg0KICAgICAgICAgICAgICAgIC8vc2V0IHJhbmRvbSBpZCBmb3IgY29udGFpbmVyDQogICAgICAgICAgICAgICAgdGhpcy5hbnljaGFydENvbnRhaW5lcklkID0gU3lzdGVtLm1ha2VpZCgxMCk7DQogICAgICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJjb250YWluZXIiKSkuaWQgPSB0aGlzLmFueWNoYXJ0Q29udGFpbmVySWQ7DQoNCiAgICAgICAgICAgICAgICAvLy8vLy8vLy9Mb2FkIGxpYnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8NCiAgICAgICAgICAgICAgICAvL2xvYWQgYW55Y2hhcnQganMgbGliDQogICAgICAgICAgICAgICAgYXdhaXQgU3lzdGVtLmdldExpYigiYW55Y2hhcnQiKSAvLyByZXR1cm5zIHRoZSBnbG9iYWwgYW55Y2hhcnQgb2JqZWN0LCBzbyBpIGRvbnQgbmVlZCBpdCwgYmVjYXVzZSBpIGNhbiB1c2UgdGhlIGdsb2JhbCBvbmUgOikNCiAgICAgICAgICAgICAgICB0aGlzLmFueVJlYWR5KCk7DQoNCiAgICAgICAgICAgICAgICAvL2xvYWQgcXIgY29kZSBqcw0KICAgICAgICAgICAgICAgIGF3YWl0IFN5c3RlbS5nZXRMaWIoInFyaW91cyIpOw0KDQogICAgICAgICAgICAgICAgLy9sb2FkIGNoYXJ0IGpzDQogICAgICAgICAgICAgICAgYXdhaXQgU3lzdGVtLmdldExpYigiY2hhcnRqcyIpOw0KICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KDQogICAgICAgICAgICAgICAgLy9yZWxhb2QgY2hhcnQgcmlnaHRjbGljayBidXR0b24NCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoIm91dCIpKS5jb250ZXh0c2NyaXB0ID0gKGF0dCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgICAgInJlbG9hZCI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJiYWNrIjogYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgibXlDaGFydCIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiY29udGFpbmVyIikpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvdXQiKSkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImxvYWRlciIpKS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgInZvdGUgdXJsIjogYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIlZvdGUgbGluayIsICJodHRwczovL3ZvdGUuZmx1bHUuZXUvIiArIHRoaXMudm90ZUlkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcXJDb2RlKCJodHRwczovL3ZvdGUuZmx1bHUuZXUvIiArIHRoaXMudm90ZUlkLCB0aGlzLlBBVEgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyIHRvIGNyZWF0ZUJ1dHRvbg0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJjcmVhdGVCdXR0b24iLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vbmV3IHdpbmRvdyBjcmVhdGUNCiAgICAgICAgICAgICAgICAgICAgbmV3IGNyZWF0ZSh0aGlzLlBBVEgsIHRoaXMpOw0KICAgICAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImNyZWF0ZUNsb3VkQnV0dG9uIiwgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQogICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCJQT1NUIiwgImh0dHBzOi8vdm90ZS5mbHVsdS5ldS9hcGkvY3JlYXRlQ2xvdWQiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7DQogICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZVN0cmluZ1NlbGVjdCgiVGl0bGUiLCAiZW50ZXIgdGhlIHRpdGxlIG9mIHRoZSB3b3JkY2xvdWQiKQ0KICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAidGl0bGUiOiB0aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZVN0cmluZ1NlbGVjdCgiRGVzY3JpcHRpb24iLCAiZW50ZXIgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB3b3JkY2xvdWQiKSwNCiAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICB4aHIudGhpID0gdGhpczsNCiAgICAgICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5yZXNwb25zZVRleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAvL1N5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJXb3JkQ2xvdWQgbGluayIsICJodHRwczovL3ZvdGUuZmx1bHUuZXUvIiArIGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHFyQ29kZSgiaHR0cHM6Ly92b3RlLmZsdWx1LmV1LyIgKyBkYXRhLCB0aGlzLnRoaS5QQVRIKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aGkuYWRkQ2hhcnQoZGF0YSwgdGl0bGUsICIiLCAid29yZGNsb3VkIikNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgInNvbWV0aGluZyB3ZW50IHdyb25nIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiRXJyb3IiLCAic29tZXRoaW5nIHdlbnQgd3JvbmciKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICAgICAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgdG8gbG9hZA0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJsb2FkIiwgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvL3BhcnNlIHRoZSBpbnB1dA0KICAgICAgICAgICAgICAgICAgICB2YXIgaWQ7DQogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInVybCIpKS52YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5zcGxpdCgiLyIpLmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZCA9IHVybDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1cmwuc3BsaXQoIi8iKVszXSA9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgInRoZSB1cmwgeW91IGVudGVyZWQgaXMgbm90IHZhbGlkIik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZCA9IHVybC5zcGxpdCgiLyIpWzNdOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXR3b3JrLnNldFBvbGwoaWQpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vZ2V0IGRhdGEgZnJvbSBhcGkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzdyA9IHVuZGVmaW5lZDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy52b3RlSWQgPSB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIHZhciBwYXNzdyA9ICIiOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gYXdhaXQgKGF3YWl0IFN5c3RlbS5uZXR3b3JrLmZldGNoKCJodHRwczovL3ZvdGUuZmx1bHUuZXUvYXBpL2VuZHBvaW50L2dldFZvdGUvIiArIGlkICsgIiMiICsgU3lzdGVtLm1ha2VpZCgxMDApKSkudGV4dCgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PSAicGFzc3ciKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZVN0cmluZ1NlbGVjdCgiUGFzc3dvcmQiLCAidG8gYWNjZXNzIHRoaXMgZGF0YSB5b3UgbmVlZCB0byBlbnRlciBhIHBhc3N3b3JkIik7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IChhd2FpdCBTeXN0ZW0ubmV0d29yay5mZXRjaCgiaHR0cHM6Ly92b3RlLmZsdWx1LmV1L2FwaS9lbmRwb2ludC9nZXRWb3RlLyIgKyBpZCArICIvIiArIHBhc3N3ICsgIiMiICsgU3lzdGVtLm1ha2VpZCgxMDApKSkudGV4dCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT0gInBhc3N3IHdyb25nIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJQYXNzd29yZCB3cm9uZyIsICJ0aGUgcGFzc3dvcmQgeW91IGVudGVyZWQgaXMgd3JvbmciKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3N3ID0gcGFzc3c7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy52b3RlSWQgPSBpZDsNCg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byBvbGQgdm90ZXMNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGFydChpZCwgZGF0YS50aXRsZSwgcGFzc3csIGRhdGEudHlwZSkNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhKGRhdGEpOw0KICAgICAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICAgICAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgdG8gYWRkIGEgdm90ZSB0byB0aGUgbGF0ZXN0IHZvdGVzDQogICAgICAgICAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImFkZFZvdGUiLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpZDsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZVN0cmluZ1NlbGVjdCgiVm90ZSB1cmwiLCAiZW50ZXIgdGhlIHVybCBvZiB0aGUgdm90ZSB5b3Ugd2FudCB0byBhZGQgdG8gdGhlIGxhdGVzdCB2b3RlcyIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAodXJsLnNwbGl0KCIvIikubGVuZ3RoID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gdXJsOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVybC5zcGxpdCgiLyIpWzNdID09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiRXJyb3IiLCAidGhlIHVybCB5b3UgZW50ZXJlZCBpcyBub3QgdmFsaWQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gdXJsLnNwbGl0KCIvIilbM107DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IChhd2FpdCBTeXN0ZW0ubmV0d29yay5mZXRjaCgiaHR0cHM6Ly92b3RlLmZsdWx1LmV1L2FwaS9lbmRwb2ludC9nZXRWb3RlLyIgKyBpZCArICIjIiArIFN5c3RlbS5tYWtlaWQoNSkpKS50ZXh0KCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09ICJwYXNzdyIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXNzdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZVN0cmluZ1NlbGVjdCgiUGFzc3dvcmQiLCAidG8gYWNjZXNzIHRoaXMgZGF0YSB5b3UgbmVlZCB0byBlbnRlciBhIHBhc3N3b3JkIik7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGF3YWl0IChhd2FpdCBTeXN0ZW0ubmV0d29yay5mZXRjaCgiaHR0cHM6Ly92b3RlLmZsdWx1LmV1L2FwaS9lbmRwb2ludC9nZXRWb3RlLyIgKyBpZCArICIvIiArIHBhc3N3ICsgIiMiICsgU3lzdGVtLm1ha2VpZCg1KSkpLnRleHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09ICJwYXNzdyB3cm9uZyIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiUGFzc3dvcmQgd3JvbmciLCAidGhlIHBhc3N3b3JkIHlvdSBlbnRlcmVkIGlzIHdyb25nIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnQoaWQsIGRhdGFbInRpdGxlIl0sIGRhdGFbInBycGFzc3dvcmQiXSwgZGF0YVsidHlwZSJdKTsNCiAgICAgICAgICAgICAgICB9LCB0aGlzKTsNCg0KICAgICAgICAgICAgICAgIC8vb3BlbiBhIHJlY2VudCB2b3RlDQogICAgICAgICAgICAgICAgLy9nZXRzIGNhbGxkIHR3byB0aW1lcywgYmVjYXVzZSB0aGUgZXZlbnQgbGlzdGVuZXIgaXMgdG8gdGhlIGVsbWVubnQgb2xkQ2hhcnRzLCB3aGljaCBjb250YWlucyBhbm90aGVyIGVsZW1lbnQgb2xkQ2hhcnRzDQogICAgICAgICAgICAgICAgLy9jaGVjayBpZiBpdCBpcyB0aGUgc2Vjb25kIGNhbGwNCiAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJvbGRDaGFydHMiLCBhc3luYyAoXywgX18sIF9fXywgZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoInZvdGVJZCIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCkgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IHRydWU7DQoNCiAgICAgICAgICAgICAgICAgICAgLy9nZXQgZGF0YSBmcm9tIGZpbGUNCiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKCJjL3VzZXIvdm90ZS9wb2xscy5qc29uIik7DQogICAgICAgICAgICAgICAgICAgIHZhciBpID0gZC5maW5kSW5kZXgoKGUpID0+IGUuaWQgPT0gaWQpOw0KICAgICAgICAgICAgICAgICAgICBkID0gZFtpXTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoZC5wYXNzd29yZCA9PSAiIiB8fCBkLnBhc3N3b3JkID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCAoYXdhaXQgU3lzdGVtLm5ldHdvcmsuZmV0Y2goImh0dHBzOi8vdm90ZS5mbHVsdS5ldS9hcGkvZW5kcG9pbnQvZ2V0Vm90ZS8iICsgaWQgKyAiIyIgKyBTeXN0ZW0ubWFrZWlkKDUpKSkudGV4dCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzdyA9IHVuZGVmaW5lZDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gYXdhaXQgKGF3YWl0IFN5c3RlbS5uZXR3b3JrLmZldGNoKCJodHRwczovL3ZvdGUuZmx1bHUuZXUvYXBpL2VuZHBvaW50L2dldFZvdGUvIiArIGlkICsgIi8iICsgZC5wYXNzd29yZCArICIjIiArIFN5c3RlbS5tYWtlaWQoNSkpKS50ZXh0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3N3ID0gZC5wYXNzd29yZDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnZvdGVJZCA9IGlkOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMubmV0d29yay5zZXRQb2xsKGlkKTsNCg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRGF0YShkYXRhKTsNCiAgICAgICAgICAgICAgICB9LCB0aGlzKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLndpbmRvdy5jbG9zZSA9ICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3RvcCgpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQoNCiAgICAgICAgLy91c2UgbmV0d29yay5qcyBmaWxlIGZvciB3c2Nvbm5lY3Rpb24NCiAgICAgICAgLyoqDQogICAgICAgICAqIEB0eXBlIHtufQ0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IChhd2FpdCBTeXN0ZW0ucnVuKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvbmV0d29yay5qcyIpKSgpOw0KICAgICAgICB0aGlzLm5ldHdvcmsub251cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpOw0KICAgIH0NCg0KICAgIGFueVJlYWR5KCkgew0KICAgICAgICB0aGlzLmFueWNoYXJ0ID0gYW55Y2hhcnQudGFnQ2xvdWQoKTsNCiAgICAgICAgdGhpcy5hbnljaGFydC50aXRsZSgiTG9hZGluZy4uLiIpOw0KICAgICAgICB0aGlzLmFueWNoYXJ0LmFuZ2xlcyhbMF0pDQogICAgICAgIHRoaXMuYW55Y2hhcnQudGV4dFNwYWNpbmcoMyk7DQogICAgICAgIHRoaXMuYW55Y2hhcnQubW9kZSgic3BpcmFsIik7DQogICAgICAgIHRoaXMuYW55Y2hhcnQuY29udGFpbmVyKHRoaXMuYW55Y2hhcnRDb250YWluZXJJZCk7DQogICAgfQ0KDQogICAgLy9yZWxvYWQgdGhlIGNoYXJ0DQogICAgYXN5bmMgcmVsb2FkKCkgew0KICAgICAgICAvL2dldCBkYXRhIGZyb20gYXBpDQogICAgICAgIGlmICh0aGlzLnBhc3N3ID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgdmFyIGRhdGEgPSBhd2FpdCAoYXdhaXQgU3lzdGVtLm5ldHdvcmsuZmV0Y2goImh0dHBzOi8vdm90ZS5mbHVsdS5ldS9hcGkvZW5kcG9pbnQvZ2V0Vm90ZS8iICsgdGhpcy52b3RlSWQgKyAiIyIgKyBTeXN0ZW0ubWFrZWlkKDEwMCkpKS50ZXh0KCk7DQogICAgICAgICAgICBpZiAoZGF0YSA9PSAicGFzc3ciKSB7DQogICAgICAgICAgICAgICAgYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIlBhc3N3b3JkIG5lZWRlZCIsICJ0byBhY2Nlc3MgdGhpcyBkYXRhIHlvdSBuZWVkIHRvIGVudGVyIGEgcGFzc3dvcmQiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhciBkYXRhID0gYXdhaXQgKGF3YWl0IFN5c3RlbS5uZXR3b3JrLmZldGNoKCJodHRwczovL3ZvdGUuZmx1bHUuZXUvYXBpL2VuZHBvaW50L2dldFZvdGUvIiArIHRoaXMudm90ZUlkICsgIi8iICsgdGhpcy5wYXNzdyArICIjIiArIFN5c3RlbS5tYWtlaWQoMTAwKSkpLnRleHQoKTsNCiAgICAgICAgfQ0KICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTsNCiAgICAgICAgdGhpcy5sb2FkRGF0YShkYXRhKTsNCiAgICB9DQogICAgYXN5bmMgbG9hZERhdGEoZGF0YSkgew0KICAgICAgICB2YXIgc2hvd1R5cGUgPSBkYXRhLnR5cGU7Ly93b3JkY2xvdWQvY2hhcnQNCiAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IHNob3dUeXBlOw0KICAgICAgICBpZiAoc2hvd1R5cGUgPT0gIndvcmRjbG91ZCIpIHsNCiAgICAgICAgICAgIHZhciB0YWdsaXN0ID0gZGF0YS50YWdsaXN0Ow0KDQogICAgICAgICAgICB2YXIgdGFnbGlzdDIgPSBbXTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGFnbGlzdCkgew0KICAgICAgICAgICAgICAgIHRhZ2xpc3QyLnB1c2goeyB4OiBpLCB2YWx1ZTogdGFnbGlzdFtpXSB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYW55Y2hhcnQuZGF0YSh0YWdsaXN0Mik7DQoNCiAgICAgICAgICAgIC8vdXBkYXRlIHRpdGxlDQogICAgICAgICAgICB0aGlzLmFueWNoYXJ0LnRpdGxlKGRhdGEudGl0bGUgKyAiIHwgIiArIGRhdGEuZGVzY3JpcHRpb24pOw0KDQogICAgICAgICAgICAvL3Nob3cgYW55Y2hhcnQgY29udGFpbmVyDQogICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImNvbnRhaW5lciIpKS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImxvYWRlciIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvdXQiKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgdGhpcy5hbnljaGFydC5kcmF3KCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuc2hvd1R5cGU7DQogICAgICAgICAgICB2YXIgbGFiZWwgPSBkYXRhLnRpdGxlOw0KICAgICAgICAgICAgdmFyIGxhYmVscyA9IGRhdGEub3B0aW9uczsNCiAgICAgICAgICAgIHZhciBkID0gW107DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGQucHVzaChkYXRhLnZvdGVzW2xhYmVsc1tpXV0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJlZ2luQXRaZXJvID0gZGF0YS56ZXJvOw0KDQogICAgICAgICAgICAvL3JlbW92ZSB0aGUgb2xkIGNoYXJ0DQogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hhcnQgIT0gdW5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENoYXJ0LmRlc3Ryb3koKTsNCg0KICAgICAgICAgICAgLy9sb2FkIGNoYXJ0DQogICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWQodHlwZSwgbGFiZWwsIGxhYmVscywgZCwgYmVnaW5BdFplcm8pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogZ2V0cyBjYWxsZWQgd2hlbiB0aGUgZGF0YSBvZiB0aGUgY3VycmVudCBjaGFydCBnZXRzIGNoYW5nZWQNCiAgICAgKi8NCiAgICBhc3luYyB1cGRhdGUoZGF0YSkgew0KICAgICAgICBpZiAoZGF0YVsicG9sbFR5cGUiXSA9PSAid29yZGNsb3VkIikgew0KICAgICAgICAgICAgdmFyIHRhZ2xpc3QgPSBkYXRhWyJ0YWdsaXN0Il07DQoNCiAgICAgICAgICAgIHZhciB0YWdsaXN0MiA9IFtdDQogICAgICAgICAgICBmb3IgKHZhciBpIGluIHRhZ2xpc3QpIHsNCiAgICAgICAgICAgICAgICB0YWdsaXN0Mi5wdXNoKHsgeDogaSwgdmFsdWU6IHRhZ2xpc3RbaV0gfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmFueWNoYXJ0LmRhdGEodGFnbGlzdDIpOw0KICAgICAgICAgICAgdGhpcy5hbnljaGFydC5kcmF3KCk7DQogICAgICAgIH0gZWxzZSBpZiAoZGF0YVsicG9sbFR5cGUiXSA9PSAiY2hhcnQiKSB7DQogICAgICAgICAgICBpZiAoZGF0YVsidHlwZSJdID09ICJhZGQiKSB7DQogICAgICAgICAgICAgICAgdmFyIGluZGV4VG9VcGRhdGUgPSB0aGlzLmN1cnJlbnRDaGFydC5kYXRhLmxhYmVscy5pbmRleE9mKGRhdGFbIm9wdGlvbiJdKTsNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGFbaW5kZXhUb1VwZGF0ZV0gKz0gMTsNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGFydC51cGRhdGUoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCJnb3QgdXBkYXRlIGJ1dCB0eXBlIGlzIG5vdCBhZGQiKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBiYXINCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgIiMgb2YgVm90ZXMiDQogICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGFiZWxzIFsicmVkIiwgImJsdWUiXQ0KICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGRhdGEgWzEsIDJdDQogICAgICogQHBhcmFtIHtib29sZWFufSBiZWdpbkF0WmVybyBmYWxzZQ0KICAgICAqLw0KICAgIGFzeW5jIGxvYWQodHlwZSwgbGFiZWwsIGxhYmVscywgZGF0YSwgYmVnaW5BdFplcm8pIHsNCiAgICAgICAgY29uc3QgY3R4ID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoIm15Q2hhcnQiKTsNCiAgICAgICAgY3R4LnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvdXQiKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImxvYWRlciIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgIHRoaXMuY3VycmVudENoYXJ0ID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICAgICAgdHlwZTogdHlwZSwNCiAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICBsYWJlbHM6IGxhYmVscywNCiAgICAgICAgICAgICAgICBkYXRhc2V0czogW3sNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLA0KICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMQ0KICAgICAgICAgICAgICAgIH1dDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb3B0aW9uczogew0KICAgICAgICAgICAgICAgIHNjYWxlczogew0KICAgICAgICAgICAgICAgICAgICB5OiB7DQogICAgICAgICAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogYmVnaW5BdFplcm8NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZE9sZENoYXJ0cygpIHsNCiAgICAgICAgaWYgKGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZmlsZUV4aXN0cygiYy91c2VyL3ZvdGUvcG9sbHMuanNvbiIpKSB7DQogICAgICAgICAgICAvLyBleGFtcGxlOiBbe2lkOiAiQWp4bGtjdjEyQSIsIHRpdGxlOiAidGVzdCJ9LCB7aWQ6ICJhQXNrZmwyMTNzIiwgdGl0bGU6ICJ0ZXN0MiIsIHBhc3N3b3JkOiAiMTIzNCJ9XQ0KICAgICAgICAgICAgdmFyIG9sZFZvdGVzID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlSnNvbigiYy91c2VyL3ZvdGUvcG9sbHMuanNvbiIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdmFyIG9sZFZvdGVzID0gW10NCiAgICAgICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3ZvdGUvcG9sbHMuanNvbiIsICJbXSIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGVsID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnRzKCJvbGRDaGFydHMiKTsNCiAgICAgICAgZm9yICh2YXIgeCBvZiBlbCkgew0KICAgICAgICAgICAgaWYgKHguZ2V0QXR0cmlidXRlKCJzcGVjaWFsIikgPT0gImlzT2ciKSB7DQogICAgICAgICAgICAgICAgZWwgPSB4Ow0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZWwuaW5uZXJIVE1MID0gIiI7DQoNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRWb3Rlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgaWYgKGkgPT0gMTApIHsgYnJlYWs7IH0NCg0KICAgICAgICAgICAgdmFyIHZvdGUgPSBvbGRWb3Rlc1tpXTsNCiAgICAgICAgICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsNCiAgICAgICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSB2b3RlLnRpdGxlICsgIiAoIiArIHZvdGUuaWQgKyAiIHwgIiArIHZvdGUudHlwZSArICIpIjsNCiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAib2xkQ2hhcnRzIik7DQogICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCJ2b3RlSWQiLCB2b3RlLmlkKTsNCg0KICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYnV0dG9uKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGF3YWl0IHRoaXMud2luZG93LnBhcnNlTmV3SHRtbCgpOw0KICAgIH0NCg0KICAgIGFzeW5jIGFkZENoYXJ0KHZvdGVJZCwgdGl0bGUsIHBhc3N3b3JkLCB0eXBlKSB7DQogICAgICAgIHZhciBvbGRWb3RlcyA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci92b3RlL3BvbGxzLmpzb24iKTsNCg0KICAgICAgICAvL2NoZWNrIGlmIGFsbHJlYWR5IGV4aXN0cw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZFZvdGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAob2xkVm90ZXNbaV0uaWQgPT0gdm90ZUlkKSB7DQogICAgICAgICAgICAgICAgLy9wdXQgaXQgb24gdG9wDQogICAgICAgICAgICAgICAgb2xkVm90ZXMuc3BsaWNlKGksIDEpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHBhc3N3b3JkID09IHVuZGVmaW5lZCkgeyBwYXNzd29yZCA9ICIiOyB9DQogICAgICAgIG9sZFZvdGVzID0gW3sgaWQ6IHZvdGVJZCwgdGl0bGU6IHRpdGxlLCBwYXNzd29yZDogcGFzc3dvcmQsIHR5cGU6IHR5cGUgfV0uY29uY2F0KG9sZFZvdGVzKTsNCiAgICAgICAgLy9vbGRWb3Rlcy5wdXNoKHsgaWQ6IHZvdGVJZCwgdGl0bGU6IHRpdGxlLCBwYXNzd29yZDogcGFzc3dvcmQsIHR5cGU6IHR5cGUgfSk7DQogICAgICAgIFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3ZvdGUvcG9sbHMuanNvbiIsIEpTT04uc3RyaW5naWZ5KG9sZFZvdGVzKSk7DQoNCiAgICAgICAgdGhpcy5sb2FkT2xkQ2hhcnRzKCk7DQogICAgfQ0KfQ0KDQpjbGFzcyBjcmVhdGUgew0KICAgIGNvbnN0cnVjdG9yKHBhdGgsIHBhcmVudCkgew0KICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDsNCiAgICAgICAgdGhpcy5QQVRIID0gcGF0aDsNCiAgICAgICAgdGhpcy5sb2FkKCk7DQogICAgfQ0KICAgIGFzeW5jIGxvYWQoKSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7SHRtbFdpbmRvd30NCiAgICAgICAgICovDQogICAgICAgIHRoaXMud2luZG93ID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLmNyZWF0ZVdpbmRvdygiQ3JlYXRlIFZvdGUiLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hcHBlYXJlbmNlLnNldExvZ28odGhpcy5QQVRILmZvbGRlcigpICsgIi9sb2dvLndlYnAiKQ0KICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2V0Q29udGVudChhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9jcmVhdGUuaHRtbCIpKTsNCiAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0SW5uZXJTaXplKDQwMCwgNDAwKTsNCiAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUudXNlckNhblJlc2l6ZSh0cnVlKTsNCg0KICAgICAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImNyZWF0ZSIsIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAvL2hpZGUgZWxlbWVudCBhbGwNCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImFsbCIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgICAgICAgICAgLy9zZW5kIGRhdGEgdG8gc2VydmVyDQogICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ0aXRsZSIpKS52YWx1ZTsNCiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImRlc2NyaXB0aW9uIikpLnZhbHVlOw0KICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvcHRpb25zIikpLnZhbHVlOw0KICAgICAgICAgICAgICAgIHZhciBwcnBhc3N3b3JkID0gKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJwcnBhc3N3b3JkIikpLnZhbHVlOw0KICAgICAgICAgICAgICAgIHZhciBwdWJsaWNSZXN1bHRzID0gcHJwYXNzd29yZCA9PSAiIjsNCiAgICAgICAgICAgICAgICB2YXIgc2hvd1R5cGUgPSAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInNob3dUeXBlIikpLnZhbHVlOw0KICAgICAgICAgICAgICAgIHZhciB6ZXJvID0gKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ6ZXJvIikpLmNoZWNrZWQ7DQoNCiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQogICAgICAgICAgICAgICAgeGhyLm9wZW4oIlBPU1QiLCAiaHR0cHM6Ly92b3RlLmZsdWx1LmV1L2FwaS9jcmVhdGUiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsNCiAgICAgICAgICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwNCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLA0KICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLA0KICAgICAgICAgICAgICAgICAgICBwdWJsaWNSZXN1bHRzOiBwdWJsaWNSZXN1bHRzLA0KICAgICAgICAgICAgICAgICAgICBwcnBhc3N3b3JkOiBwcnBhc3N3b3JkLA0KICAgICAgICAgICAgICAgICAgICBzaG93VHlwZTogc2hvd1R5cGUsDQogICAgICAgICAgICAgICAgICAgIHplcm86IHplcm8NCiAgICAgICAgICAgICAgICB9KSk7DQogICAgICAgICAgICAgICAgeGhyLnRoaSA9IHRoaXM7DQogICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJlc3BvbnNlVGV4dDsNCiAgICAgICAgICAgICAgICAgICAgLy9TeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIucHJlc2V0cy5jcmVhdGVJbmZvcm1hdGlvbigiVm90ZSBsaW5rIiwgImh0dHBzOi8vdm90ZS5mbHVsdS5ldS8iICsgZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIG5ldyBxckNvZGUoImh0dHBzOi8vdm90ZS5mbHVsdS5ldS8iICsgZGF0YSwgdGhpcy50aGkuUEFUSCk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gb2xkIGNoYXJ0cw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRoaS5wYXJlbnQuYWRkQ2hhcnQoZGF0YSwgdGl0bGUsIHBycGFzc3dvcmQsICJjaGFydCIpOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMudGhpLndpbmRvdy5tYWtlQ2xvc2UoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgeGhyLm9uYWJvcnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJFcnJvciIsICJTb21ldGhpbmcgd2VudCB3cm9uZyIpOw0KICAgICAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy50aGkud2luZG93LmdldEh0bWxFbGVtZW50KCJhbGwiKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB4aHIub25lcnJvciA9IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIlNvbWV0aGluZyB3ZW50IHdyb25nIik7DQogICAgICAgICAgICAgICAgICAgIChhd2FpdCB0aGlzLnRoaS53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImFsbCIpKS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwgdGhpcyk7DQogICAgICAgIH0pOw0KICAgIH0NCn0NCg0KY2xhc3MgcXJDb2RlIHsNCiAgICBjb25zdHJ1Y3Rvcih1cmwsIHBhdGgpIHsNCiAgICAgICAgdGhpcy51cmwgPSB1cmw7DQogICAgICAgIHRoaXMuUEFUSCA9IHBhdGg7DQogICAgICAgIHRoaXMubG9hZCgpOw0KICAgIH0NCiAgICBhc3luYyBsb2FkKCkgew0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge0h0bWxXaW5kb3d9DQogICAgICAgICAqLw0KICAgICAgICB0aGlzLndpbmRvdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5jcmVhdGVXaW5kb3coIlFSIENvZGUiLCBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hcHBlYXJlbmNlLnNldExvZ28odGhpcy5QQVRILmZvbGRlcigpICsgIi9sb2dvLndlYnAiKQ0KICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2V0Q29udGVudChhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVTdHJpbmcodGhpcy5QQVRILmZvbGRlcigpICsgIi9xci5odG1sIikpOw0KICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS5zZXRJbm5lclNpemUoNDAwLCA0MzApOw0KICAgICAgICAgICAgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpOw0KDQogICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInVybCIpKS5pbm5lclRleHQgPSB0aGlzLnVybDsNCiAgICAgICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgidXJsIikpLmhyZWYgPSB0aGlzLnVybDsNCg0KICAgICAgICAgICAgdmFyIHFyID0gbmV3IFFSaW91cyh7DQogICAgICAgICAgICAgICAgZWxlbWVudDogYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInFyIiksDQogICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudXJsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHFyLnNpemUgPSAxMDAwOw0KDQogICAgICAgICAgICAvL3JpZ2h0IGNsaWNrIHFyY29kZSB0byBnZXQgdXJsDQogICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImFsbCIpKS5jb250ZXh0c2NyaXB0ID0gKCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICJHZXQgVVJMIjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIlVSTCIsIHRoaXMudXJsKTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIkNvcHkgVVJMIjogYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGhpcy51cmwpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQp9DQoNCm5ldyBwcm9ncmFtKCk7", "network.js": "Y2xhc3MgbiB7DQogICAgY29uc3RydWN0b3IoKSB7DQogICAgICAgIHRoaXMuY3JlYXRlKCk7DQogICAgICAgIHRoaXMub251cGRhdGUgPSAoZGF0YSkgPT4geyB9Ow0KICAgICAgICB0aGlzLnRyaWVzID0gMDsNCiAgICAgICAgdGhpcy5jdXJyZW50UG9sbCA9IG51bGw7DQogICAgfQ0KDQogICAgY3JlYXRlKCkgew0KICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCgid3NzOi8vdm90ZS5mbHVsdS5ldS9hcGkvd3MvdXBkYXRlTGlzdGVuZXIiKTsNCiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAobXNnKSA9PiB7DQogICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEpOw0KICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICB0aGlzLm9udXBkYXRlKGRhdGEpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnRyaWVzID0gMDsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ3cyBvcGVuIik7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQb2xsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNldFBvbGwodGhpcy5jdXJyZW50UG9sbCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvL3JlbG9hZCBvbiB3cyBjbG9zZQ0KICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoZXJyKSA9PiB7DQogICAgICAgICAgICBpZiAoZXJyLndhc0NsZWFuKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIndzIGNsb3NlZCIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmllcyA8IDUwMDApIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWVzKys7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvL3NldCBwb2xsIHRvIGxpc3RlbiB0bw0KICAgIHNldFBvbGwocG9sbElkKSB7DQogICAgICAgIHRoaXMuY3VycmVudFBvbGwgPSBwb2xsSWQ7DQogICAgICAgIC8vc2VuZCB0byBzZXJ2ZXINCiAgICAgICAgdGhpcy5zZW5kKEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgIHR5cGU6ICJzZXRQb2xsIiwNCiAgICAgICAgICAgIHBvbGxJZDogcG9sbElkDQogICAgICAgIH0pKTsNCiAgICB9DQoNCiAgICAvL2NhbmNlbCBsaXN0ZW5pbmcgdG8gcG9sbA0KICAgIGNhbmNlbFBvbGwoKSB7DQogICAgICAgIHRoaXMuY3VycmVudFBvbGwgPSBudWxsOw0KICAgICAgICAvL3NlbmQgdG8gc2VydmVyDQogICAgICAgIHRoaXMuc2VuZChKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICB0eXBlOiAiY2FuY2VsUG9sbCINCiAgICAgICAgfSkpOw0KICAgIH0NCg0KICAgIC8vZnVuY3Rpb24gdGhhdCBjYWNoZXMgdGhlIHNlbmRzIHVudGlsIHRoZSB3cyBpcyBvcGVuDQogICAgc2VuZChkYXRhKSB7DQogICAgICAgIGlmICh0aGlzLndzLnJlYWR5U3RhdGUgPT0gMSkgew0KICAgICAgICAgICAgdGhpcy53cy5zZW5kKGRhdGEpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5zZW5kKGRhdGEpOw0KICAgICAgICAgICAgfSwgMTAwKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCm47", "qr.html": "PGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDthbGlnbi1pdGVtczogY2VudGVyO2p1c3RpZnktaXRlbXM6IGNlbnRlcjtoZWlnaHQ6IDEwMCU7IiBlbGVtZW50PSJhbGwiPg0KICAgIDxwPjxhIGVsZW1lbnQ9InVybCIgdGFyZ2V0PSJfYmxhbmsiPkxvYWRpbmcuLi48L2E+PC9wPg0KICAgIDxjYW52YXMgd2luZG93ZWxlbWVudD0icXIiIHdpbmRvd2lkPSIyIiBoZWlnaHQ9IjEwMCIgd2lkdGg9IjEwMCIgc3R5bGU9Ig0KICAgICAgICBtYXgtd2lkdGg6IDEwMCU7DQogICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7DQogICAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICI+PC9jYW52YXM+DQo8L2Rpdj4=", "run.js": "U3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbShQQVRILmZvbGRlcigpICsgIi9tYWluLmpzIik="}
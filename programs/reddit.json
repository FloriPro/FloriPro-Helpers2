{"api.js": "Y2xhc3MgcmVkZGl0IHsNCiAgICAvKioNCiAgICAgKiByZWRkaXQgcmVhZGVyIHdpdGggb25seSBvbmUgcG9zdCBldmVyeSByZXF1ZXN0DQogICAgICogQHBhcmFtIHtzdHJpbmdbXX0gc3VicmVkZGl0cyANCiAgICAgKi8NCiAgICBjb25zdHJ1Y3RvcihzdWJyZWRkaXRzKSB7DQogICAgICAgIHRoaXMuc3VicmVkZGl0cyA9IHN1YnJlZGRpdHM7DQogICAgICAgIHRoaXMuY3VycmVudFN1YnJlZGRpdElkID0gMDsNCg0KICAgICAgICB0aGlzLmJvb2xWYXJzID0gWyJvbmx5X2ltYWdlcyIsICJzYXZlX2RhdGEiLCAibm9fbnNmdyJdDQogICAgICAgIHRoaXMudmFycyA9IHsgImxpbWl0IjogIjEwIiwgInNvcnRfdGltZSI6ICJhbGwiLCAic29ydF9ieSI6ICJob3QiLCAib25seV9pbWFnZXMiOiBmYWxzZSwgInNhdmVfZGF0YSI6IGZhbHNlLCAibm9fbnNmdyI6IGZhbHNlLCAibmVlZHNfYm9vbF9hcmd1bWVudCI6ICIiIH07DQoNCiAgICAgICAgdGhpcy5hbGxyZWFkeUZldGNoaW5nID0gZmFsc2U7DQoNCg0KICAgICAgICB0aGlzLmdlbkFmdGVycygpOw0KICAgIH0NCiAgICBnZW5BZnRlcnMoKSB7DQogICAgICAgIHRoaXMuc3RvcmVkUG9zdHMgPSBbXTsNCiAgICAgICAgdGhpcy5hZnRlciA9IFtdDQogICAgICAgIGZvciAodmFyIHggb2YgdGhpcy5zdWJyZWRkaXRzKSB7DQogICAgICAgICAgICB0aGlzLmFmdGVyLnB1c2goIiIpOw0KICAgICAgICAgICAgdGhpcy5zdG9yZWRQb3N0cy5wdXNoKFtdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHRpbWVvdXQobXMpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpOw0KICAgIH0NCg0KICAgIHNldFN1YnJlZGRpdHMoc3VicmVkZGl0cykgew0KICAgICAgICB0aGlzLnN1YnJlZGRpdHMgPSBzdWJyZWRkaXRzOw0KICAgICAgICB0aGlzLmdlbkFmdGVycygpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogZ2V0cyBhIHBvc3QgZnJvbSBhIHN1YnJlZGRpdCB3aXRoIHRoZSBzcGVjZWZpZWQgaWQNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgZnJvbSB0aGlzLnN1YnJlZGRpdHMNCiAgICAgKiBAcmV0dXJucyB7e3N0cmluZzpzdHJpbmcgfCBzdHJpbmdbXSB8IG51bWJlcn19IHRoZSBzdGFuZGFyZCByZWRkaXQgcmVzcG9zZSBmb3IgYSBwb3N0DQogICAgICovDQogICAgYXN5bmMgZ2V0KGlkKSB7DQogICAgICAgIC8vY2hlY2sgaWYgYWxscmVhZHkgaW4gY2FjaGUNCiAgICAgICAgaWYgKHRoaXMuc3RvcmVkUG9zdHNbaWRdLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiBbdGhpcy5zdG9yZWRQb3N0c1tpZF0uc2hpZnQoKSwgbnVsbF07DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmFsbHJlYWR5RmV0Y2hpbmcgPSB0cnVlOw0KDQogICAgICAgIHZhciB1cmwgPSB0aGlzLmdlblVybCh0aGlzLnN1YnJlZGRpdHNbaWRdLCB0aGlzLmFmdGVyW2lkXSwgdGhpcy52YXJzWyJsaW1pdCJdLCB0aGlzLnZhcnNbInNvcnRfdGltZSJdLCB0aGlzLnZhcnNbInNvcnRfYnkiXSk7DQogICAgICAgIHZhciBkYXQgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgICAgICBkYXQgPSBKU09OLnBhcnNlKGF3YWl0IGRhdC50ZXh0KCkpDQoNCiAgICAgICAgdmFyIG5ld0FmdGVyID0gZGF0WyJkYXRhIl1bImFmdGVyIl07DQoNCiAgICAgICAgdmFyIGFsbFN0dWZmID0gZGF0WyJkYXRhIl1bImNoaWxkcmVuIl0NCg0KICAgICAgICBpZiAoYWxsU3R1ZmYubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgIGNvbnNvbGUud2FybigicmF0ZWxpbWl0OiB0aW1lb3V0IDIwMDBtcyIpDQogICAgICAgICAgICBhd2FpdCB0aGlzLnRpbWVvdXQoMjAwMCk7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoaWQpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGFsbFN0dWZmLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgIHZhciBvdGhlclBvc3RzID0gYWxsU3R1ZmYuc2xpY2UoMSk7DQogICAgICAgICAgICB0aGlzLnN0b3JlZFBvc3RzW2lkXSA9IG90aGVyUG9zdHM7DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmFsbHJlYWR5RmV0Y2hpbmcgPSBmYWxzZTsNCiAgICAgICAgcmV0dXJuIFthbGxTdHVmZlswXSwgbmV3QWZ0ZXJdOw0KICAgIH0NCg0KICAgIGFzeW5jIG5leHQoKSB7DQogICAgICAgIHZhciByID0gYXdhaXQgdGhpcy5nZXQodGhpcy5jdXJyZW50U3VicmVkZGl0SWQpOw0KICAgICAgICB2YXIgZGF0ID0gclswXTsNCiAgICAgICAgdmFyIG5ld0FmdGVyID0gclsxXTsNCiAgICAgICAgaWYgKG5ld0FmdGVyICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgdGhpcy5hZnRlclt0aGlzLmN1cnJlbnRTdWJyZWRkaXRJZF0gPSBuZXdBZnRlcjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgcCA9IG5ldyBwb3N0KGRhdCk7DQogICAgICAgIHAuc2F2ZURhdGEgPSB0aGlzLnZhcnNbInNhdmVfZGF0YSJdOw0KICAgICAgICBpZiAoKHRoaXMudmFyc1sib25seV9pbWFnZXMiXSAmJiBwLkltYWdlKCkubGVuZ3RoID09IDApIHx8ICh0aGlzLnZhcnNbIm5vX25zZnciXSAmJiBwLmRhdGFbIm92ZXJfMTgiXSkpIHsNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm5leHQoKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy52YXJzWyJuZWVkc19ib29sX2FyZ3VtZW50Il0gIT0gIiIpIHsNCiAgICAgICAgICAgIGZvciAodmFyIHggb2YgdGhpcy52YXJzWyJuZWVkc19ib29sX2FyZ3VtZW50Il0uc3BsaXQoIiwiKSkgew0KICAgICAgICAgICAgICAgIGlmICghcC5kYXRhW3hdKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm5leHQoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmN1cnJlbnRTdWJyZWRkaXRJZCsrOw0KICAgICAgICBpZiAodGhpcy5jdXJyZW50U3VicmVkZGl0SWQgPj0gdGhpcy5zdWJyZWRkaXRzLmxlbmd0aCkgeyB0aGlzLmN1cnJlbnRTdWJyZWRkaXRJZCA9IDA7IH0NCiAgICAgICAgcmV0dXJuIHA7DQogICAgfQ0KICAgIGdlblVybChzdWJyZWRkaXQsIGFmdGVyLCBsaW1pdCwgc29ydF90aW1lLCBzb3J0X2J5KSB7DQogICAgICAgIHJldHVybiAnaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yLycgKyBzdWJyZWRkaXQgKyAnLycgKyBzb3J0X2J5ICsgJy8uanNvbj9yYXdfanNvbj0xJnQ9JyArIHNvcnRfdGltZSArICcmbGltaXQ9JyArIGxpbWl0ICsgIiZhZnRlcj0iICsgYWZ0ZXI7DQogICAgfQ0KICAgIGdldFBvc3RGcm9tRGF0YShkYXRhKSB7DQogICAgICAgIHZhciBwID0gbmV3IHBvc3QoZGF0YSk7DQogICAgICAgIHAuc2F2ZURhdGEgPSB0aGlzLnZhcnNbInNhdmVfZGF0YSJdOw0KICAgICAgICByZXR1cm4gcA0KICAgIH0NCn0NCmNsYXNzIHBvc3Qgew0KICAgIGNvbnN0cnVjdG9yKGRhdGEpIHsNCiAgICAgICAgdGhpcy5kYXRhID0gZGF0YVsiZGF0YSJdOw0KICAgICAgICB0aGlzLnNhdmVEYXRhID0gZmFsc2UNCiAgICB9DQoNCiAgICBJbWFnZSgpIHsNCiAgICAgICAgdmFyIGltZ3MgPSBbXTsNCiAgICAgICAgaWYgKCJtZWRpYV9tZXRhZGF0YSIgaW4gdGhpcy5kYXRhKSB7DQogICAgICAgICAgICBmb3IgKHggaW4gdGhpcy5kYXRhWyJtZWRpYV9tZXRhZGF0YSJdKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2F2ZURhdGEgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgaW1ncy5wdXNoKHRoaXMuZGF0YVsibWVkaWFfbWV0YWRhdGEiXVt4XVsicyJdWyJ1Il0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHAgPSBNYXRoLnJvdW5kKHRoaXMuZGF0YVsibWVkaWFfbWV0YWRhdGEiXVt4XVsicCJdLmxlbmd0aCAvIDQpOw0KICAgICAgICAgICAgICAgICAgICAvL3AgPSA0Ow0KICAgICAgICAgICAgICAgICAgICBpbWdzLnB1c2godGhpcy5kYXRhWyJtZWRpYV9tZXRhZGF0YSJdW3hdWyJwIl1bcF1bInUiXSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICgicHJldmlldyIgaW4gdGhpcy5kYXRhICYmIHRoaXMuc2F2ZURhdGEgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgZm9yICh2YXIgeCBpbiB0aGlzLmRhdGFbInByZXZpZXciXVsiaW1hZ2VzIl0pIHsNCiAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuZGF0YVsicHJldmlldyJdWyJpbWFnZXMiXVt4XVsicmVzb2x1dGlvbnMiXTsNCiAgICAgICAgICAgICAgICB2YXIgcCA9IE1hdGgucm91bmQoYS5sZW5ndGggLyA0KTsNCiAgICAgICAgICAgICAgICBpZiAoYS5pbmNsdWRlcyhwKSkgew0KICAgICAgICAgICAgICAgICAgICBpbWdzLnB1c2goYVtwXVsidXJsIl0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbWdzLnB1c2goYVswXVsidXJsIl0pOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAoInVybCIgaW4gdGhpcy5kYXRhKSB7DQogICAgICAgICAgICB0aGlzLmRhdGFbInVybCJdID0gdGhpcy5kYXRhWyJ1cmwiXS5yZXBsYWNlKCJnaWZ2IiwgImpwZyIpDQogICAgICAgICAgICBpZiAoIXRoaXMuZGF0YVsidXJsIl0ubWF0Y2goLy4oanBnfGpwZWd8cG5nfGdpZikkL2kpKSB7IH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaW1ncy5wdXNoKHRoaXMuZGF0YVsidXJsIl0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IC8vdXJsX292ZXJyaWRkZW5fYnlfZGVzdA0KICAgICAgICByZXR1cm4gaW1ncw0KICAgIH0NCiAgICBJbWFnZUZ1bGwoKSB7DQogICAgICAgIC8vZGlzYWJsZSBzYXZlZGF0YQ0KICAgICAgICB2YXIgcyA9IHRoaXMuc2F2ZURhdGENCiAgICAgICAgdGhpcy5zYXZlRGF0YSA9IGZhbHNlOw0KDQogICAgICAgIHZhciBkID0gdGhpcy5JbWFnZSgpOw0KDQogICAgICAgIC8vcmUtZW5hYmFsZSBzYXZlZGF0YQ0KICAgICAgICB0aGlzLnNhdmVEYXRhID0gczsNCiAgICAgICAgcmV0dXJuIGQ7DQogICAgfQ0KICAgIEF1dGhvcigpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVsiYXV0aG9yIl07DQogICAgfQ0KICAgIFRpdGxlKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kYXRhWyJ0aXRsZSJdOw0KICAgIH0NCiAgICBUZXh0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kYXRhWyJzZWxmdGV4dCJdOw0KICAgIH0NCiAgICBIdG1sVGV4dCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVsic2VsZnRleHRfaHRtbCJdOw0KICAgIH0NCiAgICBhc3luYyBjb21tZW50cygpIHsNCiAgICAgICAgdmFyIGNvbW1lbnRMaW5rID0gImh0dHBzOi8vd3d3LnJlZGRpdC5jb20iICsgdGhpcy5kYXRhLnBlcm1hbGluayArICIuanNvbj9yYXdfanNvbj0xIjsNCiAgICAgICAgdmFyIHRleHQgPSBhd2FpdCAoYXdhaXQgZmV0Y2goY29tbWVudExpbmspKS50ZXh0KCkNCiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHRleHQpOw0KICAgICAgICB2YXIgZGF0ID0ganNvblsiMSJdWyJkYXRhIl1bImNoaWxkcmVuIl07DQogICAgICAgIHJldHVybiB0aGlzLmxvYWRDb21tZW50RWFzeShkYXQpOw0KICAgIH0NCiAgICBtZWRpYSgpIHsNCiAgICAgICAgaWYgKHRoaXMuZGF0YVsibWVkaWEiXSAhPSBudWxsKSB7DQogICAgICAgICAgICBpZiAodGhpcy5kYXRhWyJtZWRpYSJdWyJ0eXBlIl0gPT0gInlvdXR1YmUuY29tIikgew0KICAgICAgICAgICAgICAgIHJldHVybiB7ICJ0eXBlIjogInlvdXR1YmUiLCAiZGF0IjogdGhpcy5kYXRhWyJtZWRpYSJdWyJvZW1iZWQiXVsiaHRtbCJdIH07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmICh0aGlzLmRhdGFbImlzX3ZpZGVvIl0gPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbIm1lZGlhIl1bInJlZGRpdF92aWRlbyJdID09IHVuZGVmaW5lZCkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAicmVkZGl0VmlkZW8iLCAiZGF0IjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhWyJtZWRpYSJdWyJyZWRkaXRfdmlkZW8iXVsiZmFsbGJhY2tfdXJsIl0sDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbIm1lZGlhIl1bInJlZGRpdF92aWRlbyJdWyJmYWxsYmFja191cmwiXS5zcGxpdCgiREFTSF8iKVswXSArICJEQVNIX2F1ZGlvLm1wNCINCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQogICAgbG9hZENvbW1lbnRFYXN5KGRhdCkgew0KICAgICAgICB2YXIgb3V0ID0gW107DQogICAgICAgIGZvciAodmFyIHggb2YgZGF0KSB7DQogICAgICAgICAgICB2YXIgY29tbWVudCA9IHsgImF1dGhvciI6ICItIiwgImJvZHlfaHRtbCI6ICI8cD4tPC9wPiIsICJib2R5IjogIiIsICJyZXBsaWVzIjogW10gfQ0KICAgICAgICAgICAgdmFyIGRhdGEgPSB4WyJkYXRhIl0NCiAgICAgICAgICAgIHZhciByZXBsaWVzID0gW10NCiAgICAgICAgICAgIGlmIChkYXRhWyJyZXBsaWVzIl0gIT0gIiIgJiYgZGF0YVsicmVwbGllcyJdICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIHJlcGxpZXMgPSB0aGlzLmxvYWRDb21tZW50RWFzeShkYXRhWyJyZXBsaWVzIl1bImRhdGEiXVsiY2hpbGRyZW4iXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb21tZW50WyJhdXRob3IiXSA9IGRhdGFbImF1dGhvciJdDQogICAgICAgICAgICBjb21tZW50WyJib2R5X2h0bWwiXSA9IGRhdGFbImJvZHlfaHRtbCJdDQogICAgICAgICAgICBjb21tZW50WyJib2R5Il0gPSBkYXRhWyJib2R5Il0NCiAgICAgICAgICAgIGNvbW1lbnRbInJlcGxpZXMiXSA9IHJlcGxpZXM7DQogICAgICAgICAgICBvdXQucHVzaChjb21tZW50KQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvdXQ7DQogICAgfQ0KDQp9DQoNCg0KcmVkZGl0Ow==", "html.html": "PHN0eWxlPg0KICAgIC5yZWRkaXRDb21tZW50OmhvdmVyIHsNCiAgICAgICAgLypiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhbWFyaW5lOyovDQogICAgICAgIGJvcmRlci1sZWZ0OiA1cHggZG90dGVkICMwMDAwZmY7DQogICAgfQ0KDQogICAgLnJlZGRpdENvbW1lbnQgew0KICAgICAgICBib3JkZXItbGVmdDogNXB4IGRvdHRlZCAjQzNDM0M1Ow0KICAgIH0NCjwvc3R5bGU+DQoNCjxkaXYgZWxlbWVudD0ic2V0dGluZ3MiPg0KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0ic3VicmVkZGl0cyAoYSxiLGMpIiBlbGVtZW50PSJzdWJyZWRkaXRTZWxlY3QiIHZhbHVlPSJtZW1lcyI+DQogICAgPGJyPg0KICAgIDxsYWJsZSBmb3I9InNvcnRfdGltZSI+c29ydF90aW1lPC9sYWJsZT4NCiAgICA8c2VsZWN0IGVsZW1lbnQ9InZhcmlhYmxlIiBuYW1lPSJzb3J0X3RpbWUiPg0KICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPmFsbDwvb3B0aW9uPg0KICAgICAgICA8b3B0aW9uIHZhbHVlPSJ5ZWFyIj55ZWFyPC9vcHRpb24+DQogICAgICAgIDxvcHRpb24gdmFsdWU9Im1vbnRoIj5tb250aDwvb3B0aW9uPg0KICAgICAgICA8b3B0aW9uIHZhbHVlPSJ3ZWVrIj53ZWVrPC9vcHRpb24+DQogICAgICAgIDxvcHRpb24gdmFsdWU9ImRheSI+ZGF5PC9vcHRpb24+DQogICAgICAgIDxvcHRpb24gdmFsdWU9ImhvdXIiPmhvdXI8L29wdGlvbj4NCiAgICA8L3NlbGVjdD4NCiAgICA8YnI+DQoNCiAgICA8bGFibGUgZm9yPSJzb3J0X2J5Ij5zb3J0X2J5PC9sYWJsZT4NCiAgICA8c2VsZWN0IGVsZW1lbnQ9InZhcmlhYmxlIiBuYW1lPSJzb3J0X2J5Ij4NCiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iaG90Ij5ob3Q8L29wdGlvbj4NCiAgICAgICAgPG9wdGlvbiB2YWx1ZT0ibmV3Ij5uZXc8L29wdGlvbj4NCiAgICAgICAgPG9wdGlvbiB2YWx1ZT0idG9wIj50b3A8L29wdGlvbj4NCiAgICAgICAgPG9wdGlvbiB2YWx1ZT0icmlzaW5nIj5yaXNpbmc8L29wdGlvbj4NCiAgICA8L3NlbGVjdD4NCiAgICA8YnI+DQoNCiAgICA8aW5wdXQgbmFtZT0ibmVlZHNfYm9vbF9hcmd1bWVudCIgY2xhc3M9InZhcmlhYmxlIg0KICAgICAgICBwbGFjZWhvbGRlcj0idmVyeSBvcHRpb25hbCB8IG5lZWRzX2Jvb2xfYXJndW1lbnQ9dHJ1ZSAoc3BsaXQgd2l0aCAnLCcpIj4NCiAgICA8YnI+DQoNCiAgICA8bGFibGUgZm9yPSJvbmx5X2ltYWdlcyI+b25seV9pbWFnZXM8L2xhYmxlPg0KICAgIDxpbnB1dCBlbGVtZW50PSJ2YXJpYWJsZSIgbmFtZT0ib25seV9pbWFnZXMiIHR5cGU9ImNoZWNrYm94Ij4NCiAgICA8YnI+DQoNCiAgICA8bGFibGUgZm9yPSJzYXZlX2RhdGEiPnNhdmVfZGF0YTwvbGFibGU+DQogICAgPGlucHV0IGVsZW1lbnQ9InZhcmlhYmxlIiBuYW1lPSJzYXZlX2RhdGEiIHR5cGU9ImNoZWNrYm94Ij4NCiAgICA8YnI+DQoNCg0KICAgIDxpbnB1dCBlbGVtZW50PSJ2YXJpYWJsZSIgbmFtZT0ibGltaXQiIHBsYWNlaG9sZGVyPSJudW1iZXI6IGxpbWl0IiB2YWx1ZT0iMTAiPg0KICAgIDxicj4NCg0KICAgIDxidXR0b24gZWxlbWVudD0ic2VsZWN0U3VicmVkZGl0cyI+T2s8L2J1dHRvbj4NCjwvZGl2Pg0KPGRpdiBlbGVtZW50PSJwb3N0Ij4NCiAgICA8YSB0YXJnZXQ9Il9ibGFuayIgZWxlbWVudD0ibGluayI+PC9hPg0KICAgIDxidXR0b24gZWxlbWVudD0ib3BlblJlZGRpdCI+ZnVsbDwvYnV0dG9uPg0KICAgIDxoMSBlbGVtZW50PSJ0aXRsZSIgc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOyI+VGl0bGU8L2gxPg0KICAgIDxwIGVsZW1lbnQ9InRleHQiPlRleHQ8L3A+DQoNCiAgICA8YnV0dG9uIGVsZW1lbnQ9J29wZW5WaWQnIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+b3BlbiB2aWRlbzwvYnV0dG9uPg0KICAgIDxkaXYgZWxlbWVudD0iaW1nIiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPjwvZGl2Pg0KDQogICAgPGJ1dHRvbiBlbGVtZW50PSJuZXh0IiBzdHlsZT0iDQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJvdHRvbTogMTBweDsNCiAgICBoZWlnaHQ6IDUwcHg7DQogICAgZm9udC1zaXplOiA1MHB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgcmlnaHQ6IDEwcHg7DQogICAgIj5uZXh0PC9idXR0b24+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJiYWNrIiBzdHlsZT0iDQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJvdHRvbTogMTBweDsNCiAgICBoZWlnaHQ6IDUwcHg7DQogICAgZm9udC1zaXplOiA1MHB4Ow0KICAgIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgbGVmdDogMTBweDsNCiAgICAiPmJhY2s8L2J1dHRvbj4NCiAgICA8YnI+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJjb21tZW50cyI+Y29tbWVudHM8L2J1dHRvbj4NCiAgICA8aHI+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJvcGVuU2V0dGluZ3MiIHN0eWxlPSJmbG9hdDogbGVmdDsgcGFkZGluZy1ib3R0b206IDU4cHg7Ij5zZXR0aW5nczwvYnV0dG9uPg0KICAgIDxicj4NCjwvZGl2Pg==", "install.js": "YXN5bmMgZnVuY3Rpb24gcnVuKCkgew0KICAgIC8vZmlsZSBleHRlbnNpb25zDQogICAgYXdhaXQgU3lzdGVtLm9wdGlvbnMuYWRkVmFsdWUoInByb2dyYW1zIiwgInJlZGRpdCIsIHsgInBhdGgiOiAiYy9wcm9ncmFtcy9yZWRkaXQvbWFpbi5qcyIsICJuYW1lIjogIlJlZGRpdCIsICJydW4iOiAiYy9wcm9ncmFtcy9yZWRkaXQvcnVuLmpzIiB9LCB0cnVlKTsNCiAgICBTeXN0ZW1IdG1sLnVwZGF0ZVN0YXJ0bWVudSgpDQogICAgaWYgKCEoYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5maWxlRXhpc3RzKCJjL3VzZXIvcmVkZGl0L29sZC5qc29uIikpKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJud2UgRmlsZSIpOw0KICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcoImMvdXNlci9yZWRkaXQvb2xkLmpzb24iLCAnWyJfIl0nKTsNCiAgICB9DQogICAgaWYgKCEoYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5maWxlRXhpc3RzKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iKSkpIHsNCiAgICAgICAgY29uc29sZS5sb2coIm53ZSBGaWxlIik7DQogICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIiwgJ3sibGltaXQiOiAiMTAiLCJzb3J0X3RpbWUiOiAiYWxsIiwic29ydF9ieSI6ICJob3QiLCJvbmx5X2ltYWdlcyI6IGZhbHNlLCJzYXZlX2RhdGEiOiBmYWxzZSwibm9fbnNmdyI6IGZhbHNlLCJuZWVkc19ib29sX2FyZ3VtZW50IjogIiIsInN1YnJlZGRpdHMiOiAibWVtZXMifScpOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCnJ1bigpOw==", "installLocation.dat": "Yy9wcm9ncmFtcy9yZWRkaXQ=", "main.js": "Y2xhc3MgcHJvZ3JhbSBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgICBzdXBlcigpDQogICAgICAgIC8vZG9uJ3QgdXNlIQ0KICAgIH0NCiAgICBhc3luYyBpbml0KCkgew0KDQogICAgICAgIHRoaXMuY3VycmVudFBvc3QgPSB1bmRlZmluZWQ7DQogICAgICAgIHRoaXMucGFzdCA9IFtdDQogICAgICAgIHRoaXMucGFzdElkID0gLTE7DQoNCiAgICAgICAgdGhpcy5wZXJtYWxpbmsgPSAiIg0KICAgICAgICB0aGlzLmFsbHJlYWR5UmVhZCA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvb2xkLmpzb24iKQ0KDQogICAgICAgIHRoaXMuYWxscmVhZHlMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMubWF4V2lkdGggPSAiNTAwcHgiOw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSByZWRkaXQNCiAgICAgICAgICovDQogICAgICAgIHRoaXMucmVkZGl0QXBpID0gbmV3IChhd2FpdCBTeXN0ZW0ucnVuKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvYXBpLmpzIikpKFsibWVtZXMiXSk7DQogICAgICAgIHRoaXMucmVkZGl0QXBpLnZhcnMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iKQ0KDQogICAgICAgIGNvbnNvbGUubG9nKCJzdGFydGVkIGFzIGlkICIgKyB0aGlzLmlkKTsNCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJSZWRkaXQiLA0KICAgICAgICAgICAgLy9vbnJlYWR5Og0KICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vc2V0IGh0bWwNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zZXRDb250ZW50KGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZVN0cmluZyh0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2h0bWwuaHRtbCIpKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zaXplLnNldFNpemUoNTAwLCA1MDApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUudXNlckNhblJlc2l6ZSh0cnVlKQ0KDQogICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5U2V0dGluZ3MoKTsNCg0KICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgic2V0dGluZ3MiKTsNCiAgICAgICAgICAgICAgICB0aGlzLnBvc3QgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgicG9zdCIpOw0KDQogICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ0aXRsZSIpOw0KICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ0ZXh0Iik7DQogICAgICAgICAgICAgICAgdGhpcy5pbWcgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiaW1nIik7DQogICAgICAgICAgICAgICAgdGhpcy5saW5rID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImxpbmsiKTsNCiAgICAgICAgICAgICAgICB0aGlzLm9wZW5WaWQgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgib3BlblZpZCIpOw0KDQogICAgICAgICAgICAgICAgdGhpcy5wb3N0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAic2VsZWN0U3VicmVkZGl0cyIsIHRoaXMubG9hZFNldHRpbmdzLCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAibmV4dCIsIHRoaXMubmV4dCwgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImJhY2siLCB0aGlzLmJhY2ssIHRoaXMpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJpbWciLCB0aGlzLmltZ0Z1bGxzY3JlZW4sIHRoaXMpOw0KICAgICAgICAgICAgICAgIC8vYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgInBvc3REZWJ1ZyIsIHRoaXMucG9zdERlYnVnLCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAib3BlblZpZCIsIHRoaXMub3BlblZpZGVvLCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAib3BlblNldHRpbmdzIiwgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3Quc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgfSwgdGhpcyk7DQoNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAib3BlblJlZGRpdCIsICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAiaHR0cHM6Ly9qczQucmVkIiArIHRoaXMucGVybWFsaW5rDQogICAgICAgICAgICAgICAgICAgIG5ldyByZWRqc1dpbmRvdyhsaW5rKTsNCiAgICAgICAgICAgICAgICB9LCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAiY29tbWVudHMiLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIG5ldyBjb21tZW50V2luZG93KHRoaXMuY3VycmVudFBvc3QpOw0KICAgICAgICAgICAgICAgIH0sIHRoaXMpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIHRoaXMud2luZG93LmNsb3NlID0gKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5zdG9wKCkNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICB9DQogICAgYXN5bmMgbG9hZFNldHRpbmdzKCkgew0KICAgICAgICB0aGlzLnJlZGRpdEFwaS5zZXRTdWJyZWRkaXRzKChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgic3VicmVkZGl0U2VsZWN0IikpLnZhbHVlLnNwbGl0KCIsIikpOw0KDQogICAgICAgIGZvciAodmFyIHggb2YgYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnRzKCJ2YXJpYWJsZSIpKSB7DQogICAgICAgICAgICB2YXIgb3B0aW9uVmFsdWUgPSAiIjsNCiAgICAgICAgICAgIHZhciBvcHRpb25OYW1lID0geC5uYW1lOw0KDQogICAgICAgICAgICBpZiAoeC50eXBlID09ICdjaGVja2JveCcpIHsNCiAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZSA9ICIiICsgeC5jaGVja2VkOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBvcHRpb25WYWx1ZSA9IHgudmFsdWU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh0aGlzLnJlZGRpdEFwaS5ib29sVmFycy5pbmNsdWRlcyhvcHRpb25OYW1lKSkgew0KICAgICAgICAgICAgICAgIGlmIChvcHRpb25WYWx1ZSA9PSAidHJ1ZSIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVkZGl0QXBpLnZhcnNbb3B0aW9uTmFtZV0gPSB0cnVlOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRkaXRBcGkudmFyc1tvcHRpb25OYW1lXSA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlZGRpdEFwaS52YXJzW29wdGlvbk5hbWVdID0gb3B0aW9uVmFsdWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgdiA9IHRoaXMucmVkZGl0QXBpLnZhcnM7DQogICAgICAgIHZbInN1YnJlZGRpdHMiXSA9IChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgic3VicmVkZGl0U2VsZWN0IikpLnZhbHVlOw0KICAgICAgICB2YXIgdiA9IEpTT04uc3RyaW5naWZ5KHYpDQogICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIiwgdikNCg0KICAgICAgICB0aGlzLnBvc3Quc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICB0aGlzLnNldHRpbmdzLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIHRoaXMubmV4dCgpOw0KICAgIH0NCiAgICBhc3luYyBkaXNwbGF5U2V0dGluZ3MoKSB7DQogICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgic3VicmVkZGl0U2VsZWN0IikpLnZhbHVlID0gdGhpcy5yZWRkaXRBcGkudmFyc1sic3VicmVkZGl0cyJdOw0KICAgICAgICBmb3IgKHZhciB4IG9mIGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50cygidmFyaWFibGUiKSkgew0KICAgICAgICAgICAgdmFyIG9wdGlvblZhbHVlID0gIiI7DQogICAgICAgICAgICB2YXIgb3B0aW9uTmFtZSA9IHgubmFtZTsNCg0KICAgICAgICAgICAgaWYgKHgudHlwZSA9PSAnY2hlY2tib3gnKSB7DQogICAgICAgICAgICAgICAgeC5jaGVja2VkID0gdGhpcy5yZWRkaXRBcGkudmFyc1tvcHRpb25OYW1lXQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB4LnZhbHVlID0gdGhpcy5yZWRkaXRBcGkudmFyc1tvcHRpb25OYW1lXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLyoNCiAgICAgICAgICAgIGlmICh0aGlzLnJlZGRpdEFwaS5ib29sVmFycy5pbmNsdWRlcyhvcHRpb25OYW1lKSkgew0KICAgICAgICAgICAgICAgIGlmIChvcHRpb25WYWx1ZSA9PSAidHJ1ZSIpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVkZGl0QXBpLnZhcnNbb3B0aW9uTmFtZV0gPSB0cnVlOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRkaXRBcGkudmFyc1tvcHRpb25OYW1lXSA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlZGRpdEFwaS52YXJzW29wdGlvbk5hbWVdID0gb3B0aW9uVmFsdWU7DQogICAgICAgICAgICB9Ki8NCiAgICAgICAgfQ0KICAgIH0NCiAgICBhc3luYyBuZXh0KCkgew0KICAgICAgICBpZiAodGhpcy5wYXN0SWQgPCB0aGlzLnBhc3QubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgdGhpcy5wYXN0SWQrKzsNCiAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLnBhc3RbdGhpcy5wYXN0SWRdKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuYWxscmVhZHlMb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgICB0aGlzLnRpdGxlLmlubmVyVGV4dCA9ICIuLi4iOw0KICAgICAgICB0aGlzLnRleHQuaW5uZXJUZXh0ID0gIiI7DQogICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAiIjsNCiAgICAgICAgdGhpcy5pbWcuaW5uZXJIVE1MID0gIiI7DQogICAgICAgIHRoaXMub3BlblZpZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgIHZhciBuID0geyBkYXRhOiB7IHBlcm1hbGluazogIl8iIH0gfTsNCg0KICAgICAgICB2YXIgbWF4SXQgPSA1MDsNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICB3aGlsZSAodGhpcy5hbGxyZWFkeVJlYWQuaW5jbHVkZXMobi5kYXRhLnBlcm1hbGluaykpIHsNCiAgICAgICAgICAgIG4gPSBhd2FpdCB0aGlzLnJlZGRpdEFwaS5uZXh0KCk7DQogICAgICAgICAgICBpKys7DQogICAgICAgICAgICBpZiAoaSA+PSBtYXhJdCkgew0KICAgICAgICAgICAgICAgIHZhciByID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlQ29uZmlybSgiTG9hZCBtb3JlPyIsICJXZSBjb3VsZCBub3QgZmluZCBhbnkgbmV3IFBvc3RzIGluIHRoZSBsYXN0ICIgKyBtYXhJdCArICIuIERvIHlvdSB3YW50IHNvIHNlYXJjaCBtb3JlPyIpDQogICAgICAgICAgICAgICAgaWYgKCFyKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUuaW5uZXJUZXh0ID0gIk5vIG5ldyBwb3N0cyI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dC5pbm5lclRleHQgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5rLmlubmVyVGV4dCA9ICIiOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmltZy5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGkgPSAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFzdElkKys7DQogICAgICAgIGlmICh0aGlzLnBhc3RJZCA+PSAxNSkgew0KICAgICAgICAgICAgdGhpcy5wYXN0SWQgPSAxNDsNCiAgICAgICAgICAgIHRoaXMucGFzdC5zaGlmdCgpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMucGFzdC5wdXNoKG4pOw0KDQogICAgICAgIHRoaXMubG9hZChuKTsNCiAgICB9DQogICAgYmFjaygpIHsNCiAgICAgICAgaWYgKHRoaXMucGFzdElkID4gMCkgew0KICAgICAgICAgICAgdGhpcy5wYXN0SWQtLTsNCiAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLnBhc3RbdGhpcy5wYXN0SWRdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGxvYWQobikgew0KICAgICAgICB0aGlzLmN1cnJlbnRQb3N0ID0gbjsNCg0KICAgICAgICB0aGlzLm9wZW5WaWQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgdGhpcy50aXRsZS5pbm5lclRleHQgPSAiLi4uIjsNCiAgICAgICAgdGhpcy50ZXh0LmlubmVyVGV4dCA9ICIiOw0KICAgICAgICB0aGlzLmxpbmsuaW5uZXJUZXh0ID0gIiI7DQogICAgICAgIHRoaXMuaW1nLmlubmVySFRNTCA9ICIiOw0KDQogICAgICAgIHRoaXMucGVybWFsaW5rID0gbi5kYXRhLnBlcm1hbGluazsNCiAgICAgICAgdGhpcy5hbGxyZWFkeVJlYWQucHVzaChuLmRhdGEucGVybWFsaW5rKQ0KICAgICAgICB0aGlzLnVwZGF0ZUFsbHJlYWR5UmVhZCgpOw0KDQogICAgICAgIHRoaXMudGl0bGUuaW5uZXJUZXh0ID0gbi5UaXRsZSgpOw0KICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MID0gbi5IdG1sVGV4dCgpOw0KDQogICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAicmVkZGl0LmNvbSI7DQogICAgICAgIHRoaXMubGluay5ocmVmID0gImh0dHBzOi8vd3d3LnJlZGRpdC5jb20iICsgbi5kYXRhLnBlcm1hbGluazsNCg0KICAgICAgICBmb3IgKHZhciB4IG9mIG4uSW1hZ2UoKSkgew0KICAgICAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsNCiAgICAgICAgICAgIHZhciBpTG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOw0KICAgICAgICAgICAgaUxvYWRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvdWx1dGUiDQogICAgICAgICAgICBpTG9hZGVyLmlubmVyVGV4dCA9ICJsb2FkaW5nIEltYWdlOiI7DQogICAgICAgICAgICBpTG9hZGVyLnN0eWxlLmNvbG9yID0gImdyYXkiOw0KDQogICAgICAgICAgICBpLmxvYWRlciA9IGlMb2FkZXI7DQogICAgICAgICAgICBpLm9ubG9hZCA9IChldmVudCkgPT4gew0KICAgICAgICAgICAgICAgIGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdLmxvYWRlci5yZW1vdmUoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaS5zcmMgPSB4Ow0KICAgICAgICAgICAgaS5zdHlsZS5tYXhXaWR0aCA9IHRoaXMubWF4V2lkdGg7DQogICAgICAgICAgICBpLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICAgICAgaS5zZXRBdHRyaWJ1dGUoImVsZW1lbnQiLCAiaW1nIikNCiAgICAgICAgICAgIHRoaXMuaW1nLmFwcGVuZChpTG9hZGVyKTsNCiAgICAgICAgICAgIHRoaXMuaW1nLmFwcGVuZChpKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLndpbmRvdy5wYXJzZU5ld0h0bWwoKTsNCg0KICAgICAgICB2YXIgbWVkaWEgPSBuLm1lZGlhKCk7DQogICAgICAgIGlmIChtZWRpYSAhPSBudWxsKSB7DQogICAgICAgICAgICBpZiAobWVkaWFbInR5cGUiXSA9PSAieW91dHViZSIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9IG1lZGlhWyJkYXQiXQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYVsidHlwZSJdID09ICJyZWRkaXRWaWRlbyIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9ICI8cD48YSBocmVmPSciICsgbWVkaWFbImRhdCJdWzBdICsgIic+VmlkZW88L2E+PC9wPiINCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9ICI8cD48YSBocmVmPSciICsgbWVkaWFbImRhdCJdWzFdICsgIic+QXVkaW88L2E+PC9wPiINCiAgICAgICAgICAgICAgICB0aGlzLm9wZW5WaWQuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYWxscmVhZHlMb2FkaW5nID0gZmFsc2U7DQogICAgfQ0KICAgIGFzeW5jIHVwZGF0ZUFsbHJlYWR5UmVhZCgpIHsNCiAgICAgICAgYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5zZXRGaWxlU3RyaW5nKCJjL3VzZXIvcmVkZGl0L29sZC5qc29uIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5hbGxyZWFkeVJlYWQpKTsNCiAgICB9DQogICAgb3BlblZpZGVvKCkgew0KICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLmN1cnJlbnRQb3N0Lm1lZGlhKCk7DQogICAgICAgIG5ldyB2aWRlb1dpbmRvdyhtZWRpYVsiZGF0Il1bMF0sIG1lZGlhWyJkYXQiXVsxXSk7DQogICAgfQ0KICAgIHBvc3REZWJ1ZygpIHsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50UG9zdCkNCiAgICB9DQogICAgaW1nRnVsbHNjcmVlbigpIHsNCiAgICAgICAgY29uc29sZS5sb2coImZ1bGxzY3JlZW4iKQ0KICAgICAgICBuZXcgSW1nV2luZG93KHRoaXMuY3VycmVudFBvc3QuSW1hZ2VGdWxsKCkpOw0KICAgIH0NCn0NCg0KY2xhc3MgcmVkanNXaW5kb3cgew0KICAgIGNvbnN0cnVjdG9yKGxpbmspIHsNCiAgICAgICAgdGhpcy5sb2FkKGxpbmspOw0KICAgIH0NCiAgICBhc3luYyBsb2FkKGxpbmspIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJGdWxsIChyZWRkaXRqcykiLA0KICAgICAgICAgICAgLy9vbnJlYWR5Og0KICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vc2V0IGh0bWwNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zZXRDb250ZW50KGA8aWZyYW1lIHNyYz0iYCArIGxpbmsgKyBgIiBzdHlsZT0id2lkdGg6IGNhbGMoMTAwJSAtIDRweCk7IGhlaWdodDogY2FsYygxMDAlIC0gMTBweCk7Ij5Db3VsZCBub3QgbG9hZDwvaWZyYW1lPmApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSgzMDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KfQ0KY2xhc3MgSW1nV2luZG93IHsNCiAgICBjb25zdHJ1Y3RvcihpbWdzKSB7DQogICAgICAgIHRoaXMubG9hZChpbWdzKTsNCiAgICB9DQogICAgYXN5bmMgbG9hZChpbWdzKSB7DQogICAgICAgIHRoaXMud2luZG93ID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLmNyZWF0ZVdpbmRvdygiUmVkZGl0IEltYWdlIiwNCiAgICAgICAgICAgIC8vb25yZWFkeToNCiAgICAgICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAvL3NldCBodG1sDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2V0Q29udGVudChgPGRpdiBlbGVtZW50PSJpbWciPjwvZGl2PmApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSgzMDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQoNCiAgICAgICAgICAgICAgICB0aGlzLmltZyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJpbWciKTsNCg0KICAgICAgICAgICAgICAgIGZvciAodmFyIHggb2YgaW1ncykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaUxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgICAgICAgICAgICAgICAgaUxvYWRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvdWx1dGUiDQogICAgICAgICAgICAgICAgICAgIGlMb2FkZXIuaW5uZXJUZXh0ID0gImxvYWRpbmcgSW1hZ2U6IjsNCiAgICAgICAgICAgICAgICAgICAgaUxvYWRlci5zdHlsZS5jb2xvciA9ICJncmF5IjsNCg0KICAgICAgICAgICAgICAgICAgICBpLmxvYWRlciA9IGlMb2FkZXI7DQogICAgICAgICAgICAgICAgICAgIGkub25sb2FkID0gKGV2ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jb21wb3NlZFBhdGgoKVswXS5sb2FkZXIucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpLnNyYyA9IHg7DQogICAgICAgICAgICAgICAgICAgIGkuc3R5bGUubWF4V2lkdGggPSB0aGlzLm1heFdpZHRoOw0KICAgICAgICAgICAgICAgICAgICBpLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmltZy5hcHBlbmQoaUxvYWRlcik7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nLmFwcGVuZChpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KfQ0KY2xhc3MgY29tbWVudFdpbmRvdyB7DQogICAgY29uc3RydWN0b3IocG9zdCkgew0KICAgICAgICB0aGlzLnBvc3QgPSBwb3N0Ow0KICAgICAgICB0aGlzLmxvYWQoKTsNCiAgICB9DQogICAgYXN5bmMgbG9hZCgpIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJDb21tZW50cyIsDQogICAgICAgICAgICAvL29ucmVhZHk6DQogICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgLy9zZXQgaHRtbA0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoYDxkaXYgZWxlbWVudD0iY29tbWVudCI+PHA+TG9hZGluZzwvcD48L2Rpdj5gKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zaXplLnNldFNpemUoMzAwLCA1MDApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUudXNlckNhblJlc2l6ZSh0cnVlKQ0KICAgICAgICAgICAgICAgIHZhciBjb21tZW50cyA9IGF3YWl0IHRoaXMucG9zdC5jb21tZW50cygpOw0KDQogICAgICAgICAgICAgICAgdmFyIGMgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiY29tbWVudCIpOw0KICAgICAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gIiI7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBjb21tZW50cykgew0KICAgICAgICAgICAgICAgICAgICBjLmFwcGVuZCh0aGlzLmxvYWRDb21tZW50KHgpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgbG9hZENvbW1lbnQoZGF0KSB7DQogICAgICAgIGlmIChkYXRbImJvZHlfaHRtbCJdID09IHVuZGVmaW5lZCAmJiBkYXRbImF1dGhvciJdID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgdmFyIG1haW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCg0KICAgICAgICB2YXIgdGV4dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpDQoNCiAgICAgICAgdmFyIGF1dGhvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7DQogICAgICAgIGF1dGhvci5pbm5lclRleHQgPSBkYXRbImF1dGhvciJdDQogICAgICAgIGF1dGhvci5zdHlsZS5mb250V2VpZ2h0ID0gIjcwMCI7DQogICAgICAgIGJvZHkuaW5uZXJIVE1MID0gZGF0WyJib2R5X2h0bWwiXQ0KDQogICAgICAgIHRleHREaXYuYXBwZW5kKGF1dGhvcik7DQogICAgICAgIHRleHREaXYuYXBwZW5kKGJvZHkpOw0KDQogICAgICAgIG1haW5EaXYuYXBwZW5kKHRleHREaXYpDQoNCiAgICAgICAgaWYgKGRhdFsicmVwbGllcyJdLmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgICB2YXIgcmVwbGllc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgcmVwbGllc0Rpdi5jbGFzc05hbWUgPSAicmVkZGl0Q29tbWVudCI7DQogICAgICAgICAgICByZXBsaWVzRGl2LnN0eWxlLm1hcmdpbkxlZnQgPSAiNXB4IjsNCg0KICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBkYXRbInJlcGxpZXMiXSkgew0KICAgICAgICAgICAgICAgIHZhciB2ID0gdGhpcy5sb2FkQ29tbWVudCh4KQ0KICAgICAgICAgICAgICAgIGlmICh2ICE9IHVuZGVmaW5lZCkNCiAgICAgICAgICAgICAgICAgICAgcmVwbGllc0Rpdi5hcHBlbmQodik7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIG1haW5EaXYuYXBwZW5kKHJlcGxpZXNEaXYpDQogICAgICAgIH0NCiAgICAgICAgbWFpbkRpdi5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHIiKSkNCg0KICAgICAgICByZXR1cm4gbWFpbkRpdjsNCiAgICB9DQp9DQpjbGFzcyB2aWRlb1dpbmRvdyB7DQogICAgY29uc3RydWN0b3IodmlkZW8sIGF1ZGlvKSB7DQogICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbzsNCiAgICAgICAgdGhpcy5hdWRpbyA9IGF1ZGlvOw0KICAgICAgICB0aGlzLmxvYWQoKTsNCiAgICAgICAgdGhpcy5sb2FkZWRzID0gMDsNCiAgICB9DQogICAgYXN5bmMgbG9hZCgpIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJWaWRlbyIsDQogICAgICAgICAgICAvL29ucmVhZHk6DQogICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgLy9zZXQgaHRtbA0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoYA0KICAgICAgICAgICAgICAgIDxoMSBlbGVtZW50PSJsb2FkaW5nIj5Mb2FkaW5nLi4uIHBsZWFzZSB3YWl0PC9oMT4NCiAgICAgICAgICAgICAgICA8ZGl2IGVsZW1lbnQ9InZpZCI+DQogICAgICAgICAgICAgICAgICAgIDx2aWRlbyBlbGVtZW50PSJ2aWRlbyIgY29udHJvbHMgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgYWx0PSJsb2FkaW5nLi4uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2UgZWxlbWVudD0idmlkZW9fc3JjIj4NCiAgICAgICAgICAgICAgICAgICAgPC92aWRlbz4NCiAgICAgICAgICAgICAgICAgICAgPGF1ZGlvIGVsZW1lbnQ9InZpZGVvX2F1ZGlvIiBjb250cm9scyBhbHQ9ImxvYWRpbmcuLi4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBlbGVtZW50PSJ2aWRlb19hdWRpb19zcmMiPg0KICAgICAgICAgICAgICAgICAgICA8L2F1ZGlvPg0KICAgICAgICAgICAgICAgIDwvZGl2PmApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSgzMDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQoNCiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvX3ZpZGVvID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInZpZGVvIik7DQogICAgICAgICAgICAgICAgdGhpcy52aWRlb19hdWRpbyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ2aWRlb19hdWRpbyIpOw0KDQogICAgICAgICAgICAgICAgdGhpcy52aWRlb192aWRlby5zcmMgPSB0aGlzLnZpZGVvOw0KICAgICAgICAgICAgICAgIHRoaXMudmlkZW9fYXVkaW8uc3JjID0gdGhpcy5hdWRpbzsNCg0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJvbmxvYWRlZGRhdGEiLCAidmlkZW8iLCB0aGlzLmxvYWRlZFZpZGVvLCB0aGlzKTsNCiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigib25sb2FkZWRkYXRhIiwgInZpZGVvX2F1ZGlvIiwgdGhpcy5sb2FkZWRBdWRpbywgdGhpcyk7DQoNCiAgICAgICAgICAgICAgICB2YXIgYyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ2aWRlbyIpOw0KDQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KICAgIGxvYWRlZEF1ZGlvKCkgew0KICAgICAgICB0aGlzLmxvYWRlZHMrKzsNCiAgICAgICAgaWYgKHRoaXMubG9hZGVkcyA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLmFkZEV2ZW50cygpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGxvYWRlZFZpZGVvKCkgew0KICAgICAgICB0aGlzLmxvYWRlZHMrKzsNCiAgICAgICAgaWYgKHRoaXMubG9hZGVkcyA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLmFkZEV2ZW50cygpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGFzeW5jIGFkZEV2ZW50cygpIHsNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJsb2FkaW5nIikpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoNCiAgICAgICAgY29uc29sZS5sb2coImxvYWRlZCEiKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9ucGF1c2UiLCAidmlkZW8iLCB0aGlzLnZpZGVvRXZlbnRzLCB0aGlzKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9ucGxheSIsICJ2aWRlbyIsIHRoaXMudmlkZW9FdmVudHMsIHRoaXMpOw0KICAgICAgICB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigib25zZWVraW5nIiwgInZpZGVvIiwgdGhpcy52aWRlb0V2ZW50cywgdGhpcyk7DQogICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJvbndhaXRpbmciLCAidmlkZW8iLCB0aGlzLnZpZGVvRXZlbnRzLCB0aGlzKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9uY2FucGxheSIsICJ2aWRlbyIsIHRoaXMudmlkZW9FdmVudHMsIHRoaXMpOw0KICAgIH0NCiAgICBhc3luYyB2aWRlb0V2ZW50cyhfLCBfXywgX19fLCBldmVudCkgew0KICAgICAgICB0aGlzLnZpZGVvX2F1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy52aWRlb192aWRlby5jdXJyZW50VGltZTsNCiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ3BsYXknKSB7DQogICAgICAgICAgICB0aGlzLnZpZGVvX2F1ZGlvLnBsYXkoKTsNCiAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICdwYXVzZScpIHsNCiAgICAgICAgICAgIHRoaXMudmlkZW9fYXVkaW8ucGF1c2UoKTsNCiAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICd3YWl0aW5nJykgew0KICAgICAgICAgICAgdGhpcy52aWRlb19hdWRpby5wYXVzZSgpOw0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gJ2NhbnBsYXknKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMudmlkZW9fdmlkZW8ucGF1c2VkKSB7IHRoaXMudmlkZW9fYXVkaW8ucGxheSgpOyB9DQogICAgICAgIH0NCiAgICB9DQp9DQpuZXcgcHJvZ3JhbSgpOw==", "run.js": "U3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbShQQVRILmZvbGRlcigpICsgIi9tYWluLmpzIik="}
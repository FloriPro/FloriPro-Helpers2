{"api.js": "LyoNCiAgICBuZXcgUmVkZGl0IGFwaSwgYmVjYXVzZSBsaWJhcnlzIGFyZSBub3Qgc3VwcG9ydGVkIGN1cnJlbnRseQ0KKi8NCg0KY2xhc3MgcmVkZGl0IHsNCiAgICAvKioNCiAgICAgKiByZWRkaXQgcmVhZGVyIHdpdGggb25seSBvbmUgcG9zdCBldmVyeSByZXF1ZXN0DQogICAgICogQHBhcmFtIHtzdHJpbmdbXX0gc3VicmVkZGl0cyANCiAgICAgKi8NCiAgICBjb25zdHJ1Y3RvcihzdWJyZWRkaXRzKSB7DQogICAgICAgIGlmIChzdWJyZWRkaXRzID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgc3VicmVkZGl0cyA9IFsiXyJdOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuc3VicmVkZGl0cyA9IHN1YnJlZGRpdHM7DQogICAgICAgIHRoaXMuY3VycmVudFN1YnJlZGRpdElkID0gMDsNCg0KICAgICAgICB0aGlzLmJvb2xWYXJzID0gWyJvbmx5X2ltYWdlcyIsICJzYXZlX2RhdGEiLCAibm9fbnNmdyJdDQogICAgICAgIHRoaXMudmFycyA9IHsgImxpbWl0IjogIjEwIiwgInNvcnRfdGltZSI6ICJhbGwiLCAic29ydF9ieSI6ICJob3QiLCAib25seV9pbWFnZXMiOiBmYWxzZSwgInNhdmVfZGF0YSI6IGZhbHNlLCAibm9fbnNmdyI6IGZhbHNlLCAibmVlZHNfYm9vbF9hcmd1bWVudCI6ICIiIH07DQoNCiAgICAgICAgdGhpcy5hbGxyZWFkeUZldGNoaW5nID0gZmFsc2U7DQoNCg0KICAgICAgICB0aGlzLmdlbkFmdGVycygpOw0KICAgIH0NCiAgICBnZW5BZnRlcnMoKSB7DQogICAgICAgIHRoaXMuc3RvcmVkUG9zdHMgPSBbXTsNCiAgICAgICAgdGhpcy5hZnRlciA9IFtdDQogICAgICAgIGZvciAodmFyIHggb2YgdGhpcy5zdWJyZWRkaXRzKSB7DQogICAgICAgICAgICB0aGlzLmFmdGVyLnB1c2goIiIpOw0KICAgICAgICAgICAgdGhpcy5zdG9yZWRQb3N0cy5wdXNoKFtdKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHRpbWVvdXQobXMpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpOw0KICAgIH0NCg0KICAgIHNldFN1YnJlZGRpdHMoc3VicmVkZGl0cykgew0KICAgICAgICB0aGlzLnN1YnJlZGRpdHMgPSBzdWJyZWRkaXRzOw0KICAgICAgICB0aGlzLmdlbkFmdGVycygpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogZ2V0cyBhIHBvc3QgZnJvbSBhIHN1YnJlZGRpdCB3aXRoIHRoZSBzcGVjZWZpZWQgaWQNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgZnJvbSB0aGlzLnN1YnJlZGRpdHMNCiAgICAgKiBAcmV0dXJucyB7e3N0cmluZzpzdHJpbmcgfCBzdHJpbmdbXSB8IG51bWJlcn19IHRoZSBzdGFuZGFyZCByZWRkaXQgcmVzcG9zZSBmb3IgYSBwb3N0DQogICAgICovDQogICAgYXN5bmMgZ2V0KGlkKSB7DQogICAgICAgIC8vY2hlY2sgaWYgYWxscmVhZHkgaW4gY2FjaGUNCiAgICAgICAgaWYgKHRoaXMuc3RvcmVkUG9zdHNbaWRdLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiBbdGhpcy5zdG9yZWRQb3N0c1tpZF0uc2hpZnQoKSwgbnVsbF07DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmFsbHJlYWR5RmV0Y2hpbmcgPSB0cnVlOw0KDQogICAgICAgIHZhciB1cmwgPSB0aGlzLmdlblVybCh0aGlzLnN1YnJlZGRpdHNbaWRdLCB0aGlzLmFmdGVyW2lkXSwgdGhpcy52YXJzWyJsaW1pdCJdLCB0aGlzLnZhcnNbInNvcnRfdGltZSJdLCB0aGlzLnZhcnNbInNvcnRfYnkiXSk7DQogICAgICAgIHZhciBkYXQgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgICAgICBkYXQgPSBKU09OLnBhcnNlKGF3YWl0IGRhdC50ZXh0KCkpDQoNCiAgICAgICAgaWYgKGRhdFsiZXJyb3IiXSkgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcihkYXRbIm1lc3NhZ2UiXSkNCiAgICAgICAgICAgIHJldHVybiBbZGF0XTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBuZXdBZnRlciA9IGRhdFsiZGF0YSJdWyJhZnRlciJdOw0KDQogICAgICAgIHZhciBhbGxTdHVmZiA9IGRhdFsiZGF0YSJdWyJjaGlsZHJlbiJdDQoNCiAgICAgICAgaWYgKGFsbFN0dWZmLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBjb25zb2xlLndhcm4oInJhdGVsaW1pdDogdGltZW91dCAyMDAwbXMiKQ0KICAgICAgICAgICAgYXdhaXQgdGhpcy50aW1lb3V0KDIwMDApOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGlkKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChhbGxTdHVmZi5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICB2YXIgb3RoZXJQb3N0cyA9IGFsbFN0dWZmLnNsaWNlKDEpOw0KICAgICAgICAgICAgdGhpcy5zdG9yZWRQb3N0c1tpZF0gPSBvdGhlclBvc3RzOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5hbGxyZWFkeUZldGNoaW5nID0gZmFsc2U7DQogICAgICAgIHJldHVybiBbYWxsU3R1ZmZbMF0sIG5ld0FmdGVyXTsNCiAgICB9DQoNCiAgICBhc3luYyBuZXh0KCkgew0KICAgICAgICB2YXIgciA9IGF3YWl0IHRoaXMuZ2V0KHRoaXMuY3VycmVudFN1YnJlZGRpdElkKTsNCiAgICAgICAgaWYgKHIubGVuZ3RoID09IDEpIHsNCiAgICAgICAgICAgIHZhciBlcnJvcmVkU3ViYnJlZGRpdCA9IHRoaXMuc3VicmVkZGl0c1t0aGlzLmN1cnJlbnRTdWJyZWRkaXRJZF0NCiAgICAgICAgICAgIHRoaXMuY3VycmVudFN1YnJlZGRpdElkKys7DQogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3VicmVkZGl0SWQgPj0gdGhpcy5zdWJyZWRkaXRzLmxlbmd0aCkgeyB0aGlzLmN1cnJlbnRTdWJyZWRkaXRJZCA9IDA7IH0NCg0KICAgICAgICAgICAgcmV0dXJuIG5ldyBlcnJvclBvc3QoclswXSwgZXJyb3JlZFN1YmJyZWRkaXQpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGRhdCA9IHJbMF07DQogICAgICAgIHZhciBuZXdBZnRlciA9IHJbMV07DQogICAgICAgIGlmIChuZXdBZnRlciAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIHRoaXMuYWZ0ZXJbdGhpcy5jdXJyZW50U3VicmVkZGl0SWRdID0gbmV3QWZ0ZXI7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHAgPSBuZXcgcG9zdChkYXQpOw0KICAgICAgICBwLnNhdmVEYXRhID0gdGhpcy52YXJzWyJzYXZlX2RhdGEiXTsNCiAgICAgICAgaWYgKCh0aGlzLnZhcnNbIm9ubHlfaW1hZ2VzIl0gJiYgcC5JbWFnZSgpLmxlbmd0aCA9PSAwKSB8fCAodGhpcy52YXJzWyJub19uc2Z3Il0gJiYgcC5kYXRhWyJvdmVyXzE4Il0pKSB7DQogICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5uZXh0KCk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMudmFyc1sibmVlZHNfYm9vbF9hcmd1bWVudCJdICE9ICIiKSB7DQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIHRoaXMudmFyc1sibmVlZHNfYm9vbF9hcmd1bWVudCJdLnNwbGl0KCIsIikpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXAuZGF0YVt4XSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5uZXh0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jdXJyZW50U3VicmVkZGl0SWQrKzsNCiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN1YnJlZGRpdElkID49IHRoaXMuc3VicmVkZGl0cy5sZW5ndGgpIHsgdGhpcy5jdXJyZW50U3VicmVkZGl0SWQgPSAwOyB9DQogICAgICAgIHJldHVybiBwOw0KICAgIH0NCiAgICBnZW5Vcmwoc3VicmVkZGl0LCBhZnRlciwgbGltaXQsIHNvcnRfdGltZSwgc29ydF9ieSkgew0KICAgICAgICByZXR1cm4gJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vci8nICsgc3VicmVkZGl0ICsgJy8nICsgc29ydF9ieSArICcvLmpzb24/cmF3X2pzb249MSZ0PScgKyBzb3J0X3RpbWUgKyAnJmxpbWl0PScgKyBsaW1pdCArICImYWZ0ZXI9IiArIGFmdGVyOw0KICAgIH0NCiAgICBnZXRQb3N0RnJvbURhdGEoZGF0YSkgew0KICAgICAgICB2YXIgcCA9IG5ldyBwb3N0KGRhdGEpOw0KICAgICAgICBwLnNhdmVEYXRhID0gdGhpcy52YXJzWyJzYXZlX2RhdGEiXTsNCiAgICAgICAgcmV0dXJuIHANCiAgICB9DQp9DQpjbGFzcyBwb3N0IHsNCiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7DQogICAgICAgIHRoaXMudHlwZSA9ICJwb3N0IjsNCiAgICAgICAgdGhpcy5kYXRhID0gZGF0YVsiZGF0YSJdOw0KICAgICAgICB0aGlzLnNhdmVEYXRhID0gZmFsc2UNCiAgICB9DQoNCiAgICBjb21wb3NlZEltYWdlKCkgew0KICAgICAgICB2YXIgaW1ncyA9IFtdOw0KICAgICAgICBpZiAoIm1lZGlhX21ldGFkYXRhIiBpbiB0aGlzLmRhdGEpIHsNCiAgICAgICAgICAgIGZvciAoeCBpbiB0aGlzLmRhdGFbIm1lZGlhX21ldGFkYXRhIl0pIHsNCiAgICAgICAgICAgICAgICB2YXIgZCA9IHsNCiAgICAgICAgICAgICAgICAgICAgImZ1bGwiOiB0aGlzLmRhdGFbIm1lZGlhX21ldGFkYXRhIl1beF1bInMiXVsidSJdLA0KICAgICAgICAgICAgICAgICAgICAiY29tcHJlc3NlZCI6IHRoaXMuZGF0YVsibWVkaWFfbWV0YWRhdGEiXVt4XVsicCJdWzBdWyJ1Il0sDQogICAgICAgICAgICAgICAgICAgICJoaWdocXVhbGl0eSI6IHRoaXMuZGF0YVsibWVkaWFfbWV0YWRhdGEiXVt4XVsicCJdW3RoaXMuZGF0YVsibWVkaWFfbWV0YWRhdGEiXVt4XVsicCJdLmxlbmd0aCAtIDFdWyJ1Il0sDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBpbWdzLnB1c2goZCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgicHJldmlldyIgaW4gdGhpcy5kYXRhKSB7DQogICAgICAgICAgICBmb3IgKHZhciB4IGluIHRoaXMuZGF0YVsicHJldmlldyJdWyJpbWFnZXMiXSkgew0KICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5kYXRhWyJwcmV2aWV3Il1bImltYWdlcyJdW3hdWyJyZXNvbHV0aW9ucyJdOw0KDQogICAgICAgICAgICAgICAgdmFyIGQgPSB7DQogICAgICAgICAgICAgICAgICAgICJmdWxsIjogYVthLmxlbmd0aCAtIDFdWyJ1cmwiXSwNCiAgICAgICAgICAgICAgICAgICAgImNvbXByZXNzZWQiOiBhWzBdWyJ1cmwiXSwNCiAgICAgICAgICAgICAgICAgICAgImhpZ2hxdWFsaXR5IjogYVthLmxlbmd0aCAtIDFdWyJ1cmwiXSwNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgaWYgKCJ1cmwiIGluIHRoaXMuZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICBkWyJmdWxsIl0gPSB0aGlzLmRhdGFbInVybCJdOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGltZ3MucHVzaChkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBpbWdzOw0KICAgIH0NCg0KICAgIEltYWdlKCkgew0KICAgICAgICB2YXIgaW1ncyA9IFtdOw0KICAgICAgICBpZiAoIm1lZGlhX21ldGFkYXRhIiBpbiB0aGlzLmRhdGEpIHsNCiAgICAgICAgICAgIGZvciAoeCBpbiB0aGlzLmRhdGFbIm1lZGlhX21ldGFkYXRhIl0pIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zYXZlRGF0YSA9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICBpbWdzLnB1c2godGhpcy5kYXRhWyJtZWRpYV9tZXRhZGF0YSJdW3hdWyJzIl1bInUiXSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcCA9IE1hdGgucm91bmQodGhpcy5kYXRhWyJtZWRpYV9tZXRhZGF0YSJdW3hdWyJwIl0ubGVuZ3RoIC8gNCk7DQogICAgICAgICAgICAgICAgICAgIC8vcCA9IDQ7DQogICAgICAgICAgICAgICAgICAgIGltZ3MucHVzaCh0aGlzLmRhdGFbIm1lZGlhX21ldGFkYXRhIl1beF1bInAiXVtwXVsidSJdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCJwcmV2aWV3IiBpbiB0aGlzLmRhdGEgJiYgdGhpcy5zYXZlRGF0YSA9PSB0cnVlKSB7DQogICAgICAgICAgICBmb3IgKHZhciB4IGluIHRoaXMuZGF0YVsicHJldmlldyJdWyJpbWFnZXMiXSkgew0KICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5kYXRhWyJwcmV2aWV3Il1bImltYWdlcyJdW3hdWyJyZXNvbHV0aW9ucyJdOw0KICAgICAgICAgICAgICAgIHZhciBwID0gTWF0aC5yb3VuZChhLmxlbmd0aCAvIDQpOw0KICAgICAgICAgICAgICAgIGlmIChhLmluY2x1ZGVzKHApKSB7DQogICAgICAgICAgICAgICAgICAgIGltZ3MucHVzaChhW3BdWyJ1cmwiXSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGEubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGltZ3MucHVzaChhWzBdWyJ1cmwiXSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICgidXJsIiBpbiB0aGlzLmRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YVsidXJsIl0gPSB0aGlzLmRhdGFbInVybCJdLnJlcGxhY2UoImdpZnYiLCAianBnIikNCiAgICAgICAgICAgIGlmICghdGhpcy5kYXRhWyJ1cmwiXS5tYXRjaCgvLihqcGd8anBlZ3xwbmd8Z2lmKSQvaSkpIHsgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpbWdzLnB1c2godGhpcy5kYXRhWyJ1cmwiXSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gLy91cmxfb3ZlcnJpZGRlbl9ieV9kZXN0DQogICAgICAgIHJldHVybiBpbWdzDQogICAgfQ0KICAgIEltYWdlRnVsbCgpIHsNCiAgICAgICAgLy9kaXNhYmxlIHNhdmVkYXRhDQogICAgICAgIHZhciBzID0gdGhpcy5zYXZlRGF0YQ0KICAgICAgICB0aGlzLnNhdmVEYXRhID0gZmFsc2U7DQoNCiAgICAgICAgdmFyIGQgPSB0aGlzLkltYWdlKCk7DQoNCiAgICAgICAgLy9yZS1lbmFiYWxlIHNhdmVkYXRhDQogICAgICAgIHRoaXMuc2F2ZURhdGEgPSBzOw0KICAgICAgICByZXR1cm4gZDsNCiAgICB9DQogICAgQXV0aG9yKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kYXRhWyJhdXRob3IiXTsNCiAgICB9DQogICAgVGl0bGUoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRhdGFbInRpdGxlIl07DQogICAgfQ0KICAgIFRleHQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRhdGFbInNlbGZ0ZXh0Il07DQogICAgfQ0KICAgIEh0bWxUZXh0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kYXRhWyJzZWxmdGV4dF9odG1sIl07DQogICAgfQ0KICAgIGFzeW5jIGNvbW1lbnRzKCkgew0KICAgICAgICB2YXIgY29tbWVudExpbmsgPSAiaHR0cHM6Ly93d3cucmVkZGl0LmNvbSIgKyB0aGlzLmRhdGEucGVybWFsaW5rICsgIi5qc29uP3Jhd19qc29uPTEiOw0KICAgICAgICB2YXIgdGV4dCA9IGF3YWl0IChhd2FpdCBmZXRjaChjb21tZW50TGluaykpLnRleHQoKQ0KICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UodGV4dCk7DQogICAgICAgIHZhciBkYXQgPSBqc29uWyIxIl1bImRhdGEiXVsiY2hpbGRyZW4iXTsNCiAgICAgICAgcmV0dXJuIHRoaXMubG9hZENvbW1lbnRFYXN5KGRhdCk7DQogICAgfQ0KICAgIG1lZGlhKCkgew0KICAgICAgICBpZiAodGhpcy5kYXRhWyJtZWRpYSJdICE9IG51bGwpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbIm1lZGlhIl1bInR5cGUiXSA9PSAieW91dHViZS5jb20iKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsgInR5cGUiOiAieW91dHViZSIsICJkYXQiOiB0aGlzLmRhdGFbIm1lZGlhIl1bIm9lbWJlZCJdWyJodG1sIl0gfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZGF0YVsiaXNfdmlkZW8iXSA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVsibWVkaWEiXVsicmVkZGl0X3ZpZGVvIl0gPT0gdW5kZWZpbmVkKSB7IHJldHVybiBmYWxzZTsgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZWRkaXRWaWRlbyIsICJkYXQiOiBbDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbIm1lZGlhIl1bInJlZGRpdF92aWRlbyJdWyJmYWxsYmFja191cmwiXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVsibWVkaWEiXVsicmVkZGl0X3ZpZGVvIl1bImZhbGxiYWNrX3VybCJdLnNwbGl0KCJEQVNIXyIpWzBdICsgIkRBU0hfYXVkaW8ubXA0Ig0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBhcnJheSBvZiBjb21tZW50cyBjb250YWluaW5nIHJlcGxpZXMsIHdoaWNoIGluIGVhY2ggaXQgc2VsZiBpcyBhbiBhcnJheSBvZiBjb21tZW50cyBjb250YWluaW5nIHJlcGxpZXMsIGFuZCBzbyBvbg0KICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdA0KICAgICAqIEByZXR1cm5zIA0KICAgICAqLw0KICAgIGxvYWRDb21tZW50RWFzeShkYXQpIHsNCiAgICAgICAgdmFyIG91dCA9IFtdOw0KICAgICAgICBmb3IgKHZhciB4IG9mIGRhdCkgew0KICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSB7ICJhdXRob3IiOiAiLSIsICJib2R5X2h0bWwiOiAiPHA+LTwvcD4iLCAiYm9keSI6ICIiLCAicmVwbGllcyI6IFtdIH0NCiAgICAgICAgICAgIHZhciBkYXRhID0geFsiZGF0YSJdDQogICAgICAgICAgICB2YXIgcmVwbGllcyA9IFtdDQogICAgICAgICAgICBpZiAoZGF0YVsicmVwbGllcyJdICE9ICIiICYmIGRhdGFbInJlcGxpZXMiXSAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICByZXBsaWVzID0gdGhpcy5sb2FkQ29tbWVudEVhc3koZGF0YVsicmVwbGllcyJdWyJkYXRhIl1bImNoaWxkcmVuIl0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29tbWVudFsiYXV0aG9yIl0gPSBkYXRhWyJhdXRob3IiXQ0KICAgICAgICAgICAgY29tbWVudFsiYXV0aG9yX2RhdGEiXSA9IG5ldyBwcm9maWxlKGRhdGFbImF1dGhvciJdKQ0KICAgICAgICAgICAgY29tbWVudFsiYm9keV9odG1sIl0gPSBkYXRhWyJib2R5X2h0bWwiXQ0KICAgICAgICAgICAgY29tbWVudFsiYm9keSJdID0gZGF0YVsiYm9keSJdDQogICAgICAgICAgICBjb21tZW50WyJyZXBsaWVzIl0gPSByZXBsaWVzOw0KICAgICAgICAgICAgb3V0LnB1c2goY29tbWVudCkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gb3V0Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEByZXR1cm5zIHtib29sZWFufSBpZiB0aGUgcG9zdCBpcyBvdmVyIDE4IG9yIG5vdA0KICAgICAqLw0KICAgIG5zZncoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRhdGFbIm92ZXJfMTgiXTsNCiAgICB9DQp9DQoNCg0KY2xhc3MgZXJyb3JQb3N0IHsNCiAgICBjb25zdHJ1Y3RvcihkYXQsIGVycm9yZWRTdWJicmVkZGl0KSB7DQogICAgICAgIHRoaXMudHlwZSA9ICJlcnJvciI7DQogICAgICAgIHRoaXMuZGF0ID0gZGF0Ow0KICAgICAgICB0aGlzLmVycm9yZWRTdWJicmVkZGl0ID0gZXJyb3JlZFN1YmJyZWRkaXQ7DQogICAgfQ0KfQ0KDQpjbGFzcyBwcm9maWxlIHsNCiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7DQogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7DQogICAgICAgIHRoaXMuZGF0YSA9IG51bGw7DQogICAgICAgIHRoaXMuZGVsZXRlZCA9IGZhbHNlOw0KICAgIH0NCg0KICAgIGFzeW5jIGZldGNoRGF0YSgpIHsNCiAgICAgICAgaWYgKHRoaXMubmFtZSA9PSAiW2RlbGV0ZWRdIikgeyB0aGlzLmRlbGV0ZWQgPSB0cnVlOyByZXR1cm47IH0NCiAgICAgICAgdmFyIGxpbmsgPSAiaHR0cHM6Ly93d3cucmVkZGl0LmNvbS91c2VyLyIgKyB0aGlzLm5hbWUgKyAiL2Fib3V0Lmpzb24/cmF3X2pzb249MSI7DQogICAgICAgIHZhciB0ZXh0ID0gYXdhaXQgKGF3YWl0IGZldGNoKGxpbmspKS50ZXh0KCkNCiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHRleHQpOw0KICAgICAgICB0aGlzLmRhdGEgPSBqc29uOw0KICAgIH0NCg0KICAgIGFzeW5jIGdldEljb24oKSB7DQogICAgICAgIGlmICh0aGlzLmRhdGEgPT0gbnVsbCkgew0KICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5kZWxldGVkID09IHRydWUpIHsgcmV0dXJuICJodHRwczovL3d3dy5yZWRkaXRzdGF0aWMuY29tL3NocmVkZGl0L2Fzc2V0cy9zbm9vdmF0YXItYmFjay02NHg2NHB4LnBuZyI7IH0NCiAgICAgICAgdmFyIGljb0ltZyA9IHRoaXMuZGF0YVsiZGF0YSJdWyJpY29uX2ltZyJdOw0KICAgICAgICBpZiAoaWNvSW1nID09ICIiKSB7IHJldHVybiAiaHR0cHM6Ly93d3cucmVkZGl0c3RhdGljLmNvbS9zaHJlZGRpdC9hc3NldHMvc25vb3ZhdGFyLWJhY2stNjR4NjRweC5wbmciOyB9DQogICAgICAgIGlmIChpY29JbWcgPT0gdW5kZWZpbmVkKSB7IHJldHVybiAiaHR0cHM6Ly93d3cucmVkZGl0c3RhdGljLmNvbS9zaHJlZGRpdC9hc3NldHMvc25vb3ZhdGFyLWJhY2stNjR4NjRweC5wbmciOyB9DQogICAgICAgIGljb0ltZyA9IGljb0ltZy5zcGxpdCgiPyIpWzBdOw0KICAgICAgICByZXR1cm4gaWNvSW1nOw0KICAgIH0NCn0NCg0KcmVkZGl0Ow==", "html.html": "PHN0eWxlPg0KICAgIC5vbmVTZXR0aW5nIHsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgIH0NCg0KICAgIC5zZXR0aW5EZWxldGVCdXR0b24gew0KICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzMCwgMTgwLCAxODApOw0KICAgIH0NCg0KICAgIC5zZXR0aW5FZGl0QnV0dG9uIHsNCiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODAsIDIzMCwgMTgwKTsNCiAgICB9DQoNCiAgICAuc2V0dGluZ0J1dHRvbiB7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODAsIDE4MCwgMjMwKTsNCiAgICB9DQoNCiAgICAucmVkZGl0Q29tbWVudEluZGVudExpbmUgew0KICAgICAgICBtYXJnaW4tbGVmdDogMTRweDsNCiAgICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7DQogICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0MzQzNDNTsNCiAgICB9DQoNCiAgICAucmVkZGl0Q29tbWVudEF1dGhvciB7DQogICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAyOXB4Ow0KICAgIH0NCg0KICAgIC5yZWRkaXRDb21tZW50QXV0aG9ySW1nIHsNCiAgICAgICAgd2lkdGg6IDIwcHg7DQogICAgICAgIGhlaWdodDogMjBweDsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAtMjNweDsNCiAgICAgICAgdG9wOiAyMnB4Ow0KICAgIH0NCg0KICAgIC5yZWRkaXRDb21tZW50Qm9keSB7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAxNHB4Ow0KICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsNCiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICAgIH0NCg0KICAgIC5yZWRkaXRDb21tZW50Tk9MaW5lIHsNCiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICAgIH0NCg0KICAgIC5yZWRkaXRDb21tZW50IC5yZWRkaXRDb21tZW50QXV0aG9yOjpiZWZvcmUgew0KICAgICAgICBjb250ZW50OiAiIjsNCiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgIHRvcDogMTNweDsNCiAgICAgICAgd2lkdGg6IDEwcHg7DQogICAgICAgIGhlaWdodDogMTBweDsNCiAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI0MzQzNDNTsNCiAgICAgICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7DQogICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsNCiAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTAwJTsNCiAgICAgICAgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDsNCiAgICAgICAgYm9yZGVyLWxlZnQtY29sb3I6ICNjM2MzYzU7DQogICAgICAgIGJvcmRlci1sZWZ0LXN0eWxlOiBzb2xpZDsNCiAgICAgICAgbWFyZ2luLWxlZnQ6IC0zM3B4Ow0KICAgICAgICBtYXJnaW4tcmlnaHQ6IDIzcHg7DQogICAgfQ0KDQogICAgLnJlZGRpdENvbW1lbnQgLnJlZGRpdENvbW1lbnRBdXRob3Igew0KICAgICAgICBtYXJnaW4tbGVmdDogMjZweDsNCiAgICB9DQoNCiAgICAucmVkZGl0Q29tbWVudEJvZHkgYSB7DQogICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsNCiAgICB9DQoNCiAgICAucmVkZGl0Q29tbWVudEJvZHkgaW1nIHsNCiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgfQ0KPC9zdHlsZT4NCg0KPGRpdiBlbGVtZW50PSJzZXR0aW5ncyI+DQogICAgPGRpdiBlbGVtZW50PSJlZGl0U2V0dGluZyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4NCiAgICAgICAgPGRpdiBlbGVtZW50PSJkeW5hbWljRWRpdFNldHRpbmciPg0KICAgICAgICAgICAgPCEtLUR5bmFtaWMgbG9hZCBhbmQgZ2V0IGJ1dHRvbnMgZnJvbSAuL3NldHRpbmdzLmh0bWwtLT4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGJ1dHRvbiBlbGVtZW50PSJzZWxlY3RTdWJyZWRkaXRzIj5PazwvYnV0dG9uPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgZWxlbWVudD0ibGlzdFNldHRpbmdzIj4NCg0KICAgIDwvZGl2Pg0KICAgIDxidXR0b24gZWxlbWVudD0iYWRkU2V0dGluZyI+YWRkPC9idXR0b24+DQogICAgPGhyPg0KICAgIDxidXR0b24gZWxlbWVudD0ic2V0V2luZG93bWF4Ij5tYXg8L2J1dHRvbj4NCiAgICA8YnV0dG9uIGVsZW1lbnQ9InNldFdpbmRvd25vcm1hbCI+bm9ybWFsPC9idXR0b24+DQogICAgPGhyPg0KICAgIDxwIHN0eWxlPSJmb250LXNpemU6IHNtYWxsOyI+VGhpcyBpcyBvbmx5IGEgdmlld2VyIDxpIHN0eWxlPSJmb250LXNpemU6IHNtYWxsOyI+Rk9SPC9pPiByZWRkaXQhPC9wPg0KPC9kaXY+DQo8ZGl2IGVsZW1lbnQ9InBvc3QiIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IG92ZXJmbG93OiBhdXRvOyI+DQogICAgPGEgdGFyZ2V0PSJfYmxhbmsiIGVsZW1lbnQ9ImxpbmsiPjwvYT4NCiAgICA8YnV0dG9uIGVsZW1lbnQ9Im9wZW5SZWRkaXQiPmZ1bGw8L2J1dHRvbj4NCiAgICA8aDEgZWxlbWVudD0idGl0bGUiIHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsiPlRpdGxlPC9oMT4NCiAgICA8cCBlbGVtZW50PSJ0ZXh0Ij5UZXh0PC9wPg0KDQogICAgPGJ1dHRvbiBlbGVtZW50PSdvcGVuVmlkJyBzdHlsZT0iZGlzcGxheTogbm9uZTsiPm9wZW4gdmlkZW88L2J1dHRvbj4NCiAgICA8ZGl2IGVsZW1lbnQ9ImltZyIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij48L2Rpdj4NCg0KICAgIDxidXR0b24gZWxlbWVudD0ibmV4dCIgc3R5bGU9Ig0KICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgIGJvdHRvbTogMTBweDsNCiAgICAgICAgaGVpZ2h0OiA1MHB4Ow0KICAgICAgICBmb250LXNpemU6IDUwcHg7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgcmlnaHQ6IDEwcHg7DQogICAgIj5uZXh0PC9idXR0b24+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJiYWNrIiBzdHlsZT0iDQogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgYm90dG9tOiAxMHB4Ow0KICAgICAgICBoZWlnaHQ6IDUwcHg7DQogICAgICAgIGZvbnQtc2l6ZTogNTBweDsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogYW50aXF1ZXdoaXRlOw0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICBsZWZ0OiAxMHB4Ow0KICAgICI+YmFjazwvYnV0dG9uPg0KICAgIDxicj4NCiAgICA8YnV0dG9uIGVsZW1lbnQ9ImNvbW1lbnRzIj5jb21tZW50czwvYnV0dG9uPg0KICAgIDxocj4NCiAgICA8YnV0dG9uIGVsZW1lbnQ9InNldFdpbmRvd21heDIiPm1heDwvYnV0dG9uPg0KICAgIDxidXR0b24gZWxlbWVudD0ic2V0V2luZG93bm9ybWFsMiI+bm9ybWFsPC9idXR0b24+DQogICAgPGJ1dHRvbiBlbGVtZW50PSJvcGVuU2V0dGluZ3MiIHN0eWxlPSJmbG9hdDogbGVmdDsgcGFkZGluZy1ib3R0b206IDU4cHg7Ij5zZXR0aW5nczwvYnV0dG9uPg0KICAgIDxicj4NCjwvZGl2Pg==", "install.js": "YXN5bmMgZnVuY3Rpb24gcnVuKCkgew0KICAgIC8vaW5zdGFsbCB0aGUgbmVlZGVkIGRlcGVuZGVuY2llcw0KICAgIC8vYXdhaXQgU3lzdGVtLnByb2dyYW0ubGliSW5zdGFsbCgicmVkZGl0QXBpIik7DQoNCiAgICAvL2ZpbGUgZXh0ZW5zaW9ucw0KICAgIGF3YWl0IFN5c3RlbS5vcHRpb25zLmFkZFZhbHVlKCJwcm9ncmFtcyIsICJyZWRkaXQiLCB7ICJwYXRoIjogImMvcHJvZ3JhbXMvcmVkZGl0L21haW4uanMiLCAibmFtZSI6ICJSZWRkaXQiLCAicnVuIjogImMvcHJvZ3JhbXMvcmVkZGl0L3J1bi5qcyIgfSwgdHJ1ZSk7DQogICAgU3lzdGVtSHRtbC51cGRhdGVTdGFydG1lbnUoKQ0KICAgIGlmICghKGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZmlsZUV4aXN0cygiYy91c2VyL3JlZGRpdC9vbGQvMC5qc29uIikpKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJud2UgRmlsZSIpOw0KICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcoImMvdXNlci9yZWRkaXQvb2xkLzAuanNvbiIsICdbXScpOw0KICAgIH0NCiAgICBpZiAoIShhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmZpbGVFeGlzdHMoImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIpKSkgew0KICAgICAgICBjb25zb2xlLmxvZygibndlIEZpbGUiKTsNCiAgICAgICAgYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5zZXRGaWxlU3RyaW5nKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iLCAnW3sibGltaXQiOiAiMTAiLCJzb3J0X3RpbWUiOiAiYWxsIiwic29ydF9ieSI6ICJob3QiLCJvbmx5X2ltYWdlcyI6IGZhbHNlLCJzYXZlX2RhdGEiOiBmYWxzZSwibm9fbnNmdyI6IGZhbHNlLCJuZWVkc19ib29sX2FyZ3VtZW50IjogIiIsInN1YnJlZGRpdHMiOiAibWVtZXMiLCAibmFtZSI6ICJtZW1lcyJ9XScpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBzZXR0aW5ncyA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIpOw0KICAgICAgICAvL2NoZWNrIGlmIHRoZSBzZXR0aW5ncyBhcmUgdXAgdG8gZGF0ZSBhbmQgdGh1cyBpbiBhIGxpc3QNCiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNldHRpbmdzKSkgew0KICAgICAgICAgICAgc2V0dGluZ3MgPSBbc2V0dGluZ3NdOw0KICAgICAgICAgICAgc2V0dGluZ3NbMF0ubmFtZSA9ICJwbGVhc2UgcmVuYW1lIG1lIjsNCiAgICAgICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIiwgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGVkIHNldHRpbmdzIik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhd2FpdCBTeXN0ZW0ucHJvZ3JhbS5saWJJbnN0YWxsKCJtZDUiKTsNCg0KICAgIC8vZGVza3RvcCBzaG9ydGN1dA0KICAgIGlmICghYXdhaXQgU3lzdGVtSHRtbC5kZXNrdG9wLmV4aXN0c0xpbmsoImMvcHJvZ3JhbXMvcmVkZGl0L3J1bi5qcyIpKSB7DQogICAgICAgIGF3YWl0IFN5c3RlbUh0bWwuZGVza3RvcC5hZGRMaW5rKCJjL3Byb2dyYW1zL3JlZGRpdC9ydW4uanMiLCAiUmVkZGl0IiwgImMvcHJvZ3JhbXMvcmVkZGl0L2xvZ28ud2VicCIpOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCnJ1bigpOw==", "installLocation.dat": "Yy9wcm9ncmFtcy9yZWRkaXQ=", "logo.webp": "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", "main.js": "Y2xhc3MgcHJvZ3JhbSBleHRlbmRzIFN5c3RlbS5wcm9ncmFtLmRlZmF1bHQgew0KICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgICBzdXBlcigpDQogICAgICAgIC8vZG9uJ3QgdXNlIQ0KICAgIH0NCiAgICBhc3luYyBpbml0KCkgew0KICAgICAgICBhd2FpdCBTeXN0ZW0uZ2V0TGliKCJtZDUiKTsNCg0KICAgICAgICB0aGlzLnByZXZpb3VzTWF4ID0gdW5kZWZpbmVkOw0KDQogICAgICAgIHRoaXMuY3VycmVudFBvc3QgPSB1bmRlZmluZWQ7DQogICAgICAgIHRoaXMucGFzdCA9IFtdDQogICAgICAgIHRoaXMucGFzdElkID0gLTE7DQoNCiAgICAgICAgdGhpcy5wZXJtYWxpbmsgPSAiIg0KICAgICAgICBhd2FpdCB0aGlzLmxvYWRBbGxyZWFkeVJlYWQoKTsNCg0KICAgICAgICB0aGlzLmFsbHJlYWR5TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLm1heFdpZHRoID0gIjUwMHB4IjsNCg0KICAgICAgICAvKioNCiAgICAgICAgICogQHR5cGUge3JlZGRpdH0NCiAgICAgICAgICovDQogICAgICAgIHRoaXMucmVkZGl0QXBpID0gbmV3IChhd2FpdCBTeXN0ZW0ucnVuKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvYXBpLmpzIikpKCk7Ly9uZXcgKGF3YWl0IFN5c3RlbS5nZXRMaWIoInJlZGRpdEFwaSIpKSAvL25ldyAoYXdhaXQgU3lzdGVtLnJ1bih0aGlzLlBBVEguZm9sZGVyKCkgKyAiL2FwaS5qcyIpKShbIm1lbWVzIl0pOw0KICAgICAgICB0aGlzLnJlZGRpdEFwaS52YXJzID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlSnNvbigiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIikNCg0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7SHRtbFdpbmRvd30NCiAgICAgICAgICovDQogICAgICAgIHRoaXMud2luZG93ID0gYXdhaXQgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLmNyZWF0ZVdpbmRvdygiUmVkZGl0IiwNCiAgICAgICAgICAgIC8vb25yZWFkeToNCiAgICAgICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAvL3NldCBodG1sDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYXBwZWFyZW5jZS5zZXRMb2dvKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvbG9nby53ZWJwIikNCg0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlU3RyaW5nKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvaHRtbC5odG1sIikpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSg1MDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQoNCiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlTZXR0aW5ncygpOw0KDQogICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJzZXR0aW5ncyIpOw0KICAgICAgICAgICAgICAgIHRoaXMucG9zdCA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJwb3N0Iik7DQoNCiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInRpdGxlIik7DQogICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInRleHQiKTsNCiAgICAgICAgICAgICAgICB0aGlzLmltZyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJpbWciKTsNCiAgICAgICAgICAgICAgICB0aGlzLmxpbmsgPSBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgibGluayIpOw0KICAgICAgICAgICAgICAgIHRoaXMub3BlblZpZCA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJvcGVuVmlkIik7DQoNCiAgICAgICAgICAgICAgICB0aGlzLnBvc3Quc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEVkaXRTZXR0aW5nID0gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJhZGRTZXR0aW5nIiwgdGhpcy5hZGRTZXR0aW5nLCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAic2VsZWN0U3VicmVkZGl0cyIsIHRoaXMuc2F2ZUVkaXRTZXR0aW5nLCB0aGlzKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAibmV4dCIsIHRoaXMubmV4dCwgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImJhY2siLCB0aGlzLmJhY2ssIHRoaXMpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJpbWciLCB0aGlzLmltZ0Z1bGxzY3JlZW4sIHRoaXMpOw0KDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgInNldFdpbmRvd25vcm1hbCIsIHRoaXMuc2l6ZU5vcm1hbCwgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgInNldFdpbmRvd21heCIsIHRoaXMuc2l6ZU1heCwgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgInNldFdpbmRvd25vcm1hbDIiLCB0aGlzLnNpemVOb3JtYWwsIHRoaXMpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJzZXRXaW5kb3dtYXgyIiwgdGhpcy5zaXplTWF4LCB0aGlzKTsNCiAgICAgICAgICAgICAgICAvL2F3YWl0IHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJjbGljayIsICJwb3N0RGVidWciLCB0aGlzLnBvc3REZWJ1ZywgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgIm9wZW5WaWQiLCB0aGlzLm9wZW5WaWRlbywgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgIm9wZW5TZXR0aW5ncyIsICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgIm9wZW5SZWRkaXQiLCAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gImh0dHBzOi8vanM0LnJlZCIgKyB0aGlzLnBlcm1hbGluaw0KICAgICAgICAgICAgICAgICAgICBuZXcgcmVkanNXaW5kb3cobGluayk7DQogICAgICAgICAgICAgICAgfSwgdGhpcyk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgImNvbW1lbnRzIiwgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBuZXcgY29tbWVudFdpbmRvdyh0aGlzLmN1cnJlbnRQb3N0KTsNCiAgICAgICAgICAgICAgICB9LCB0aGlzKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLndpbmRvdy5jbG9zZSA9ICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3RvcCgpDQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgc2l6ZU5vcm1hbCgpIHsNCiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNNYXgpIHsNCiAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUuc2V0TWF4KCk7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5wcmV2aW91c01heCAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIHRoaXMud2luZG93LnNpemUubm90TWF4KCkNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzaXplTWF4KCkgew0KICAgICAgICBpZiAoIXRoaXMud2luZG93LnNpemUuZnVsbE1heCkgew0KICAgICAgICAgICAgdGhpcy5wcmV2aW91c01heCA9IHRoaXMud2luZG93LnNpemUubWF4Ow0KICAgICAgICB9DQogICAgICAgIHRoaXMud2luZG93LnNpemUuc2V0ZnVsbE1heCgpOw0KICAgIH0NCg0KICAgIGFzeW5jIGFkZFNldHRpbmcoKSB7DQogICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgiZWRpdFNldHRpbmciKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImxpc3RTZXR0aW5ncyIpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImFkZFNldHRpbmciKSkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgICAgICB2YXIgc2V0dGlnbnMgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iKTsNCiAgICAgICAgdGhpcy5jdXJyZW50RWRpdFNldHRpbmcgPSBzZXR0aWducy5sZW5ndGg7DQogICAgICAgIHNldHRpZ25zLnB1c2goeyAibmFtZSI6ICJuZXcgc2V0dGluZyIsICJzdWJyZWRkaXRzIjogIiIsICJsaW1pdCI6ICIxMCIsICJzb3J0X3RpbWUiOiAiYWxsIiwgInNvcnRfYnkiOiAiaG90IiwgIm9ubHlfaW1hZ2VzIjogZmFsc2UsICJzYXZlX2RhdGEiOiBmYWxzZSwgIm5vX25zZnciOiBmYWxzZSwgIm5lZWRzX2Jvb2xfYXJndW1lbnQiOiAiIiB9KTsNCiAgICAgICAgYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5zZXRGaWxlU3RyaW5nKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iLCBKU09OLnN0cmluZ2lmeShzZXR0aWducykpOw0KDQogICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdJbnRvRWRpdCh0aGlzLmN1cnJlbnRFZGl0U2V0dGluZyk7DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZFNldHRpbmdJbnRvRWRpdChpZCkgew0KICAgICAgICB2YXIgc2V0dGluZ3MgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVKc29uKCJjL3VzZXIvcmVkZGl0L3NldHRpbmdzLmpzb24iKTsNCiAgICAgICAgdmFyIHNldHRpbmcgPSBzZXR0aW5nc1tpZF07DQoNCiAgICAgICAgZm9yICh2YXIgeCBvZiBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudHMoInZhcmlhYmxlIikpIHsNCiAgICAgICAgICAgIHZhciBvcHRpb25WYWx1ZSA9ICIiOw0KICAgICAgICAgICAgdmFyIG9wdGlvbk5hbWUgPSB4Lm5hbWU7DQoNCiAgICAgICAgICAgIGlmICh4LnR5cGUgPT0gJ2NoZWNrYm94Jykgew0KICAgICAgICAgICAgICAgIHguY2hlY2tlZCA9IHNldHRpbmdbb3B0aW9uTmFtZV07DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHgudmFsdWUgPSBzZXR0aW5nW29wdGlvbk5hbWVdOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAodGhpcy5yZWRkaXRBcGkuYm9vbFZhcnMuaW5jbHVkZXMob3B0aW9uTmFtZSkpIHsNCiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ1tvcHRpb25OYW1lXSA9PSB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB4LmNoZWNrZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgeC5jaGVja2VkID0gZmFsc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHgudmFsdWUgPSBzZXR0aW5nW29wdGlvbk5hbWVdOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJzdWJyZWRkaXRTZWxlY3QiKSkudmFsdWUgPSBzZXR0aW5nLnN1YnJlZGRpdHM7DQogICAgfQ0KDQogICAgYXN5bmMgc2F2ZUVkaXRTZXR0aW5nKCkgew0KICAgICAgICAvL3sibGltaXQiOiAiMTAiLCJzb3J0X3RpbWUiOiAiYWxsIiwic29ydF9ieSI6ICJob3QiLCJvbmx5X2ltYWdlcyI6IGZhbHNlLCJzYXZlX2RhdGEiOiBmYWxzZSwibm9fbnNmdyI6IGZhbHNlLCJuZWVkc19ib29sX2FyZ3VtZW50IjogIiIsInN1YnJlZGRpdHMiOiAibWVtZXMiLCAibmFtZSI6ICJtZW1lcyJ9DQogICAgICAgIHZhciBvdXQgPSB7fQ0KICAgICAgICAvL3RoaXMucmVkZGl0QXBpLnNldFN1YnJlZGRpdHMoKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJzdWJyZWRkaXRTZWxlY3QiKSkudmFsdWUuc3BsaXQoIiwiKSk7DQoNCiAgICAgICAgZm9yICh2YXIgeCBvZiBhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudHMoInZhcmlhYmxlIikpIHsNCiAgICAgICAgICAgIHZhciBvcHRpb25WYWx1ZSA9ICIiOw0KICAgICAgICAgICAgdmFyIG9wdGlvbk5hbWUgPSB4Lm5hbWU7DQoNCiAgICAgICAgICAgIGlmICh4LnR5cGUgPT0gJ2NoZWNrYm94Jykgew0KICAgICAgICAgICAgICAgIG9wdGlvblZhbHVlID0gIiIgKyB4LmNoZWNrZWQ7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9wdGlvblZhbHVlID0geC52YWx1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKG9wdGlvblZhbHVlID09IHVuZGVmaW5lZCB8fCBvcHRpb25WYWx1ZSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgb3B0aW9uVmFsdWUgPSAiIjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRoaXMucmVkZGl0QXBpLmJvb2xWYXJzLmluY2x1ZGVzKG9wdGlvbk5hbWUpKSB7DQogICAgICAgICAgICAgICAgaWYgKG9wdGlvblZhbHVlID09ICJ0cnVlIikNCiAgICAgICAgICAgICAgICAgICAgb3V0W29wdGlvbk5hbWVdID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIG91dFtvcHRpb25OYW1lXSA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBvdXRbb3B0aW9uTmFtZV0gPSBvcHRpb25WYWx1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHZhciBzZXR0aW5ncyA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIpOw0KDQogICAgICAgIG91dFsic3VicmVkZGl0cyJdID0gKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJzdWJyZWRkaXRTZWxlY3QiKSkudmFsdWU7DQogICAgICAgIHNldHRpbmdzW3RoaXMuY3VycmVudEVkaXRTZXR0aW5nXSA9IG91dDsNCg0KDQogICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIiwgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTsNCg0KICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImVkaXRTZXR0aW5nIikpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgibGlzdFNldHRpbmdzIikpLnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJhZGRTZXR0aW5nIikpLnN0eWxlLmRpc3BsYXkgPSAiIjsNCg0KICAgICAgICBhd2FpdCB0aGlzLmRpc3BsYXlTZXR0aW5ncygpOw0KICAgIH0NCg0KICAgIGFzeW5jIGxvYWRTZXR0aW5nKGlkKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJsb2FkU2V0dGluZyIsIGlkKTsNCiAgICAgICAgdmFyIHNldHRpbmdzID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlSnNvbigiYy91c2VyL3JlZGRpdC9zZXR0aW5ncy5qc29uIik7DQogICAgICAgIHRoaXMucmVkZGl0QXBpLnZhcnMgPSBzZXR0aW5nc1tpZF07DQogICAgICAgIHRoaXMucmVkZGl0QXBpLnNldFN1YnJlZGRpdHMoc2V0dGluZ3NbaWRdLnN1YnJlZGRpdHMuc3BsaXQoIiwiKSk7DQoNCiAgICAgICAgdGhpcy5wb3N0LnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgdGhpcy5zZXR0aW5ncy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICB0aGlzLm5leHQoKTsNCiAgICB9DQogICAgYXN5bmMgZGlzcGxheVNldHRpbmdzKCkgew0KICAgICAgICAvL2xvYWQgZWRpdCBzZXR0aW5ncw0KICAgICAgICB2YXIgZXNmID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlU3RyaW5nKHRoaXMuUEFUSC5mb2xkZXIoKSArICIvc2V0dGluZ3MuaHRtbCIpOw0KICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImR5bmFtaWNFZGl0U2V0dGluZyIpKS5pbm5lckhUTUwgPSBlc2Y7DQogICAgICAgIGF3YWl0IHRoaXMud2luZG93LnBhcnNlTmV3SHRtbCgpOw0KDQogICAgICAgIChhd2FpdCB0aGlzLndpbmRvdy5nZXRIdG1sRWxlbWVudCgibGlzdFNldHRpbmdzIikpLmlubmVySFRNTCA9ICIiOw0KDQogICAgICAgIC8vbG9hZCBkaWZmZXJlbnQgc2V0dGluZyBwcmVzZXRzDQogICAgICAgIHZhciBzZXR0aW5ncyA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIpOw0KICAgICAgICB2YXIgaSA9IDA7DQogICAgICAgIGZvciAodmFyIHggb2Ygc2V0dGluZ3MpIHsNCiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSAib25lU2V0dGluZyI7DQoNCiAgICAgICAgICAgIHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsNCiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSAic2V0dGluZ0J1dHRvbiI7DQogICAgICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0geC5uYW1lOw0KICAgICAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKGkpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTZXR0aW5nKGkpOw0KICAgICAgICAgICAgfSkuYmluZCh0aGlzLCBpKTsNCiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChidXR0b24pOw0KDQoNCiAgICAgICAgICAgIHZhciBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7DQogICAgICAgICAgICBlZGl0QnV0dG9uLmlubmVyVGV4dCA9ICJlZGl0IjsNCiAgICAgICAgICAgIGVkaXRCdXR0b24uY2xhc3NOYW1lID0gInNldHRpbkVkaXRCdXR0b24iOw0KICAgICAgICAgICAgZWRpdEJ1dHRvbi5vbmNsaWNrID0gKGFzeW5jIChpKSA9PiB7DQogICAgICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJlZGl0U2V0dGluZyIpKS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJsaXN0U2V0dGluZ3MiKSkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAoYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImFkZFNldHRpbmciKSkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEVkaXRTZXR0aW5nID0gaTsNCg0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdJbnRvRWRpdCh0aGlzLmN1cnJlbnRFZGl0U2V0dGluZyk7DQogICAgICAgICAgICB9KS5iaW5kKHRoaXMsIGkpOw0KICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGVkaXRCdXR0b24pOw0KDQogICAgICAgICAgICB2YXIgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7DQogICAgICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJUZXh0ID0gImRlbGV0ZSI7DQogICAgICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gInNldHRpbkRlbGV0ZUJ1dHRvbiI7DQogICAgICAgICAgICBkZWxldGVCdXR0b24ub25jbGljayA9IChhc3luYyAoaSkgPT4gew0KICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIpOw0KICAgICAgICAgICAgICAgIHNldHRpbmdzLnNwbGljZShpLCAxKTsNCiAgICAgICAgICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcoImMvdXNlci9yZWRkaXQvc2V0dGluZ3MuanNvbiIsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7DQogICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5U2V0dGluZ3MoKTsNCiAgICAgICAgICAgIH0pLmJpbmQodGhpcywgaSk7DQogICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTsNCg0KICAgICAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJsaXN0U2V0dGluZ3MiKSkuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgICAgIGkrKzsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGFzeW5jIGVkaXRTZXR0aW5ncygpIHsNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJzdWJyZWRkaXRTZWxlY3QiKSkudmFsdWUgPSB0aGlzLnJlZGRpdEFwaS52YXJzWyJzdWJyZWRkaXRzIl07DQogICAgICAgIGZvciAodmFyIHggb2YgYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnRzKCJ2YXJpYWJsZSIpKSB7DQogICAgICAgICAgICB2YXIgb3B0aW9uVmFsdWUgPSAiIjsNCiAgICAgICAgICAgIHZhciBvcHRpb25OYW1lID0geC5uYW1lOw0KDQogICAgICAgICAgICBpZiAoeC50eXBlID09ICdjaGVja2JveCcpIHsNCiAgICAgICAgICAgICAgICB4LmNoZWNrZWQgPSB0aGlzLnJlZGRpdEFwaS52YXJzW29wdGlvbk5hbWVdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHgudmFsdWUgPSB0aGlzLnJlZGRpdEFwaS52YXJzW29wdGlvbk5hbWVdDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBhc3luYyBuZXh0KCkgew0KICAgICAgICBpZiAodGhpcy5wYXN0SWQgPCB0aGlzLnBhc3QubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgdGhpcy5wYXN0SWQrKzsNCiAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLnBhc3RbdGhpcy5wYXN0SWRdKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuYWxscmVhZHlMb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgICB0aGlzLnRpdGxlLmlubmVyVGV4dCA9ICIuLi4iOw0KICAgICAgICB0aGlzLnRleHQuaW5uZXJUZXh0ID0gIiI7DQogICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAiIjsNCiAgICAgICAgdGhpcy5pbWcuaW5uZXJIVE1MID0gIiI7DQogICAgICAgIHRoaXMub3BlblZpZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgIHZhciBuID0geyBkYXRhOiB7IHBlcm1hbGluazogIl8iIH0gfTsNCg0KICAgICAgICB2YXIgbWF4SXQgPSA1MDsNCiAgICAgICAgdmFyIGkgPSAwOw0KICAgICAgICB3aGlsZSAodGhpcy5zYXdBbGxyZWFkeShtZDUobi5kYXRhLnBlcm1hbGluaykpIHx8IG4uZGF0YS5wZXJtYWxpbmsgPT0gIl8iKSB7DQogICAgICAgICAgICBuID0gYXdhaXQgdGhpcy5yZWRkaXRBcGkubmV4dCgpOw0KICAgICAgICAgICAgaWYgKG4udHlwZSA9PSAiZXJyb3IiKSB7DQogICAgICAgICAgICAgICAgU3lzdGVtSHRtbC5XaW5kb3dIYW5kbGVyLnByZXNldHMuY3JlYXRlSW5mb3JtYXRpb24oIkVycm9yIiwgIkNvdWxkIG5vdCBsb2FkIFN1YmJyZWRkaXQgXCIiICsgbi5lcnJvcmVkU3ViYnJlZGRpdCArICJcIjogIiArIG4uZGF0Lm1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaSsrOw0KICAgICAgICAgICAgaWYgKGkgPj0gbWF4SXQpIHsNCiAgICAgICAgICAgICAgICB2YXIgciA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUNvbmZpcm0oIkxvYWQgbW9yZT8iLCAiV2UgY291bGQgbm90IGZpbmQgYW55IG5ldyBQb3N0cyBpbiB0aGUgbGFzdCAiICsgbWF4SXQgKyAiLiBEbyB5b3Ugd2FudCBzbyBzZWFyY2ggbW9yZT8iKQ0KICAgICAgICAgICAgICAgIGlmICghcikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlLmlubmVyVGV4dCA9ICJObyBuZXcgcG9zdHMiOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJUZXh0ID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWcuaW5uZXJIVE1MID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpID0gMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLnBhc3RJZCsrOw0KICAgICAgICBpZiAodGhpcy5wYXN0SWQgPj0gMTUpIHsNCiAgICAgICAgICAgIHRoaXMucGFzdElkID0gMTQ7DQogICAgICAgICAgICB0aGlzLnBhc3Quc2hpZnQoKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnBhc3QucHVzaChuKTsNCg0KICAgICAgICB0aGlzLmxvYWQobik7DQogICAgfQ0KICAgIGJhY2soKSB7DQogICAgICAgIGlmICh0aGlzLnBhc3RJZCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMucGFzdElkLS07DQogICAgICAgICAgICB0aGlzLmxvYWQodGhpcy5wYXN0W3RoaXMucGFzdElkXSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiANCiAgICAgKiBAcGFyYW0ge3Bvc3R9IG4gDQogICAgICovDQogICAgbG9hZChuKSB7DQogICAgICAgIHRoaXMuY3VycmVudFBvc3QgPSBuOw0KDQogICAgICAgIHRoaXMub3BlblZpZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICB0aGlzLnRpdGxlLmlubmVyVGV4dCA9ICIuLi4iOw0KICAgICAgICB0aGlzLnRleHQuaW5uZXJUZXh0ID0gIiI7DQogICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAiIjsNCiAgICAgICAgdGhpcy5pbWcuaW5uZXJIVE1MID0gIiI7DQoNCiAgICAgICAgdGhpcy5wZXJtYWxpbmsgPSBuLmRhdGEucGVybWFsaW5rOw0KICAgICAgICBpZiAoIXRoaXMuc2F3QWxscmVhZHkobWQ1KG4uZGF0YS5wZXJtYWxpbmspKSkgew0KICAgICAgICAgICAgdGhpcy5hZGRUb0FsbHJlYWR5U2F3KG1kNShuLmRhdGEucGVybWFsaW5rKSkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnVwZGF0ZUFsbHJlYWR5UmVhZCgpOw0KDQogICAgICAgIHRoaXMudGl0bGUuaW5uZXJUZXh0ID0gbi5UaXRsZSgpOw0KICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MID0gbi5IdG1sVGV4dCgpOw0KDQogICAgICAgIHRoaXMubGluay5pbm5lclRleHQgPSAicmVkZGl0LmNvbSI7DQogICAgICAgIHRoaXMubGluay5ocmVmID0gImh0dHBzOi8vd3d3LnJlZGRpdC5jb20iICsgbi5kYXRhLnBlcm1hbGluazsNCg0KICAgICAgICBmb3IgKHZhciB4IG9mIG4uY29tcG9zZWRJbWFnZSgpKSB7DQogICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoNCiAgICAgICAgICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQogICAgICAgICAgICBpLnNyYyA9IHhbImNvbXByZXNzZWQiXTsNCiAgICAgICAgICAgIGkuc3R5bGUubWF4V2lkdGggPSB0aGlzLm1heFdpZHRoOw0KICAgICAgICAgICAgaS5zdHlsZS53aWR0aCA9ICIxMDAlIjsNCiAgICAgICAgICAgIGkuc2V0QXR0cmlidXRlKCJlbGVtZW50IiwgIm9uZUltZyIpDQogICAgICAgICAgICBpLmNsYXNzTGlzdC5hZGQoImltMSIpOw0KDQogICAgICAgICAgICBpZiAoeFsiaGlnaHF1YWxpdHkiXSAmJiB4WyJoaWdocXVhbGl0eSJdICE9IHhbImNvbXByZXNzZWQiXSkgew0KICAgICAgICAgICAgICAgIHZhciBpMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOw0KICAgICAgICAgICAgICAgIGkxLnNyYyA9IHhbImhpZ2hxdWFsaXR5Il07DQogICAgICAgICAgICAgICAgaTEuc3R5bGUubWF4V2lkdGggPSB0aGlzLm1heFdpZHRoOw0KICAgICAgICAgICAgICAgIGkxLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICAgICAgICAgIGkxLnNldEF0dHJpYnV0ZSgiZWxlbWVudCIsICJvbmVJbWciKQ0KICAgICAgICAgICAgICAgIGkxLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgaTEuY2xhc3NMaXN0LmFkZCgiaW0wIik7DQogICAgICAgICAgICAgICAgaTEub25sb2FkID0gKChpMSwgaTIsIGkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBpMSBhbmQgaSBhcmUgc3RpbGwgaW4gdGhlIGRvbQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaTEucGFyZW50RWxlbWVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpMS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGkucGFyZW50RWxlbWVudCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkuYmluZCh0aGlzLCBpMSwgaTIsIGkpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygib2xkIGFwaS4gUGxlYXNlIHVwZGF0ZSEiKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGkyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQogICAgICAgICAgICBpMi5zcmMgPSB4WyJmdWxsIl07DQogICAgICAgICAgICBpMi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KDQogICAgICAgICAgICBpMi5zdHlsZS5tYXhXaWR0aCA9IHRoaXMubWF4V2lkdGg7DQogICAgICAgICAgICBpMi5zdHlsZS53aWR0aCA9ICIxMDAlIjsNCiAgICAgICAgICAgIGkyLnNldEF0dHJpYnV0ZSgiZWxlbWVudCIsICJvbmVJbWciKQ0KDQogICAgICAgICAgICBpMi5vbmxvYWQgPSAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgICAgICBldmVudC5jb21wb3NlZFBhdGgoKVswXS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgZXZlbnQuY29tcG9zZWRQYXRoKClbMV0ucXVlcnlTZWxlY3RvcigicCIpLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgoKVsxXS5xdWVyeVNlbGVjdG9yKCIuaW0xIikgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBldmVudC5jb21wb3NlZFBhdGgoKVsxXS5xdWVyeVNlbGVjdG9yKCIuaW0xIikucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgoKVsxXS5xdWVyeVNlbGVjdG9yKCIuaW0wIikgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBldmVudC5jb21wb3NlZFBhdGgoKVsxXS5xdWVyeVNlbGVjdG9yKCIuaW0wIikucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgICAgICAgIHAuaW5uZXJUZXh0ID0gImxvYWRpbmcgSW1hZ2UiOw0KICAgICAgICAgICAgcC5zdHlsZS5jb2xvciA9ICJncmF5IjsNCg0KICAgICAgICAgICAgZGl2LmFwcGVuZChwKTsNCiAgICAgICAgICAgIGRpdi5hcHBlbmQoaSk7DQogICAgICAgICAgICBpZiAoeFsiaGlnaHF1YWxpdHkiXSkgew0KICAgICAgICAgICAgICAgIGRpdi5hcHBlbmQoaTEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGl2LmFwcGVuZChpMik7DQoNCg0KICAgICAgICAgICAgdGhpcy5pbWcuYXBwZW5kKGRpdik7DQogICAgICAgIH0NCiAgICAgICAgaWYgKG4ubnNmdygpKSB7DQogICAgICAgICAgICB0aGlzLmltZy5zdHlsZS5maWx0ZXIgPSAiYmx1cigyMHB4KSI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmltZy5zdHlsZS5maWx0ZXIgPSAiIjsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLndpbmRvdy5wYXJzZU5ld0h0bWwoKTsNCg0KICAgICAgICB2YXIgbWVkaWEgPSBuLm1lZGlhKCk7DQogICAgICAgIGlmIChtZWRpYSAhPSBudWxsKSB7DQogICAgICAgICAgICBpZiAobWVkaWFbInR5cGUiXSA9PSAieW91dHViZSIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9IG1lZGlhWyJkYXQiXQ0KICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYVsidHlwZSJdID09ICJyZWRkaXRWaWRlbyIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9ICI8cD48YSBocmVmPSciICsgbWVkaWFbImRhdCJdWzBdICsgIic+VmlkZW88L2E+PC9wPiINCiAgICAgICAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MICs9ICI8cD48YSBocmVmPSciICsgbWVkaWFbImRhdCJdWzFdICsgIic+QXVkaW88L2E+PC9wPiINCiAgICAgICAgICAgICAgICB0aGlzLm9wZW5WaWQuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYWxscmVhZHlMb2FkaW5nID0gZmFsc2U7DQogICAgfQ0KICAgIG9wZW5WaWRlbygpIHsNCiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5jdXJyZW50UG9zdC5tZWRpYSgpOw0KICAgICAgICBuZXcgdmlkZW9XaW5kb3cobWVkaWFbImRhdCJdWzBdLCBtZWRpYVsiZGF0Il1bMV0pOw0KICAgIH0NCiAgICBwb3N0RGVidWcoKSB7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFBvc3QpDQogICAgfQ0KICAgIGltZ0Z1bGxzY3JlZW4oKSB7DQogICAgICAgIG5ldyBJbWdXaW5kb3codGhpcy5jdXJyZW50UG9zdC5JbWFnZUZ1bGwoKSk7DQogICAgfQ0KDQogICAgYXN5bmMgbG9hZEFsbHJlYWR5UmVhZCgpIHsNCiAgICAgICAgdGhpcy5hbGxyZWFkeVJlYWQgPSBbXTsNCiAgICAgICAgdmFyIGYgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVzKCJjL3VzZXIvcmVkZGl0L29sZCIpDQogICAgICAgIGlmIChmLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICBjb25zb2xlLndhcm4oIkluc3RhbGwgZmFpbGVkIik7DQogICAgICAgICAgICBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLnNldEZpbGVTdHJpbmcoImMvdXNlci9yZWRkaXQvb2xkLzAuanNvbiIsICJbXSIpOw0KICAgICAgICAgICAgZiA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZXMoImMvdXNlci9yZWRkaXQvb2xkIik7DQogICAgICAgIH0NCg0KICAgICAgICBmb3IgKHZhciB4IG9mIGYpIHsNCiAgICAgICAgICAgIHZhciBkID0gYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5nZXRGaWxlU3RyaW5nKCJjL3VzZXIvcmVkZGl0L29sZC8iICsgeCk7DQogICAgICAgICAgICB0aGlzLmFsbHJlYWR5UmVhZCA9IHRoaXMuYWxscmVhZHlSZWFkLmNvbmNhdChKU09OLnBhcnNlKGQpKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmZpbGVFeGlzdHMoImMvdXNlci9yZWRkaXQvb2xkLmpzb24iKSkgew0KICAgICAgICAgICAgdmFyIGQgPSBhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmdldEZpbGVTdHJpbmcoImMvdXNlci9yZWRkaXQvb2xkLmpzb24iKTsNCiAgICAgICAgICAgIHRoaXMuYWxscmVhZHlSZWFkID0gdGhpcy5hbGxyZWFkeVJlYWQuY29uY2F0KEpTT04ucGFyc2UoZCkpOw0KICAgICAgICB9DQogICAgfQ0KICAgIHNhd0FsbHJlYWR5KGhhc2gpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuYWxscmVhZHlSZWFkLmluY2x1ZGVzKGhhc2gpOw0KICAgIH0NCiAgICBhc3luYyBhZGRUb0FsbHJlYWR5U2F3KGhhc2gpIHsNCiAgICAgICAgY29uc3QgcGVyZmlsZSA9IDIwOw0KDQogICAgICAgIHRoaXMuYWxscmVhZHlSZWFkLnB1c2goaGFzaCk7DQogICAgICAgIGlmIChhd2FpdCBTeXN0ZW1GaWxlU3lzdGVtLmZpbGVFeGlzdHMoImMvdXNlci9yZWRkaXQvb2xkLyIgKyBNYXRoLmZsb29yKHRoaXMuYWxscmVhZHlSZWFkLmxlbmd0aCAvIHBlcmZpbGUpICsgIi5qc29uIikgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgIGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9vbGQvIiArIE1hdGguZmxvb3IodGhpcy5hbGxyZWFkeVJlYWQubGVuZ3RoIC8gcGVyZmlsZSkgKyAiLmpzb24iLCAiW10iKTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdiA9IGF3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uZ2V0RmlsZUpzb24oImMvdXNlci9yZWRkaXQvb2xkLyIgKyBNYXRoLmZsb29yKHRoaXMuYWxscmVhZHlSZWFkLmxlbmd0aCAvIHBlcmZpbGUpICsgIi5qc29uIik7DQogICAgICAgIHYucHVzaChoYXNoKTsNCiAgICAgICAgYXdhaXQgU3lzdGVtRmlsZVN5c3RlbS5zZXRGaWxlU3RyaW5nKCJjL3VzZXIvcmVkZGl0L29sZC8iICsgTWF0aC5mbG9vcih0aGlzLmFsbHJlYWR5UmVhZC5sZW5ndGggLyBwZXJmaWxlKSArICIuanNvbiIsIEpTT04uc3RyaW5naWZ5KHYpKTsNCiAgICB9DQogICAgYXN5bmMgdXBkYXRlQWxscmVhZHlSZWFkKCkgew0KICAgICAgICAvL2F3YWl0IFN5c3RlbUZpbGVTeXN0ZW0uc2V0RmlsZVN0cmluZygiYy91c2VyL3JlZGRpdC9vbGQuanNvbiIsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWxscmVhZHlSZWFkKSk7DQogICAgfQ0KfQ0KDQpjbGFzcyByZWRqc1dpbmRvdyB7DQogICAgY29uc3RydWN0b3IobGluaykgew0KICAgICAgICB0aGlzLmxvYWQobGluayk7DQogICAgfQ0KICAgIGFzeW5jIGxvYWQobGluaykgew0KICAgICAgICB0aGlzLndpbmRvdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5jcmVhdGVXaW5kb3coIkZ1bGwgKHJlZGRpdGpzKSIsDQogICAgICAgICAgICAvL29ucmVhZHk6DQogICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgLy9zZXQgaHRtbA0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoYDxpZnJhbWUgc3JjPSJgICsgbGluayArIGAiIHN0eWxlPSJ3aWR0aDogY2FsYygxMDAlIC0gNHB4KTsgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMHB4KTsiPkNvdWxkIG5vdCBsb2FkPC9pZnJhbWU+YCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS5zZXRTaXplKDMwMCwgNTAwKTsNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zaXplLnVzZXJDYW5SZXNpemUodHJ1ZSkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLndpbmRvdy5jbG9zZSA9ICgpID0+IHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICB9DQp9DQpjbGFzcyBJbWdXaW5kb3cgew0KICAgIGNvbnN0cnVjdG9yKGltZ3MpIHsNCiAgICAgICAgdGhpcy5sb2FkKGltZ3MpOw0KICAgIH0NCiAgICBhc3luYyBsb2FkKGltZ3MpIHsNCiAgICAgICAgLyoqDQogICAgICAgICAqIEB0eXBlIHtIdG1sV2luZG93fQ0KICAgICAgICAgKi8NCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJSZWRkaXQgSW1hZ2UiLA0KICAgICAgICAgICAgLy9vbnJlYWR5Og0KICAgICAgICAgICAgYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vc2V0IGh0bWwNCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndpbmRvdy5zZXRDb250ZW50KGA8ZGl2IGVsZW1lbnQ9ImltZyIgc3R5bGU9Im1pbi1oZWlnaHQ6MTAwJSI+PC9kaXY+YCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS5zZXRTaXplKDMwMCwgNTAwKTsNCg0KICAgICAgICAgICAgICAgIHRoaXMuaW1nID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoImltZyIpOw0KDQogICAgICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBpbWdzKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQogICAgICAgICAgICAgICAgICAgIHZhciBpTG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOw0KICAgICAgICAgICAgICAgICAgICBpTG9hZGVyLnN0eWxlLnBvc2l0aW9uID0gImFic291bHV0ZSINCiAgICAgICAgICAgICAgICAgICAgaUxvYWRlci5pbm5lclRleHQgPSAibG9hZGluZyBJbWFnZToiOw0KICAgICAgICAgICAgICAgICAgICBpTG9hZGVyLnN0eWxlLmNvbG9yID0gImdyYXkiOw0KDQogICAgICAgICAgICAgICAgICAgIGkubG9hZGVyID0gaUxvYWRlcjsNCiAgICAgICAgICAgICAgICAgICAgaS5vbmxvYWQgPSAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdLmxvYWRlci5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGkuc3JjID0geDsNCiAgICAgICAgICAgICAgICAgICAgaS5zdHlsZS5tYXhXaWR0aCA9IHRoaXMubWF4V2lkdGg7DQogICAgICAgICAgICAgICAgICAgIGkuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1nLmFwcGVuZChpTG9hZGVyKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWcuYXBwZW5kKGkpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy53aW5kb3cuc2l6ZS5zZXRmdWxsTWF4LmJpbmQodGhpcy53aW5kb3cuc2l6ZSksIDEwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9uY2xpY2siLCAiaW1nIiwgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5tYWtlQ2xvc2UoKTsNCiAgICAgICAgICAgICAgICB9LCB0aGlzKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB0aGlzLndpbmRvdy5jbG9zZSA9ICgpID0+IHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICB9DQp9DQpjbGFzcyBjb21tZW50V2luZG93IHsNCiAgICBjb25zdHJ1Y3Rvcihwb3N0KSB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAdHlwZSB7cG9zdH0NCiAgICAgICAgICovDQogICAgICAgIHRoaXMucG9zdCA9IHBvc3Q7DQogICAgICAgIHRoaXMubG9hZCgpOw0KICAgIH0NCiAgICBhc3luYyBsb2FkKCkgew0KICAgICAgICB0aGlzLndpbmRvdyA9IGF3YWl0IFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5jcmVhdGVXaW5kb3coIkNvbW1lbnRzIiwNCiAgICAgICAgICAgIC8vb25yZWFkeToNCiAgICAgICAgICAgIGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICAvL3NldCBodG1sDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2V0Q29udGVudChgPGRpdiBlbGVtZW50PSJjb21tZW50Ij48cD5Mb2FkaW5nPC9wPjwvZGl2PmApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSgzMDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQogICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gYXdhaXQgdGhpcy5wb3N0LmNvbW1lbnRzKCk7DQoNCiAgICAgICAgICAgICAgICB2YXIgYyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJjb21tZW50Iik7DQogICAgICAgICAgICAgICAgYy5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgeCBvZiBjb21tZW50cykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHRoaXMubG9hZENvbW1lbnQoeCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50ID09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudC5xdWVyeVNlbGVjdG9yKCIucmVkZGl0Q29tbWVudEF1dGhvciIpLnN0eWxlLm1hcmdpblRvcCA9ICItMjBweCI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYy5hcHBlbmQoY29tbWVudCk7DQogICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgbG9hZENvbW1lbnQoZGF0LCBpc1JlcGx5ID0gZmFsc2UpIHsNCiAgICAgICAgaWYgKGRhdFsiYm9keV9odG1sIl0gPT0gdW5kZWZpbmVkICYmIGRhdFsiYXV0aG9yIl0gPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICB2YXIgbWFpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICBpZiAoIWlzUmVwbHkpIHsNCiAgICAgICAgICAgIG1haW5EaXYuY2xhc3NOYW1lID0gInJlZGRpdENvbW1lbnRGaXJzdCI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgdGV4dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpDQogICAgICAgIHRleHREaXYuY2xhc3NOYW1lID0gInJlZGRpdENvbW1lbnRUZXh0IjsNCg0KDQogICAgICAgIHZhciBhdXRob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgYXV0aG9yLmNsYXNzTmFtZSA9ICJyZWRkaXRDb21tZW50QXV0aG9yIjsNCiAgICAgICAgYXV0aG9yLmNvbnRleHRzY3JpcHQgPSAoKGF1dGhvcl9kYXRhKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJPcGVuIFByb2ZpbGUiOiAoKGF1dGhvcl9kYXRhKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCJodHRwczovL3d3dy5yZWRkaXQuY29tL3VzZXIvIiArIGF1dGhvcl9kYXRhLm5hbWUpOw0KICAgICAgICAgICAgICAgIH0pLmJpbmQodGhpcywgYXV0aG9yX2RhdGEpLA0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5iaW5kKHRoaXMsIGRhdC5hdXRob3JfZGF0YSkNCg0KICAgICAgICB2YXIgYXV0aG9ySW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQogICAgICAgIGF1dGhvckltZy5zcmMgPSAiaHR0cHM6Ly93d3cucmVkZGl0c3RhdGljLmNvbS9hdmF0YXJzL2F2YXRhcl9kZWZhdWx0XzAyXzAwNzlEMy5wbmciOw0KICAgICAgICBkYXQuYXV0aG9yX2RhdGEuZ2V0SWNvbigpLnRoZW4oKHYpID0+IHsNCiAgICAgICAgICAgIGF1dGhvckltZy5zcmMgPSB2Ow0KICAgICAgICB9KTsNCiAgICAgICAgYXV0aG9ySW1nLmNsYXNzTmFtZSA9ICJyZWRkaXRDb21tZW50QXV0aG9ySW1nIjsNCiAgICAgICAgYXV0aG9yLmFwcGVuZChhdXRob3JJbWcpOw0KDQogICAgICAgIHZhciBhdXRob3JQID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOw0KICAgICAgICBhdXRob3JQLmlubmVyVGV4dCA9IGRhdFsiYXV0aG9yIl0NCiAgICAgICAgYXV0aG9yLmFwcGVuZChhdXRob3JQKTsNCg0KICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgICAgYm9keS5pbm5lckhUTUwgPSBkYXRbImJvZHlfaHRtbCJdDQogICAgICAgIGJvZHkuY2xhc3NOYW1lID0gInJlZGRpdENvbW1lbnRCb2R5IjsNCiAgICAgICAgYm9keS5jb250ZXh0c2NyaXB0ID0gKChib2R5KSA9PiB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJtZXNzYWdlIjogKChib2R5KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbUh0bWwuV2luZG93SGFuZGxlci5wcmVzZXRzLmNyZWF0ZUluZm9ybWF0aW9uKCJNZXNzYWdlIiwgYm9keSk7DQogICAgICAgICAgICAgICAgfSkuYmluZCh0aGlzLCBib2R5KSwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkuYmluZCh0aGlzLCBkYXRbImJvZHkiXSkNCg0KICAgICAgICB0ZXh0RGl2LmFwcGVuZChhdXRob3IpOw0KICAgICAgICB0ZXh0RGl2LmFwcGVuZChib2R5KTsNCg0KICAgICAgICBtYWluRGl2LmFwcGVuZCh0ZXh0RGl2KQ0KDQogICAgICAgIGlmIChkYXRbInJlcGxpZXMiXS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB2YXIgcmVwbGllc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgcmVwbGllc0Rpdi5jbGFzc05hbWUgPSAicmVkZGl0Q29tbWVudFJlcGxpZXMgcmVkZGl0Q29tbWVudCByZWRkaXRDb21tZW50SW5kZW50TGluZSI7DQoNCiAgICAgICAgICAgIC8vb25seSBpZiBub3QgbGFzdA0KICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCJyZWRkaXRDb21tZW50SW5kZW50TGluZSIpOw0KDQogICAgICAgICAgICBmb3IgKHZhciB4IG9mIGRhdFsicmVwbGllcyJdKSB7DQogICAgICAgICAgICAgICAgdmFyIHYgPSB0aGlzLmxvYWRDb21tZW50KHgsIHRydWUpDQogICAgICAgICAgICAgICAgaWYgKHYgIT0gdW5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgICAgICByZXBsaWVzRGl2LmFwcGVuZCh2KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgbWFpbkRpdi5hcHBlbmQocmVwbGllc0RpdikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgicmVkZGl0Q29tbWVudE5PTGluZSIpOw0KICAgICAgICB9DQogICAgICAgIC8vbWFpbkRpdi5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHIiKSkNCg0KICAgICAgICByZXR1cm4gbWFpbkRpdjsNCiAgICB9DQp9DQpjbGFzcyB2aWRlb1dpbmRvdyB7DQogICAgY29uc3RydWN0b3IodmlkZW8sIGF1ZGlvKSB7DQogICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbzsNCiAgICAgICAgdGhpcy5hdWRpbyA9IGF1ZGlvOw0KICAgICAgICB0aGlzLmxvYWQoKTsNCiAgICAgICAgdGhpcy5sb2FkZWRzID0gMDsNCiAgICB9DQogICAgYXN5bmMgbG9hZCgpIHsNCiAgICAgICAgdGhpcy53aW5kb3cgPSBhd2FpdCBTeXN0ZW1IdG1sLldpbmRvd0hhbmRsZXIuY3JlYXRlV2luZG93KCJWaWRlbyIsDQogICAgICAgICAgICAvL29ucmVhZHk6DQogICAgICAgICAgICBhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgLy9zZXQgaHRtbA0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNldENvbnRlbnQoYA0KICAgICAgICAgICAgICAgIDxoMSBlbGVtZW50PSJsb2FkaW5nIj5Mb2FkaW5nLi4uIHBsZWFzZSB3YWl0PC9oMT4NCiAgICAgICAgICAgICAgICA8ZGl2IGVsZW1lbnQ9InZpZCI+DQogICAgICAgICAgICAgICAgICAgIDx2aWRlbyBlbGVtZW50PSJ2aWRlbyIgY29udHJvbHMgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgYWx0PSJsb2FkaW5nLi4uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2UgZWxlbWVudD0idmlkZW9fc3JjIj4NCiAgICAgICAgICAgICAgICAgICAgPC92aWRlbz4NCiAgICAgICAgICAgICAgICAgICAgPGF1ZGlvIGVsZW1lbnQ9InZpZGVvX2F1ZGlvIiBjb250cm9scyBhbHQ9ImxvYWRpbmcuLi4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBlbGVtZW50PSJ2aWRlb19hdWRpb19zcmMiPg0KICAgICAgICAgICAgICAgICAgICA8L2F1ZGlvPg0KICAgICAgICAgICAgICAgIDwvZGl2PmApOw0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMud2luZG93LnNpemUuc2V0U2l6ZSgzMDAsIDUwMCk7DQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53aW5kb3cuc2l6ZS51c2VyQ2FuUmVzaXplKHRydWUpDQoNCiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvX3ZpZGVvID0gYXdhaXQgdGhpcy53aW5kb3cuZ2V0SHRtbEVsZW1lbnQoInZpZGVvIik7DQogICAgICAgICAgICAgICAgdGhpcy52aWRlb19hdWRpbyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ2aWRlb19hdWRpbyIpOw0KDQogICAgICAgICAgICAgICAgdGhpcy52aWRlb192aWRlby5zcmMgPSB0aGlzLnZpZGVvOw0KICAgICAgICAgICAgICAgIHRoaXMudmlkZW9fYXVkaW8uc3JjID0gdGhpcy5hdWRpbzsNCg0KICAgICAgICAgICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJvbmxvYWRlZGRhdGEiLCAidmlkZW8iLCB0aGlzLmxvYWRlZFZpZGVvLCB0aGlzKTsNCiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigib25sb2FkZWRkYXRhIiwgInZpZGVvX2F1ZGlvIiwgdGhpcy5sb2FkZWRBdWRpbywgdGhpcyk7DQoNCiAgICAgICAgICAgICAgICB2YXIgYyA9IGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJ2aWRlbyIpOw0KDQogICAgICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UgPSAoKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgfQ0KICAgIGxvYWRlZEF1ZGlvKCkgew0KICAgICAgICB0aGlzLmxvYWRlZHMrKzsNCiAgICAgICAgaWYgKHRoaXMubG9hZGVkcyA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLmFkZEV2ZW50cygpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGxvYWRlZFZpZGVvKCkgew0KICAgICAgICB0aGlzLmxvYWRlZHMrKzsNCiAgICAgICAgaWYgKHRoaXMubG9hZGVkcyA9PSAyKSB7DQogICAgICAgICAgICB0aGlzLmFkZEV2ZW50cygpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGFzeW5jIGFkZEV2ZW50cygpIHsNCiAgICAgICAgKGF3YWl0IHRoaXMud2luZG93LmdldEh0bWxFbGVtZW50KCJsb2FkaW5nIikpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoNCiAgICAgICAgY29uc29sZS5sb2coImxvYWRlZCEiKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9ucGF1c2UiLCAidmlkZW8iLCB0aGlzLnZpZGVvRXZlbnRzLCB0aGlzKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9ucGxheSIsICJ2aWRlbyIsIHRoaXMudmlkZW9FdmVudHMsIHRoaXMpOw0KICAgICAgICB0aGlzLndpbmRvdy5hZGRIdG1sRXZlbnRMaXN0ZW5lcigib25zZWVraW5nIiwgInZpZGVvIiwgdGhpcy52aWRlb0V2ZW50cywgdGhpcyk7DQogICAgICAgIHRoaXMud2luZG93LmFkZEh0bWxFdmVudExpc3RlbmVyKCJvbndhaXRpbmciLCAidmlkZW8iLCB0aGlzLnZpZGVvRXZlbnRzLCB0aGlzKTsNCiAgICAgICAgdGhpcy53aW5kb3cuYWRkSHRtbEV2ZW50TGlzdGVuZXIoIm9uY2FucGxheSIsICJ2aWRlbyIsIHRoaXMudmlkZW9FdmVudHMsIHRoaXMpOw0KICAgIH0NCiAgICBhc3luYyB2aWRlb0V2ZW50cyhfLCBfXywgX19fLCBldmVudCkgew0KICAgICAgICB0aGlzLnZpZGVvX2F1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy52aWRlb192aWRlby5jdXJyZW50VGltZTsNCiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ3BsYXknKSB7DQogICAgICAgICAgICB0aGlzLnZpZGVvX2F1ZGlvLnBsYXkoKTsNCiAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICdwYXVzZScpIHsNCiAgICAgICAgICAgIHRoaXMudmlkZW9fYXVkaW8ucGF1c2UoKTsNCiAgICAgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09ICd3YWl0aW5nJykgew0KICAgICAgICAgICAgdGhpcy52aWRlb19hdWRpby5wYXVzZSgpOw0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gJ2NhbnBsYXknKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMudmlkZW9fdmlkZW8ucGF1c2VkKSB7IHRoaXMudmlkZW9fYXVkaW8ucGxheSgpOyB9DQogICAgICAgIH0NCiAgICB9DQp9DQpuZXcgcHJvZ3JhbSgpOw==", "run.js": "U3lzdGVtLnByb2dyYW0ucnVuUHJvZ3JhbShQQVRILmZvbGRlcigpICsgIi9tYWluLmpzIik=", "settings.html": "PGlucHV0IHR5cGUidGV4dCIgcGxhY2Vob2xkZXI9InRpdGxlIiB2YWx1ZT0iLi4uPyIgZWxlbWVudD0idmFyaWFibGUiIG5hbWU9Im5hbWUiPg0KPGJyPg0KPGJyPg0KDQo8aW5wdXQgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9InN1YnJlZGRpdHMgKGEsYixjKSIgZWxlbWVudD0ic3VicmVkZGl0U2VsZWN0IiB2YWx1ZT0ibWVtZXMiPg0KPGJyPg0KPGxhYmxlIGZvcj0ic29ydF90aW1lIj5zb3J0X3RpbWU8L2xhYmxlPg0KPHNlbGVjdCBlbGVtZW50PSJ2YXJpYWJsZSIgbmFtZT0ic29ydF90aW1lIj4NCiAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPmFsbDwvb3B0aW9uPg0KICAgIDxvcHRpb24gdmFsdWU9InllYXIiPnllYXI8L29wdGlvbj4NCiAgICA8b3B0aW9uIHZhbHVlPSJtb250aCI+bW9udGg8L29wdGlvbj4NCiAgICA8b3B0aW9uIHZhbHVlPSJ3ZWVrIj53ZWVrPC9vcHRpb24+DQogICAgPG9wdGlvbiB2YWx1ZT0iZGF5Ij5kYXk8L29wdGlvbj4NCiAgICA8b3B0aW9uIHZhbHVlPSJob3VyIj5ob3VyPC9vcHRpb24+DQo8L3NlbGVjdD4NCjxicj4NCg0KPGxhYmxlIGZvcj0ic29ydF9ieSI+c29ydF9ieTwvbGFibGU+DQo8c2VsZWN0IGVsZW1lbnQ9InZhcmlhYmxlIiBuYW1lPSJzb3J0X2J5Ij4NCiAgICA8b3B0aW9uIHZhbHVlPSJob3QiPmhvdDwvb3B0aW9uPg0KICAgIDxvcHRpb24gdmFsdWU9Im5ldyI+bmV3PC9vcHRpb24+DQogICAgPG9wdGlvbiB2YWx1ZT0idG9wIj50b3A8L29wdGlvbj4NCiAgICA8b3B0aW9uIHZhbHVlPSJyaXNpbmciPnJpc2luZzwvb3B0aW9uPg0KPC9zZWxlY3Q+DQo8YnI+DQoNCjxpbnB1dCBuYW1lPSJuZWVkc19ib29sX2FyZ3VtZW50IiBjbGFzcz0idmFyaWFibGUiIHBsYWNlaG9sZGVyPSJvcHRpb25hbCB8IG5lZWRlZF9ib29sX2FyZ3VtZW50PXRydWUgKHNwbGl0IHdpdGggJywnKSIgZWxlbWVudD0idmFyaWFibGUiPg0KPGJyPg0KDQo8bGFibGUgZm9yPSJvbmx5X2ltYWdlcyI+b25seV9pbWFnZXM8L2xhYmxlPg0KPGlucHV0IGVsZW1lbnQ9InZhcmlhYmxlIiBuYW1lPSJvbmx5X2ltYWdlcyIgdHlwZT0iY2hlY2tib3giPg0KPGJyPg0KDQo8bGFibGUgZm9yPSJzYXZlX2RhdGEiPnNhdmVfZGF0YTwvbGFibGU+DQo8aW5wdXQgZWxlbWVudD0idmFyaWFibGUiIG5hbWU9InNhdmVfZGF0YSIgdHlwZT0iY2hlY2tib3giPg0KPGJyPg0KDQoNCjxpbnB1dCBlbGVtZW50PSJ2YXJpYWJsZSIgbmFtZT0ibGltaXQiIHBsYWNlaG9sZGVyPSJudW1iZXI6IGxpbWl0IiB2YWx1ZT0iMTAiPg0KPGJyPg=="}